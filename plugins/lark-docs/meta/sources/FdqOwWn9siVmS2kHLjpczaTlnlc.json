{
  "creator": "ou_e55a208a81fc721928685fc3df9cb678",
  "has_child": false,
  "node_create_time": "1700633960",
  "node_token": "FdqOwWn9siVmS2kHLjpczaTlnlc",
  "node_type": "origin",
  "obj_create_time": "1700633960",
  "obj_edit_time": "1700736660",
  "obj_token": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
  "obj_type": "docx",
  "origin_node_token": "FdqOwWn9siVmS2kHLjpczaTlnlc",
  "origin_space_id": "7167193056431783939",
  "owner": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_node_token": "XgeZwPIUki3KbTkzTWHcFRvPnfg",
  "space_id": "7167193056431783939",
  "title": "Upsert Entity",
  "slug": "upsert-entities",
  "blocks": {
    "items": [
      {
        "block_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "block_type": 1,
        "children": [
          "SUnNdeOD6otjNxxSePmcqM9Znef",
          "LUZPdtsfFomKKqxl93Tcs2QMn7g",
          "Z04RdtBsgoYSlPxFF97c7IHbned",
          "CMDddYyI5oykG2xsx8WcsYjvnpZ",
          "YeNLdVGpto3GiJxa5jkc0Obansg",
          "WleqdMg1MoxrnextBqccpQhCnQd",
          "AYWqdzf8josFq6xhbbEcf6Qhnrc",
          "B9zad7xxpoP0mJx39yrcm2NXnwb",
          "KI6gdgGcWoQn96xcBZgc6Tjmnze",
          "Eu52dNpxAopCbMxwF4gcjbe4nCW",
          "Vid7drxPvoUegexmeWxcxsAjnvb",
          "LM4eduCvlod8nVxNXXBc5Wfqn4l",
          "EBTfdFvnQo8TnGxrY8TcoY8unEo",
          "O9l4dRPitoQSWLxA0CRcoq3LnWg",
          "TocOdC2eyoHuqwx4ktQc1QyFnSf",
          "Y9MedSzbrosIpmxQdOQc4Hc8nTe",
          "ZgIcdin3woDzFOxDsmDcm5VQnWb",
          "Opgxd6zMToThPBxbhIjclHrdnTg",
          "HZ9kdXsXUoEXTnxRh3ScMeY2n1d",
          "Jg8gdTBaXo4TKuxUBCJcqehXncg",
          "FMmhdmZW4oDghXxsGeNcDcIkn6X",
          "LyKTdXWxfocwYTxyM5TcAqMOnMc",
          "WHAJdH7mjopKjlxn9awcFTKonZe",
          "FqbpdiMVdoDpaexWefYccfxIncd",
          "MRYVdjfN7ogapJxGIRwcOBPhnyM",
          "ZRvfdDlvMoicbXxGoUEcAAPDnee",
          "VFnRdLD0jowwXDxapJHcP2p2nrh",
          "SUG2d597AoOVVfx10jAci9NEnnh",
          "ZBC7dtb1po3exoxdMcmc3duLnAe",
          "SNgLdPzkYoYJ5GxNShUcMSGunWC",
          "GfJXd2STjoRmjKxud9Jctao3nfh",
          "AXOndyHlloMcwFxyhe6cvYqPn6g",
          "Zty1dIkOooVnJ2xDQq2ceBYRnRe",
          "EXwvdl8yIoq1WcxPeQDcrhHOnig"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "Upsert",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " Entity",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "SUnNdeOD6otjNxxSePmcqM9Znef",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•åœ¨ Zilliz Cloud ä¸­è¿›è¡Œ Upsert æ“ä½œã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "LUZPdtsfFomKKqxl93Tcs2QMn7g",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æ‰€è°“ Upsertï¼Œæ˜¯æŒ‡ç»“åˆäº† Update å’Œ Insert ä¸¤ç§æ“ä½œã€‚åœ¨ Zilliz Cloud ä¸­ï¼ŒUpsert æ“ä½œä¾æ® Entity çš„ä¸»é”®æ˜¯å¦å·²åœ¨ Collection ä¸­å­˜åœ¨ï¼Œæ¥å†³å®šæ˜¯æ’å…¥æ–°çš„ Entity è¿˜æ˜¯æ›´æ–°ç°æœ‰çš„ Entityã€‚å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Z04RdtBsgoYSlPxFF97c7IHbned",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "è‹¥ Entity çš„ä¸»é”®å·²åœ¨ Collection ä¸­ï¼ŒåŸæœ‰çš„ Entity ä¼šè¢«æ–°æ•°æ®è¦†ç›–ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "CMDddYyI5oykG2xsx8WcsYjvnpZ",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "è‹¥ä¸»é”®åœ¨ Collection ä¸­ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæ·»åŠ ä¸€ä¸ªå…¨æ–°çš„ Entityã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "YeNLdVGpto3GiJxa5jkc0Obansg",
        "block_type": 34,
        "children": [
          "REnvdzjF6obVQKx1TpZcdwQ8nIh",
          "ChJudR8pAoHU5Txb59dcj13Tn0b"
        ],
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "quote_container": {}
      },
      {
        "block_id": "REnvdzjF6obVQKx1TpZcdwQ8nIh",
        "block_type": 2,
        "parent_id": "YeNLdVGpto3GiJxa5jkc0Obansg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ğŸ“˜ è¯´æ˜",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "ChJudR8pAoHU5Txb59dcj13Tn0b",
        "block_type": 2,
        "parent_id": "YeNLdVGpto3GiJxa5jkc0Obansg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ç›®å‰ï¼ŒUpsert åŠŸèƒ½å¤„äº Beta æµ‹è¯•é˜¶æ®µã€‚è¯·æ³¨æ„ï¼Œè¯¥åŠŸèƒ½åŠç›¸å…³æ–‡æ¡£åœ¨ Beta æµ‹è¯•æœŸé—´å¯èƒ½ä¼šæœ‰æ‰€æ›´æ”¹ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "WleqdMg1MoxrnextBqccpQhCnQd",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "å¼€å§‹å‰{#before-you-start}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "AYWqdzf8josFq6xhbbEcf6Qhnrc",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨æ‰§è¡Œ Upsert æ“ä½œå‰ï¼Œè¯·ç¡®ä¿ä»¥ä¸‹å‡ ç‚¹ï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "B9zad7xxpoP0mJx39yrcm2NXnwb",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "æ‚¨çš„é›†ç¾¤å·²å‡çº§è‡³ Beta ç‰ˆæœ¬ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "KI6gdgGcWoQn96xcBZgc6Tjmnze",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "æ‚¨å·²ä¸‹è½½äº†ç¤ºä¾‹æ•°æ®é›†ï¼Œæ›´å¤šè¯¦æƒ…å‚è§",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "ç¤ºä¾‹æ•°æ®é›†",
                "token": "ZoXbwP8hJivPw2ktsLrckw0Snif",
                "url": "https://zilliverse.feishu.cn/wiki/ZoXbwP8hJivPw2ktsLrckw0Snif"
              }
            },
            {
              "text_run": {
                "content": "ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "Eu52dNpxAopCbMxwF4gcjbe4nCW",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "æ‚¨å·²æ ¹æ®ç¤ºä¾‹æ•°æ®é›†åˆ›å»ºäº†ç›¸åº” Schema çš„ Collectionï¼Œå¹¶ä¸”è¯¥ Collection å·²å®Œæˆç´¢å¼•æ„å»ºåŠåŠ è½½ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è§",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "å¼€å¯åŠ¨æ€ Schema",
                "token": "EpHowtn3miepTyk2pNlcLwDonyD",
                "url": "https://zilliverse.feishu.cn/wiki/EpHowtn3miepTyk2pNlcLwDonyD"
              }
            },
            {
              "text_run": {
                "content": "ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "Vid7drxPvoUegexmeWxcxsAjnvb",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "å‡†å¤‡æ•°æ®{#prepare-data}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "LM4eduCvlod8nVxNXXBc5Wfqn4l",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†å¯¹ç¤ºä¾‹æ•°æ®é›†ä¸­çš„ Entity è¿›è¡Œ Upsert æ“ä½œã€‚æ‚¨å¯ä»¥ç”¨ä»¥ä¸‹ä»£ç æ¥å¤„ç†æ•°æ®ï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "EBTfdFvnQo8TnGxrY8TcoY8unEo",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# (Continued)\n\nimport json\n\nDATASET_PATH=\"../medium_articles_2020_dpr.json\" # Set your dataset path\n\nwith open('medium_articles_2020_dpr.json') as f:\n    data = json.load(f)\n    data_to_upsert = data[\"rows\"][:100]\n\nprint(rows[0])\n\n# Prepare a list of rows\nwith open(DATASET_PATH) as f:\n    data = json.load(f)\n    rows = data['rows']\n\nprint(rows[:3])\n\n# Output\n#\n# [\n#     {\n#         \"id\": 0,\n#         \"title\": \"The Reported Mortality Rate of Coronavirus Is Not Important\",\n#         \"title_vector\": [\n#             0.041732933,\n#             0.013779674,\n#             -0.027564144,\n#             -0.013061441,\n#             0.009748648,\n#             0.00082446384,\n#             -0.00071647146,\n#             0.048612226,\n#             -0.04836573,\n#             -0.04567751,\n#             \"(758 more items hidden)\"\n#         ],\n#         \"link\": \"https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912\",\n#         \"reading_time\": 13,\n#         \"publication\": \"The Startup\",\n#         \"claps\": 1100,\n#         \"responses\": 18\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "O9l4dRPitoQSWLxA0CRcoq3LnWg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "const fs = require('fs');\nconst data_file = `./medium_articles_2020_dpr.json`\n\nasync function main () {\n\n    // (Continued)\n    \n    const data = JSON.parse(fs.readFileSync(data_file, \"utf8\"))\n\n    // read rows\n    const rows = data[\"rows\"]\n    const row = rows[0]\n\n    console.log(Object.keys(row))\n\n    // Output\n    // \n    // [\n    //   'id',\n    //   'title',\n    //   'title_vector',\n    //   'link',\n    //   'reading_time',\n    //   'publication',\n    //   'claps',\n    //   'responses'\n    // ]\n    //     \n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 30,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "TocOdC2eyoHuqwx4ktQc1QyFnSf",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "public final class UseCustomizedSchemaDemo  {\n    public static void main(String[] args) {\n        \n        // (Continued)\n        \n        String data_file = \"../medium_articles_2020_dpr.json\";\n        \n        String content;\n\n        // read a local file\n        Path file = Path.of(data_file);\n        try {\n            content = Files.readString(file);\n        } catch (Exception e) {\n            System.err.println(\"Failed to read file: \" + e.getMessage());\n            return;\n        }\n\n        System.out.println(\"Successfully read file\");\n\n        // Output:\n        // Successfully read file\n        \n        // Load dataset\n        JSONObject dataset = JSON.parseObject(content);\n        List<JSONObject> rows = getRows(dataset.getJSONArray(\"rows\"), 5979);\n        \n        // Also, you can get fields from dataset and insert them\n        // List<Field> fields = getFields(dataset.getJSONArray(\"rows\"), 5979);\n    }\n    \n    public static List<JSONObject> getRows(JSONArray dataset, int counts) {\n        List<JSONObject> rows = new ArrayList<JSONObject>();\n        for (int i = 0; i < counts; i++) {\n            JSONObject row = dataset.getJSONObject(i);\n            List<Float> vectors = row.getJSONArray(\"title_vector\").toJavaList(Float.class);\n            Long reading_time = row.getLong(\"reading_time\");\n            Long claps = row.getLong(\"claps\");\n            Long responses = row.getLong(\"responses\");\n            row.put(\"title_vector\", vectors);\n            row.put(\"reading_time\", reading_time);\n            row.put(\"claps\", claps);\n            row.put(\"responses\", responses);\n            row.remove(\"id\");\n            rows.add(row);\n        }\n        return rows;\n    }\n\n    public static List<Field> getFields(JSONArray dataset, int counts) {\n        List<Field> fields = new ArrayList<Field>();\n        List<String> titles = new ArrayList<String>();\n        List<List<Float>> title_vectors = new ArrayList<List<Float>>();\n        List<String> links = new ArrayList<String>();\n        List<Long> reading_times = new ArrayList<Long>();\n        List<String> publications = new ArrayList<String>();\n        List<Long> claps_list = new ArrayList<Long>();\n        List<Long> responses_list = new ArrayList<Long>();\n\n        for (int i = 0; i < counts; i++) {\n            JSONObject row = dataset.getJSONObject(i);\n            titles.add(row.getString(\"title\"));\n            title_vectors.add(row.getJSONArray(\"title_vector\").toJavaList(Float.class));\n            links.add(row.getString(\"link\"));\n            reading_times.add(row.getLong(\"reading_time\"));\n            publications.add(row.getString(\"publication\"));\n            claps_list.add(row.getLong(\"claps\"));\n            responses_list.add(row.getLong(\"responses\"));\n        }\n\n        fields.add(new Field(\"title\", titles));\n        fields.add(new Field(\"title_vector\", title_vectors));\n        fields.add(new Field(\"link\", links));\n        fields.add(new Field(\"reading_time\", reading_times));\n        fields.add(new Field(\"publication\", publications));\n        fields.add(new Field(\"claps\", claps_list));\n        fields.add(new Field(\"responses\", responses_list));\n\n        return fields;        \n    }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 29,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "Y9MedSzbrosIpmxQdOQc4Hc8nTe",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# read the first 100 records from the dataset\ndata=\"$(cat path/to/medium_articles_2020_dpr.json \\\n        | jq '.rows' \\\n        | jq '.[1:100]' \\\n        | jq -r '.[] | . + {\"vector\": .title_vector} | del(.title_vector) | del(.id)' \\\n        | jq -s -c '.')\"\n        \n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 7,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "ZgIcdin3woDzFOxDsmDcm5VQnWb",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Upsert æ•°æ®{#upsert-data}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "Opgxd6zMToThPBxbhIjclHrdnTg",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æ•°æ®å‡†å¤‡å®Œæ¯•åï¼Œå¯ä½¿ç”¨ä»¥ä¸‹ä»£ç å°†å…¶ Upsert è‡³ Collectionï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "HZ9kdXsXUoEXTnxRh3ScMeY2n1d",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# upsert entities\n# MilvusClient does not support upsert yet.\nfrom pymilvus import Collection\n# upsert data\nresult = collection.upsert(data_to_upsert)\n\n# flush data into memory\ncollection.flush()\n\nprint(f\"Data upserted successfully! Upserted rows: {result.upsert_count}\")\n\n# Output:\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# Data upserted successfully! Upserted rows: 100",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "Jg8gdTBaXo4TKuxUBCJcqehXncg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "async function main () {\n\n    // (Continued)\n    \n    //insert vectors\n    res = await client.upsert({\n        collection_name: collectionName,\n        data: rows.slice(1, 1000)\n    })\n\n    console.log(res)\n\n    // Output\n    // \n    // {\n    //   succ_index: [\n    //      0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11,\n    //     12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n    //     24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n    //     36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\n    //     48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\n    //     60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71,\n    //     72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83,\n    //     84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\n    //     96, 97, 98, 99,\n    //     ... 899 more items\n    //   ],\n    //   err_index: [],\n    //   status: { error_code: 'Success', reason: '', code: 0 },\n    //   IDs: { int_id: { data: [Array] }, id_field: 'int_id' },\n    //   acknowledged: false,\n    //   insert_cnt: '999',\n    //   delete_cnt: '999',\n    //   upsert_cnt: '999',\n    //   timestamp: '445315186586025986'\n    // }\n    // \n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 30,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "FMmhdmZW4oDghXxsGeNcDcIkn6X",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "import io.milvus.param.*;\nimport io.milvus.response.MutationResultWrapper;\nimport io.milvus.grpc.MutationResult;\n\npublic class UseCustomizedSchemaDemo \n{\n    public static void main( String[] args )\n    {\n        // (Continued)\n        \n        UpsertParam upsertParam = UpsertParam.newBuilder()\n            .withCollectionName(collectionName)\n            .withRows(rows)\n            // .withFields(fields)\n            .build();\n\n        R<MutationResult> upsertResponse = client.upsert(upsertParam);\n\n        if (upsertResponse.getStatus() != R.Status.Success.getCode()) {\n            System.err.println(upsertResponse.getMessage());\n        }\n\n        MutationResultWrapper mutationResultWrapper = new MutationResultWrapper(upsertResponse.getData());\n\n        System.out.println(\"Successfully insert entities: \" + mutationResultWrapper.getInsertCount());  \n\n        // Output:\n        // Successfully insert entities: 100\n    }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 29,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "LyKTdXWxfocwYTxyM5TcAqMOnMc",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# insert record \ncurl --request POST \\\n     --url \"${PUBLIC_ENDPOINT}/v1/vector/upsert\" \\\n     --header \"Authorization: Bearer ${TOKEN}\" \\\n     --header 'accept: application/json' \\\n     --header 'content-type: application/json' \\\n     --data \"{\n        \\\"collectionName\\\": \\\"medium_articles_2020\\\",\n        \\\"data\\\": ${data}\n    }\"\n\n# Response\n#\n# {\n#     \"code\": 200,\n#     \"data\": {\n#         \"upsertCount\": 99,\n#         \"upsertIds\": [\n#             \"442169042773493965\",\n#             \"442169042773493966\"ï¼Œ\n#             ...\n#         ]\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# }",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 7,
            "wrap": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "WHAJdH7mjopKjlxn9awcFTKonZe",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "å†™å…¥æ•°æ®{#understand-flushing-data}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "FqbpdiMVdoDpaexWefYccfxIncd",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Zilliz Cloud ä¼šè‡ªåŠ¨å­˜å‚¨å·²æ’å…¥çš„æ•°æ®ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "MRYVdjfN7ogapJxGIRwcOBPhnyM",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ•°æ®æ’å…¥æ— éœ€åˆ»æ„è°ƒç”¨ ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "flush()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "API",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ã€‚ä½†å¦‚æœæ‚¨éœ€è¦ç«‹å³å¯¹æ–°æ’å…¥çš„æ•°æ®è¿›è¡Œæœç´¢ï¼Œå¯ä»¥è€ƒè™‘æ‰§è¡Œ ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "flush()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " æ“ä½œã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "ZRvfdDlvMoicbXxGoUEcAAPDnee",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "flush()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " ä¸»è¦ç”¨äºæ•´ç†å’Œå¤„ç†æ•°æ®ç‰‡æ®µï¼Œç¡®ä¿æ‚¨æœ€æ–°æ·»åŠ çš„ Entity èƒ½å¤Ÿç«‹å³è¢«æ£€ç´¢åˆ°ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥éª¤ï¼Œç”±äºæ–°æ•°æ®è¿˜æœªåŠæ—¶è¢«ç´¢å¼•ï¼Œå®ƒä»¬å¯èƒ½æš‚æ—¶ä¸ä¼šå‡ºç°åœ¨æ£€ç´¢ç»“æœä¸­ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "VFnRdLD0jowwXDxapJHcP2p2nrh",
        "block_type": 2,
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨æ— éœ€æ‰‹åŠ¨è°ƒç”¨ ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "flush()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨ä¼˜é›…åœ°å¤„ç†è¿™ä¸€è¿‡ç¨‹ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "SUG2d597AoOVVfx10jAci9NEnnh",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "ä½¿ç”¨é™åˆ¶{#limits}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "ZBC7dtb1po3exoxdMcmc3duLnAe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Upsert æ“ä½œä¸ä¼šæ›´æ–°ä¸»é”®å€¼ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "SNgLdPzkYoYJ5GxNShUcMSGunWC",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Upsert æ“ä½œä¸æ”¯æŒå¼€å¯äº† ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "autoID",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " çš„ Collectionã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "GfJXd2STjoRmjKxud9Jctao3nfh",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "ç›¸å…³æ–‡æ¡£{#related-topics}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "AXOndyHlloMcwFxyhe6cvYqPn6g",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "åˆ›å»º Collection",
                "token": "MNcZwAfV6iZxbckfKBlcmCzanti",
                "url": "https://zilliverse.feishu.cn/wiki/MNcZwAfV6iZxbckfKBlcmCzanti"
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "Zty1dIkOooVnJ2xDQq2ceBYRnRe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "å¼€å¯åŠ¨æ€ Schema",
                "token": "EpHowtn3miepTyk2pNlcLwDonyD",
                "url": "https://zilliverse.feishu.cn/wiki/EpHowtn3miepTyk2pNlcLwDonyD"
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      },
      {
        "block_id": "EXwvdl8yIoq1WcxPeQDcrhHOnig",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "ä½¿ç”¨ Partition Key",
                "token": "DrXpwhU8pixYi9kqzSBcs5TgnFd",
                "url": "https://zilliverse.feishu.cn/wiki/DrXpwhU8pixYi9kqzSBcs5TgnFd"
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BrWgdukrdoXBl2xbuyGcXbwmnQg"
      }
    ],
    "counts": 37
  }
}