{
  "creator": "ou_fbc044d19930afd389d5c369466c38b1",
  "has_child": false,
  "node_create_time": "1710496395",
  "node_token": "W81AwLbUmieD4pklJTackrpCnUe",
  "node_type": "origin",
  "obj_create_time": "1710496395",
  "obj_edit_time": "1712557067",
  "obj_token": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
  "obj_type": "docx",
  "origin_node_token": "W81AwLbUmieD4pklJTackrpCnUe",
  "origin_space_id": "7167193056431783939",
  "owner": "ou_fbc044d19930afd389d5c369466c38b1",
  "parent_node_token": "MvdrwkVYxicAebkHAUzcKtuGnag",
  "space_id": "7167193056431783939",
  "title": "Reranker",
  "slug": "reranker",
  "blocks": {
    "items": [
      {
        "block_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "block_type": 1,
        "children": [
          "UofQd8kMEoUkavxuzlncK8XtnLd",
          "LzwXdlrlcoTEjWxbUxNcVCkGnrc",
          "GCGYdNj75oZXc5xYRzYcsN9ZnGf",
          "H3CAdgZJWofN9Tx7Mp2cKeB6ndC",
          "Af3Ud67FeoykdYxn8WYcqtV3nfc",
          "TICpdto4kop8v6xfdAZcSRjenCg",
          "WD3sdHSSOoNTW1xjLYFc3QjunCb",
          "Dp0XdRRxFo2odcxEm4vcG1sgnUh",
          "SsHtd4R4RoUXJZxeajTceFjanwe",
          "BRHPdUa3SoLfCGxUn47cGQnxnQh",
          "PqDWd4KrwoaD9txFFtGcge3Unbf",
          "GxsXdRklZofO7OxWde4cmh2QnJS",
          "KhzhdQaWHogmErxmUs3c2KSmnqf",
          "MPcydZkWyofmUOxtx6Cccn1SnEe"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "Reranker",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "UofQd8kMEoUkavxuzlncK8XtnLd",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "在信息检索（Information retrieval）任务中，Reranker 可以获取粗排召回，如向量近似最近邻搜索（Approximate Nearest Neighbor，ANN）的搜索结果与查询的相关性评分，对搜索结构进行重新排序。这能够帮助提高搜索结果的整体质量，从而使大语言模型（LLM）在 RAG 流程中优先考虑与查询最相关的文档。使用 Reranker 是提高 RAG 应用程序答案质量的有效方法。需要注意的是，Reranker 的运算成本较高，因此会增加查询延迟造成更高的花费。",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "LzwXdlrlcoTEjWxbUxNcVCkGnrc",
        "block_type": 4,
        "comment_ids": [
          "7347583649024966659"
        ],
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Reranker 是什么",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "？{#what-is-reranker}",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347583649024966659"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg"
      },
      {
        "block_id": "GCGYdNj75oZXc5xYRzYcsN9ZnGf",
        "block_type": 26,
        "iframe": {
          "component": {
            "iframe_type": 8,
            "url": "https%3A%2F%2Fwww.figma.com%2Ffile%2FRb9z8tsmYYdqdultiKx7kT%2FZilliz-Diagrams%3Ftype%3Ddesign%26node-id%3D41654-1493%26mode%3Ddesign%26t%3DOTnXNGDnmP8rwLTN-4"
          }
        },
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg"
      },
      {
        "block_id": "H3CAdgZJWofN9Tx7Mp2cKeB6ndC",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Reranker 是经过训练的机器学习模型，用于更准确地评估查询文本与特定文档之间的语义相关性。成熟的信息检索系统，如网页搜索或推荐系统通常由两个阶段组成：粗排召回和精排（Reranker）。粗排召回阶段通常利用向量近似最近邻（ANN）搜索，高效地筛选大量数据集以找到相关信息，例如从数百万个选项中检索出前 20 个候选项。获取了初始检索结果后，Reranker 就会进一步根据与查询文本的相关性对排名进行修正。然后，从 Rerank 过的列表中选择一部分，比如前 5 个，最终提供质量更高的搜索结果。",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Af3Ud67FeoykdYxn8WYcqtV3nfc",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Reranker 模型在 RAG 中的作用{#using-reranker-in-rag-application}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg"
      },
      {
        "block_id": "TICpdto4kop8v6xfdAZcSRjenCg",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "RAG pipeline 一般分为两个阶段。首先是召回阶段，负责检索与用户提问相关的知识片段。然后是生成阶段，LLM 利用这些召回的知识片段生成回答。前面的知识召回阶段对于提供给 LLM 的上下文质量非常重要。在召回阶段中，Reranker 十分关键，可以提升召回效果，从而提高 RAG 应用的回答效果。",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "WD3sdHSSOoNTW1xjLYFc3QjunCb",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "下图展示了 Reranker 在 RAG pipeline 中的作用：",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Dp0XdRRxFo2odcxEm4vcG1sgnUh",
        "block_type": 26,
        "iframe": {
          "component": {
            "iframe_type": 8,
            "url": "https%3A%2F%2Fwww.figma.com%2Ffile%2FRb9z8tsmYYdqdultiKx7kT%3Ftype%3Ddesign%2527%26node-id%3D41654%3A1496"
          }
        },
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg"
      },
      {
        "block_id": "SsHtd4R4RoUXJZxeajTceFjanwe",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "什么情况下应该使用 Reranker？{#when-to-use-reranker}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg"
      },
      {
        "block_id": "BRHPdUa3SoLfCGxUn47cGQnxnQh",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "这些粗排召回阶段是从海量的数据中进行召回，要求速度快，但可以允许一定误差。因此，在实际场景中，通常采用一些快速召回方法，例如基于近似最近邻的向量搜索算法（ANN），可以多召回一些候选结果，允许存在一定错误的候选项。这一阶段通常进行非常高效，也能够得到还算不错的结果。",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "PqDWd4KrwoaD9txFFtGcge3Unbf",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "相比之下，Rerank 阶段有时不是十分必要。然而，对质量标准有严格要求的应用程序而言，可以选择集成一个 Reranker 模型以增强搜索质量，尽管这会增加计算开销并导致更长的搜索延迟。使用 Reranker 模型通常会使搜索查询的延迟增加 100 毫秒至几秒，具体取决于 topK 的大小。在粗排召回结果包含不正确或不相关文档的情况下，使用 Reranker 可以有效地将它们过滤掉，从而提高最终得到的LLM答案的质量。",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "GxsXdRklZofO7OxWde4cmh2QnJS",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "根据您所搭建的应用，您可以选择是否在 ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Search pipeline",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fzilliverse.feishu.cn%2Fwiki%2FUvarwFhiJimKxfkduyVcTOqTndb"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " 中启用 Reranker。",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "KhzhdQaWHogmErxmUs3c2KSmnqf",
        "block_type": 26,
        "iframe": {
          "component": {
            "iframe_type": 8,
            "url": "https%3A%2F%2Fwww.figma.com%2Ffile%2FRb9z8tsmYYdqdultiKx7kT%2FZilliz-Diagrams%3Ftype%3Ddesign%26node-id%3D41368-1488%26mode%3Ddesign%26t%3DOTnXNGDnmP8rwLTN-4"
          }
        },
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg"
      },
      {
        "block_id": "MPcydZkWyofmUOxtx6Cccn1SnEe",
        "block_type": 2,
        "parent_id": "PHFndCn2Eob1tlxX9XzcKnuCnOg",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      }
    ],
    "counts": 15
  }
}