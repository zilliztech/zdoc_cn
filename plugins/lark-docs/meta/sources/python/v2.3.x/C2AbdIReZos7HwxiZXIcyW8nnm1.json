{
  "created_time": "1713253607",
  "modified_time": "1713256679",
  "name": "__call__()",
  "owner_id": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_token": "NeUZfRa99lNgBfdI5UOcz02Onuf",
  "token": "C2AbdIReZos7HwxiZXIcyW8nnm1",
  "type": "docx",
  "url": "https://zilliverse.feishu.cn/docx/C2AbdIReZos7HwxiZXIcyW8nnm1",
  "blocks": {
    "items": [
      {
        "block_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "block_type": 1,
        "children": [
          "Fb4Sdg0UNoQ690xW7pUckNgwnwg",
          "JDBLdYohtoWjfkxGWNtcoYxEnbd",
          "FQXWd2NpiordWVxKlylcbHKPnTh",
          "Dg3rduPEkoHlKQxrBh0cmzdAnbb",
          "NwHfd04itoaRXxxCiQ5ciapbnPh",
          "Kb3udCdT1oGrkPxJrMMct7pMnGe",
          "EdXnd2e0YoJptJxgutfcvUdAnwc",
          "FIHHdWgcjowNrrxDF1mc5xGbnZb",
          "ZzO5dplnSoAWdNxevr3cuXm8nlh",
          "XQlOdbUpko7KLWxbvoic5zxqnGe",
          "RheUd921moO8SHxJWbicimronAx",
          "QxCHdYTyYoNFN3xeR5acA40Unnb",
          "CBBmdQnr1olEV7xT72RcXz6knlg",
          "VqMHd9mpvoDVt8xjaKDcvVflnXe",
          "QcWYdYz6UobcNrximwdcYhoJnJc",
          "JiOAd6M3jo5zP9xs30LcrEVAn2d",
          "JZrFd1qEto7jRVxgCT8cWdxOnad",
          "MlFIdBXxToUWvfx3jvCcMohdn9d",
          "DBjSdgCvgoneVfxwrb6cJB2DnQh",
          "HcA0djnpQowwfhxWjcbcLWHSnvb"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "__call__()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "Fb4Sdg0UNoQ690xW7pUckNgwnwg",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "This operation in ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "mention_doc": {
                "obj_type": 22,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "BGERerankFunction",
                "token": "GxAZd9O9gozzhExhMHWcMnXPngh",
                "url": "https://zilliverse.feishu.cn/docx/GxAZd9O9gozzhExhMHWcMnXPngh"
              }
            },
            {
              "text_run": {
                "content": " takes in a query and document strings and returns a list of ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "RerankResult",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " objects with the top k documents ranked by score.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "JDBLdYohtoWjfkxGWNtcoYxEnbd",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Request syntax",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "FQXWd2NpiordWVxKlylcbHKPnTh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Instance created\nbge_rf = BGERerankFunction()\n\n# __call__ method will be called\nbge_rf(\n    query: str,\n    documents: List[str],\n    top_k: int = 5\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ") -> List[RerankResult]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "Dg3rduPEkoHlKQxrBh0cmzdAnbb",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "PARAMETERS:",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "NwHfd04itoaRXxxCiQ5ciapbnPh",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "MVqSdCbUIocsjOxIt5Dcv0n6nxh"
        ],
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "MVqSdCbUIocsjOxIt5Dcv0n6nxh",
        "block_type": 2,
        "parent_id": "NwHfd04itoaRXxxCiQ5ciapbnPh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The query string to use for ranking.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Kb3udCdT1oGrkPxJrMMct7pMnGe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "documents",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "List[str]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "Vcgqdl4doo1E7lxKxWSci9hcnRf"
        ],
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "Vcgqdl4doo1E7lxKxWSci9hcnRf",
        "block_type": 2,
        "parent_id": "Kb3udCdT1oGrkPxJrMMct7pMnGe",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "A list of document strings that will be ranked for the given query.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "EdXnd2e0YoJptJxgutfcvUdAnwc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "top_k",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "int",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "MhRjdQJh4o8wkBxzkDucd0Whnlh"
        ],
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "MhRjdQJh4o8wkBxzkDucd0Whnlh",
        "block_type": 2,
        "parent_id": "EdXnd2e0YoJptJxgutfcvUdAnwc",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The maximum number of top ranked documents to return. Defaults to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "5",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ".",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "FIHHdWgcjowNrrxDF1mc5xGbnZb",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "RETURN TYPE:",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "ZzO5dplnSoAWdNxevr3cuXm8nlh",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "List[RerankResult]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "XQlOdbUpko7KLWxbvoic5zxqnGe",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "RETURNS:",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "RheUd921moO8SHxJWbicimronAx",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "A list of ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "RerankResult",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " objects.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "QxCHdYTyYoNFN3xeR5acA40Unnb",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "├── RerankResult\n|    └── text\n|    └── score\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "|    └── index",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 1,
            "wrap": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "CBBmdQnr1olEV7xT72RcXz6knlg",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Each ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "RerankResult",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " object contains:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "VqMHd9mpvoDVt8xjaKDcvVflnXe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "text",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": The matched document text.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "QcWYdYz6UobcNrximwdcYhoJnJc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "score",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": The score assigned to that document by the reranking model.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "JiOAd6M3jo5zP9xs30LcrEVAn2d",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "index",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": The index of the document in the original documents list.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "JZrFd1qEto7jRVxgCT8cWdxOnad",
        "block_type": 2,
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "EXCEPTIONS:",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "MlFIdBXxToUWvfx3jvCcMohdn9d",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "ImportError",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "F8iZdaCCTo9WKIxXsyVc6wUrn7f"
        ],
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "F8iZdaCCTo9WKIxXsyVc6wUrn7f",
        "block_type": 2,
        "parent_id": "MlFIdBXxToUWvfx3jvCcMohdn9d",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "This exception will be raised when the FlagEmbedding module is not installed.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "DBjSdgCvgoneVfxwrb6cJB2DnQh",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Examples",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      },
      {
        "block_id": "HcA0djnpQowwfhxWjcbcLWHSnvb",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus.model.reranker import BGERerankFunction\n\n# Define the rerank function\nbge_rf = BGERerankFunction(\n    model_name=\"BAAI/bge-reranker-v2-m3\",  # Specify the model name. Defaults to `BAAI/bge-reranker-v2-m3`.\n    device=\"cpu\" # Specify the device to use, e.g., 'cpu' or 'cuda:0'\n)\n\nquery = \"What event in 1956 marked the official birth of artificial intelligence as a discipline?\"\n\ndocuments = [\n    \"In 1950, Alan Turing published his seminal paper, 'Computing Machinery and Intelligence,' proposing the Turing Test as a criterion of intelligence, a foundational concept in the philosophy and development of artificial intelligence.\",\n    \"The Dartmouth Conference in 1956 is considered the birthplace of artificial intelligence as a field; here, John McCarthy and others coined the term 'artificial intelligence' and laid out its basic goals.\",\n    \"In 1951, British mathematician and computer scientist Alan Turing also developed the first program designed to play chess, demonstrating an early example of AI in game strategy.\",\n    \"The invention of the Logic Theorist by Allen Newell, Herbert A. Simon, and Cliff Shaw in 1955 marked the creation of the first true AI program, which was capable of solving logic problems, akin to proving mathematical theorems.\"\n]\n\nbge_rf(query, documents)\n\n# [RerankResult(text=\"The Dartmouth Conference in 1956 is considered the birthplace of artificial intelligence as a field; here, John McCarthy and others coined the term 'artificial intelligence' and laid out its basic goals.\", score=0.9911615761470803, index=1),\n#  RerankResult(text=\"In 1950, Alan Turing published his seminal paper, 'Computing Machinery and Intelligence,' proposing the Turing Test as a criterion of intelligence, a foundational concept in the philosophy and development of artificial intelligence.\", score=0.0326971950177779, index=0),\n#  RerankResult(text='The invention of the Logic Theorist by Allen Newell, Herbert A. Simon, and Cliff Shaw in 1955 marked the creation of the first true AI program, which was capable of solving logic problems, akin to proving mathematical theorems.', score=0.006514905766152258, index=3),\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "#  RerankResult(text='In 1951, British mathematician and computer scientist Alan Turing also developed the first program designed to play chess, demonstrating an early example of AI in game strategy.', score=0.0042116724917325935, index=2)]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "C2AbdIReZos7HwxiZXIcyW8nnm1"
      }
    ],
    "counts": 25
  },
  "slug": "BGE-__call__"
}