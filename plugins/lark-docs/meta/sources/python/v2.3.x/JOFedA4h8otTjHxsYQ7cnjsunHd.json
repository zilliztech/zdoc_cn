{
  "created_time": "1710499469",
  "modified_time": "1710753221",
  "name": "SentenceTransformerEmbeddingFunction",
  "owner_id": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_token": "FRtcfXVZ7lXohcdc0Q6cbKEJn1c",
  "token": "JOFedA4h8otTjHxsYQ7cnjsunHd",
  "type": "docx",
  "url": "https://zilliverse.feishu.cn/docx/JOFedA4h8otTjHxsYQ7cnjsunHd",
  "blocks": {
    "items": [
      {
        "block_id": "JOFedA4h8otTjHxsYQ7cnjsunHd",
        "block_type": 1,
        "children": [
          "MS2mdbMx5oEwQJxv7GEcrTtYn1f",
          "L81id6mRfokFafxyESbcnsFQnKd",
          "Qzdidb0fgoZnqaxIKGacR7CPn7c",
          "ECjNdY3npoSBmoxfCGucQlMvnXe",
          "DzpNdEBzJow2ogxKmwqcP8IEn2g",
          "PV3hdPFQdoYUV0x0kyjch0hin9e",
          "SUIydgmY5oVmVJxGDIwcIpksnBB",
          "O13NdbNKJo3hPWx8d42cPA5nnrc",
          "Qeg0dx5oRoiZ3txT5wockwOGnPe",
          "N4BqdeTcmoQ3mix57VycQJhMnVh",
          "NsHpdC8rio4pBPxSuJycvnPGnZd",
          "HSOddVSJmoqbZXxqkmOchx1CnXb",
          "Z6ksdmJxtoR4rYxr2ufcwO2qnaf",
          "RLuOdoGsVojpXMxvNcPcIlj6nYd",
          "Y1bAdk1lAonlunxaM1mco1vXnVf"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "SentenceTransformerEmbeddingFunction",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "MS2mdbMx5oEwQJxv7GEcrTtYn1f",
        "block_type": 2,
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "SentenceTransformerEmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " is a class in pymilvus that handles encoding text into embeddings using Sentence Transformer models to support embedding retrieval in Milvus.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "L81id6mRfokFafxyESbcnsFQnKd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "pymilvus.model.dense.SentenceTransformerEmbeddingFunction",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "Qzdidb0fgoZnqaxIKGacR7CPn7c",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Constructor",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "ECjNdY3npoSBmoxfCGucQlMvnXe",
        "block_type": 2,
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Constructs a SentenceTransformerEmbeddingFunction for common use cases.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "DzpNdEBzJow2ogxKmwqcP8IEn2g",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "SentenceTransformerEmbeddingFunction(\n    model_name: str = \"all-MiniLM-L6-v2\",\n    batch_size: int = 32,\n    query_instruction: str = \"\",\n    doc_instruction: str = \"\",\n    device: str = \"cpu\",\n    normalize_embeddings: bool = True,\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "    **",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "kwargs",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347563152529555460"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "comment_ids": [
          "7347563152529555460"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "PV3hdPFQdoYUV0x0kyjch0hin9e",
        "block_type": 2,
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "PARAMETERS:",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "SUIydgmY5oVmVJxGDIwcIpksnBB",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "model_name",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ") -",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "Ea0fdTWIvomX41x2F8pcfzZrnyf"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "Ea0fdTWIvomX41x2F8pcfzZrnyf",
        "block_type": 2,
        "parent_id": "SUIydgmY5oVmVJxGDIwcIpksnBB",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The name of the Sentence Transformer model to use for encoding. The value defaults to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "all-MiniLM-L6-v2",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ". You can use any of Sentence Transformers' pre-trained models. For a list of available models, refer to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Pretrained models",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fwww.sbert.net%2Fdocs%2Fpretrained_models.html"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ".",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "O13NdbNKJo3hPWx8d42cPA5nnrc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "batch_size",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "int",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ") -",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "YYsedN4gnoZpDVxQn5xc7KHdnVh"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "YYsedN4gnoZpDVxQn5xc7KHdnVh",
        "block_type": 2,
        "parent_id": "O13NdbNKJo3hPWx8d42cPA5nnrc",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The batch size used for the computation.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Qeg0dx5oRoiZ3txT5wockwOGnPe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "query_instruction",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ") -",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "A3PJdGtDgoPueyxkbcxcdPJDnnv"
        ],
        "comment_ids": [
          "7346878793623339011"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "A3PJdGtDgoPueyxkbcxcdPJDnnv",
        "block_type": 2,
        "comment_ids": [
          "7346878793623339011"
        ],
        "parent_id": "Qeg0dx5oRoiZ3txT5wockwOGnPe",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Prepends a contextual instruction to the query text to improve embedding quality for specific models (e.g., \"Represent the Wikipedia question for retrieving supporting documents:\").",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "N4BqdeTcmoQ3mix57VycQJhMnVh",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "doc_instruction",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ") -",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "AgEVdK1NjorkJDxInczcVHFrnYf"
        ],
        "comment_ids": [
          "7346878793623339011"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "AgEVdK1NjorkJDxInczcVHFrnYf",
        "block_type": 2,
        "comment_ids": [
          "7346878793623339011"
        ],
        "parent_id": "N4BqdeTcmoQ3mix57VycQJhMnVh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Prepends a contextual instruction to the document text to improve embedding quality for specific models (e.g., \"Represent the Wikipedia document for retrieval:\").",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346878793623339011"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "NsHpdC8rio4pBPxSuJycvnPGnZd",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "device",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ") -",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "TdzUdnC5GoM4clxnSw0cJv36nAe"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "TdzUdnC5GoM4clxnSw0cJv36nAe",
        "block_type": 2,
        "parent_id": "NsHpdC8rio4pBPxSuJycvnPGnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The device to use, with ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cpu",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " for the CPU and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cuda:n",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " for the nth GPU device.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "HSOddVSJmoqbZXxqkmOchx1CnXb",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "normalize_embeddings",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "bool",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "LEUKdunfZozl39xCe5jcMGKRnbe"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "LEUKdunfZozl39xCe5jcMGKRnbe",
        "block_type": 2,
        "parent_id": "HSOddVSJmoqbZXxqkmOchx1CnXb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Whether to normalize returned vectors to have length 1. In that case, the faster dot-product (util.dot_score) instead of cosine similarity can be used.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Z6ksdmJxtoR4rYxr2ufcwO2qnaf",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "**kwargs",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "PEVCdb954oibwVxjULjciu8bnNf"
        ],
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "PEVCdb954oibwVxjULjciu8bnNf",
        "block_type": 2,
        "parent_id": "Z6ksdmJxtoR4rYxr2ufcwO2qnaf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Allows additional keyword arguments to be passed to the model initialization. For more information, refer to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SentenceTransformer",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fgithub.com%2FUKPLab%2Fsentence-transformers%2Fblob%2Fmaster%2Fsentence_transformers%2FSentenceTransformer.py"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ".",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "RLuOdoGsVojpXMxvNcPcIlj6nYd",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Examples",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      },
      {
        "block_id": "Y1bAdk1lAonlunxaM1mco1vXnVf",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus import model\n\nsentence_transformer_ef = model.dense.SentenceTransformerEmbeddingFunction(\n    model_name='all-MiniLM-L6-v2', # Specify the model name\n    device='cpu' # Specify the device to use, e.g., 'cpu' or 'cuda:0'\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "JOFedA4h8otTjHxsYQ7cnjsunHd"
      }
    ],
    "counts": 23
  },
  "slug": "EmbeddingModels-SentenceTransformerEmbeddingFunction"
}