{
  "creator": "ou_8554528ee6e965bad56710acde1c7847",
  "has_child": false,
  "node_create_time": "1687318491",
  "node_token": "N7KvwFAe8i7XWZk5aEGchRsynJA",
  "node_type": "origin",
  "obj_create_time": "1687318491",
  "obj_edit_time": "1702888377",
  "obj_token": "IKckdE4UIodjLrxS6XccvsjInBR",
  "obj_type": "docx",
  "origin_node_token": "N7KvwFAe8i7XWZk5aEGchRsynJA",
  "origin_space_id": "7167193056431783939",
  "owner": "ou_8554528ee6e965bad56710acde1c7847",
  "parent_node_token": "B11mwdhmYiGFsck0eCYcU5wnngX",
  "space_id": "7167193056431783939",
  "title": "ä¸ Cohere é›†æˆæ­å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ",
  "slug": "question-answering-using-zilliz-cloud-and-cohere",
  "blocks": {
    "items": [
      {
        "block_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "block_type": 1,
        "children": [
          "YmIWdWP3lo86mixcQgfcndc5nOg",
          "FDNydWGXJoskWYxh5XvcyIEWnGb",
          "JNJRdmAthoDWHyx4nYEcBOilnfc",
          "A8jYdUHk7oPByuxJSPzc2LNWnTd",
          "Hy9qd1YY6omtmpxW8bucIUmXnSI",
          "Pxwmd9dDPoapeoxvd9xcRSEAnWf",
          "L0oxdV1NFoDbPkx60uRckmLJnLc",
          "PSU2dTrLNoIReoxlFoDchwL9nXe",
          "OCqEdRFV5oPenGxpFQXcKemSnrc",
          "IttpdJ56fow5yIxd9xVcMn5Enef",
          "TxZYdZWAHofti3xGmvycsYGonhg",
          "ZWzKdRNKfo8RIoxot4lckyB1nEe",
          "K2dvd65V1oyO3sx4bv0caVGFn6b",
          "NV7FdhNABoBsXoxFtBIciFz6nOb",
          "X1DxdRCqIonjQmx76iuchUv8nZg",
          "Zt4Kd2qjWo0w16xgA4jcZuY7nXg",
          "UprldDlzToefp6xBJeOcNaT2nIe",
          "P9aCdTmjVoy5e2xkT3TcbOyTnnd",
          "OSsidmibxosGLfxsuAIch34ZnLh",
          "YVWcdZ6LAo8jrhxxuKBcP6tOnbh",
          "SBkGdRDR8oBSUExor8gcnWt3nTe",
          "N0BGdl31womWaOxv6dIcgdrknTh",
          "Q5Wld8IsmowH52xcuTEchT1Sn6b",
          "C48zdwqdtogbZAxIJ75cCBk5nVb",
          "UrZ3dCyKSo9eASx7ZHVcxjbunSd",
          "EmvLdke50o7YBexTB4tcsBbxnHf",
          "RVpXdMo0EoYg8Qx0zr5c1Wcmnxd",
          "XYaMd2RwSojnUcxikIZcmJL4nfd",
          "APUPdTCsdo4cRExzU3ic1R0wnjd",
          "SaoId4QDgoqo29xFszfcUDzwnXg",
          "Vw3xdlcEeo7PUxxJHu4cLQNKnSf",
          "QTzidwTAxox96wx1izjcHWSNnHe",
          "DDy6d54FNoKCkjxR3rccJ6JinVg",
          "EkPXdN81Kos4cYxrpmvc12OAnvb"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "ä¸ Cohere é›†æˆæ­å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "YmIWdWP3lo86mixcQgfcndc5nOg",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æœ¬æ–‡å°†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Zilliz Cloud å’Œ Cohere æ­å»ºåŸºäº ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SQuAD æ•°æ®é›†",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Frajpurkar.github.io%2FSQuAD-explorer%2F"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " çš„é—®ç­”ç³»ç»Ÿã€‚å…¶ä¸­ï¼ŒZilliz Cloud è´Ÿè´£æä¾›å‘é‡æ•°æ®åº“ï¼ŒCohere è´Ÿè´£æä¾›è·å–æŒ‡å®šæ–‡å­—å‘é‡è¡¨ç¤ºçš„æ¥å£ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "FDNydWGXJoskWYxh5XvcyIEWnGb",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "å‡†å¤‡å·¥ä½œ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "{#before-you-start}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "JNJRdmAthoDWHyx4nYEcBOilnfc",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æœ¬ç¤ºä¾‹ä¸­çš„è„šæœ¬éœ€è¦å®‰è£… ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "pymilvus",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ï¼Œ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cohere",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ï¼Œ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "pandas",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ï¼Œ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "numpy",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " å’Œ ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "tqdm",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ã€‚å…¶ä¸­ï¼Œ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "pymilvus",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " æ˜¯ Zilliz Cloudçš„ Python å®¢æˆ·ç«¯ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿä¸­æ²¡æœ‰å®‰è£…å®ƒä»¬ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®Œæˆå®‰è£…ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "A8jYdUHk7oPByuxJSPzc2LNWnTd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "pip install pymilvus cohere pandas numpy tqdm openai tiktoken",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 60,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "Hy9qd1YY6omtmpxW8bucIUmXnSI",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ç„¶åï¼Œä½ å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼åŠ è½½å®ƒä»¬ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Pxwmd9dDPoapeoxvd9xcRSEAnWf",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus import connections, DataType, CollectionSchema, FieldSchema, Collection, utility\nimport cohere\nimport pandas\nimport numpy as np\nfrom tqdm import tqdm\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "import time, os, json",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "L0oxdV1NFoDbPkx60uRckmLJnLc",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "ä¸»è¦å‚æ•°",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "{#parameters}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "PSU2dTrLNoIReoxlFoDchwL9nXe",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›ç¤ºä¾‹ä¸­å°†è¦ä½¿ç”¨çš„ä¸»è¦å‚æ•°ã€‚ä½ éœ€è¦æ ¹æ®å®é™…æƒ…å†µå’Œå‚æ•°æ—çš„æ³¨é‡Šå¡«å†™æˆ–æ›¿æ¢æˆç›¸åº”çš„å†…å®¹ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "OCqEdRFV5oPenGxpFQXcKemSnrc",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 1. Set the The SQuAD dataset url.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\nFILE = 'https://rajpurkar.github.io/SQuAD-explorer/dataset/train-v2.0.json' \n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# 2. Set up the name of the collection to be created.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\nCOLLECTION_NAME = 'question_answering_db'\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# 3. Set up the dimension of the embeddings.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\nDIMENSION = 768\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# 4. Set the number of entities to create and the number of entities to insert at a time.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\nCOUNT = 5000\nBATCH_SIZE = 96\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# 5. Set up the cohere api key",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\nCOHERE_API_KEY = \"YOUR_COHERE_API_KEY\"\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# 6. Set up the connection parameters for your Zilliz Cloud cluster.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\nURI = 'YOUR_CLUSTER_ENDPOINT'\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# 7. Set up the token for your Zilliz Cloud cluster.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# You can either use an API key or a set of cluster username and password joined by a colon.",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "TOKEN = 'YOUR_CLUSTER_TOKEN'",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "IttpdJ56fow5yIxd9xVcMn5Enef",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "å…³äºæœ¬ç¤ºä¾‹ä½¿ç”¨çš„æ¨¡å‹å’Œæ•°æ®é›†ï¼Œå¯ä»¥å‚è€ƒ ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Cohere",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fcohere.ai%2F"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " å’Œ ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SQuAD",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Frajpurkar.github.io%2FSQuAD-explorer%2F"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "TxZYdZWAHofti3xGmvycsYGonhg",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "å‡†å¤‡æ•°æ®",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "{#prepare-dataset}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "ZWzKdRNKfo8RIoxot4lckyB1nEe",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨SQuADæ•°æ®é›†åšä¸ºå›ç­”é—®é¢˜çš„ä¿¡æºã€‚æ•°æ®é›†çš„åŸå§‹æ ¼å¼ä¸º",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "JSON",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "pandas",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "åŠ è½½è¯¥æ•°æ®é›†ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "K2dvd65V1oyO3sx4bv0caVGFn6b",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Download the dataset\ndataset = pandas.read_json(FILE)\n\n# Clean up the dataset by grabbing all the question answer pairs\nsimplified_records = []\nfor x in dataset['data']:\n    for y in x['paragraphs']:\n        for z in y['qas']:\n            if len(z['answers']) != 0:\n                simplified_records.append({'question': z['question'], 'answer': z['answers'][0]['text']})\n\n# Grab the amount of records based on COUNT\nsimplified_records = pandas.DataFrame.from_records(simplified_records)\nsimplified_records = simplified_records.sample(n=min(COUNT, len(simplified_records)), random_state = 42)\n\n# Check if the length of the cleaned dataset matches COUNT\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(len(simplified_records))",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "NV7FdhNABoBsXoxFtBIciFz6nOb",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ä¸Šé¢è¿™æ®µä»£ç çš„è¾“å‡ºå¦‚ä¸‹",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "X1DxdRCqIonjQmx76iuchUv8nZg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "5000",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "Zt4Kd2qjWo0w16xgA4jcZuY7nXg",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "åˆ›å»º Collection",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "{#create-a-collection}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "UprldDlzToefp6xBJeOcNaT2nIe",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æˆ‘ä»¬éœ€è¦äº‹å…ˆåœ¨ Zilliz Cloud ä¸Šå‡†å¤‡å¥½ä¸€ä¸ª Clusterã€‚åœ¨è¿™ä¸€å°èŠ‚é‡Œï¼Œæˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•åœ¨è¿™ä¸ª Cluster é‡Œåˆ›å»ºä¸€ä¸ª Collection å¹¶ä¸ºå…¶åˆ›å»ºç´¢å¼•ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "P9aCdTmjVoy5e2xkT3TcbOyTnnd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Connect to Zilliz Cloud and create a collection\n\nconnections.connect(\n    alias='default',\n    # Public endpoint obtained from Zilliz Cloud\n    uri=URI,\n    token=TOKEN\n)\n\nif COLLECTION_NAME in utility.list_collections():\n    utility.drop_collection(COLLECTION_NAME)\n\nfields = [\n    FieldSchema(name='id', dtype=DataType.INT64, is_primary=True, auto_id=True),\n    FieldSchema(name='original_question', dtype=DataType.VARCHAR, max_length=1000),\n    FieldSchema(name='answer', dtype=DataType.VARCHAR, max_length=1000),\n    FieldSchema(name='original_question_embedding', dtype=DataType.FLOAT_VECTOR, dim=DIMENSION)\n]\n\nschema = CollectionSchema(fields=fields)\n\ncollection = Collection(\n    name=COLLECTION_NAME,\n    schema=schema,\n)\n\nindex_params = {\n    'metric_type': 'L2',\n    'index_type': 'AUTOINDEX',\n    'params': {'nlist': 1024}\n}\n\ncollection.create_index(\n    field_name='original_question_embedding', \n    index_params=index_params\n)\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "collection.load()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "OSsidmibxosGLfxsuAIch34ZnLh",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "æ’å…¥æ•°æ®",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "{#insert-data}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "YVWcdZ6LAo8jrhxxuKBcP6tOnbh",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "å‘ Collection ä¸­æ’å…¥æˆ‘ä»¬å‡†å¤‡å¥½çš„æ•°æ®åˆ†ä¸ºå¦‚ä¸‹ä¸‰æ­¥ï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "SBkGdRDR8oBSUExor8gcnWt3nTe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "è¯»å–å‡†å¤‡å¥½çš„æ•°æ®é›†ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "N0BGdl31womWaOxv6dIcgdrknTh",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "è·å–æ•°æ®é›†ä¸­åŸå§‹é—®é¢˜å¯¹åº”çš„å‘é‡è¡¨ç¤ºã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "Q5Wld8IsmowH52xcuTEchT1Sn6b",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "å°†æ•°æ®æ’å…¥ä¹‹å‰åˆ›å»ºçš„ Collection ä¸­ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "C48zdwqdtogbZAxIJ75cCBk5nVb",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸€æ¡æ•°æ®éƒ½åŒ…å«ä¸€ä¸ªåŸå§‹é—®é¢˜ï¼Œè¯¥é—®é¢˜çš„å‘é‡è¡¨ç¤ºåŠå¯¹åº”çš„å›ç­”ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "UrZ3dCyKSo9eASx7ZHVcxjbunSd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Set up a Cohere client\ncohere_client = cohere.Client(COHERE_API_KEY)\n\n# Extract embeddings from questions using Cohere\ndef embed(texts, input_type):\n    res = cohere_client.embed(texts, model='multilingual-22-12', input_type=input_type)\n    return res.embeddings\n\n# Insert each question, answer, and qustion embedding\ntotal = pandas.DataFrame()\nfor batch in tqdm(np.array_split(simplified_records, (COUNT/BATCH_SIZE) + 1)):\n    questions = batch['question'].tolist()\n    embeddings = embed(questions, \"search_document\")\n    \n    data = [\n        {\n            'original_question': x,\n            'answer': batch['answer'].tolist()[i],\n            'original_question_embedding': embeddings[i]\n        } for i, x in enumerate(questions)\n    ]\n\n    collection.insert(data=data)\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "time.sleep(10)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "EmvLdke50o7YBexTB4tcsBbxnHf",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "æµ‹è¯•é—®ç­”",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "{#ask-questions}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "RVpXdMo0EoYg8Qx0zr5c1Wcmnxd",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨æˆ‘ä»¬å‘ Collection ä¸­æ’å…¥æ‰€æœ‰çš„æ•°æ®åï¼Œå°±å¯ä»¥å¼€å§‹å‘è¿™ä¸ªé—®ç­”ç³»ç»Ÿæé—®äº†ã€‚æé—®çš„è¿‡ç¨‹ä¹Ÿåˆ†ä¸ºä¸‰æ­¥ï¼Œåˆ†åˆ«æ˜¯ï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "XYaMd2RwSojnUcxikIZcmJL4nfd",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "æå‡ºé—®é¢˜",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "APUPdTCsdo4cRExzU3ic1R0wnjd",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "ä½¿ç”¨ Cohere è·å–è¯¥é—®é¢˜çš„å‘é‡è¡¨ç¤º",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "SaoId4QDgoqo29xFszfcUDzwnXg",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "ä½¿ç”¨ Zilliz Cloud å¯¹è¯¥å‘é‡è¡¨ç¤ºè¿›è¡Œç›¸ä¼¼æ€§æœç´¢",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "Vw3xdlcEeo7PUxxJHu4cLQNKnSf",
        "block_type": 34,
        "children": [
          "LyINdU9zGohCSAxffPlcvpGbnIg",
          "Jfn8dDKaSovxjWxJ3ujcyqPOnoc"
        ],
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "quote_container": {}
      },
      {
        "block_id": "LyINdU9zGohCSAxffPlcvpGbnIg",
        "block_type": 2,
        "parent_id": "Vw3xdlcEeo7PUxxJHu4cLQNKnSf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ğŸ“˜ è¯´æ˜",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Jfn8dDKaSovxjWxJ3ujcyqPOnoc",
        "block_type": 2,
        "parent_id": "Vw3xdlcEeo7PUxxJHu4cLQNKnSf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "åœ¨æ•°æ®æ’å…¥åç«‹å³è¿›è¡Œæœç´¢å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ã€‚å› ä¸ºåœ¨æ•°æ®å®Œæˆç´¢å¼•å‰ï¼ŒZilliz Cloud ä¼šä½¿ç”¨æš´åŠ›æœç´¢çš„æ–¹å¼åœ¨è¿™äº›æ•°æ®ä¸­æŸ¥æ‰¾ç›¸ä¼¼çš„ç»“æœã€‚å½“æ‰€æœ‰æ•°æ®å‡å®Œæˆç´¢å¼•åï¼Œæœç´¢é€Ÿåº¦ä¼šå˜å¿«ã€‚",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "QTzidwTAxox96wx1izjcHWSNnHe",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Search the cluster for an answer to a question text\ndef search(text, top_k = 5):\n\n    # AUTOINDEX does not require any search params \n    search_params = {}\n\n    results = collection.search(\n        data = embed([text], \"search_query\"),  # Embeded the question\n        anns_field='original_question_embedding',\n        param=search_params,\n        limit = top_k,  # Limit to top_k results per search\n        output_fields=['original_question', 'answer']  # Include the original question and answer in the result\n    )\n\n    distances = results[0].distances\n    entities = [ x.entity.to_dict()['entity'] for x in results[0] ]\n\n    ret = [ {\n        \"answer\": x[1][\"answer\"],\n        \"distance\": x[0],\n        \"original_question\": x[1]['original_question']\n    } for x in zip(distances, entities)]\n\n    return ret\n            \n\n# Ask these questions\nsearch_questions = ['What kills bacteria?', 'What\\'s the biggest dog?']\n\n# Print out the results in order of [answer, similarity score, original question]\n\nret = [ { \"question\": x, \"candidates\": search(x) } for x in search_questions ]\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(ret)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      },
      {
        "block_id": "DDy6d54FNoKCkjxR3rccJ6JinVg",
        "block_type": 2,
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "æœ¬ç¤ºä¾‹è¿”å›çš„æœç´¢ç»“æœå¦‚ä¸‹ï¼š",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "EkPXdN81Kos4cYxrpmvc12OAnvb",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Output\n#\n# [\n#     {\n#         \"question\": \"What kills bacteria?\",\n#         \"candidates\": [\n#             {\n#                 \"answer\": \"farming\",\n#                 \"distance\": 25.10422134399414,\n#                 \"original_question\": \"What makes bacteria resistant to antibiotic treatment?\"\n#             },\n#             {\n#                 \"answer\": \"converting nitrogen gas to nitrogenous compounds\",\n#                 \"distance\": 25.26958465576172,\n#                 \"original_question\": \"What do bacteria do in soil?\"\n#             },\n#             {\n#                 \"answer\": \"slowing down the multiplication of bacteria or killing the bacteria\",\n#                 \"distance\": 26.225540161132812,\n#                 \"original_question\": \"How do antibiotics work?\"\n#             },\n#             {\n#                 \"answer\": \"Phage therapy\",\n#                 \"distance\": 30.04580307006836,\n#                 \"original_question\": \"What has been talked about to treat resistant bacteria?\"\n#             },\n#             {\n#                 \"answer\": \"antibiotic target\",\n#                 \"distance\": 32.077369689941406,\n#                 \"original_question\": \"What can be absent from the bacterial genome?\"\n#             }\n#         ]\n#     },\n#     {\n#         \"question\": \"What's the biggest dog?\",\n#         \"candidates\": [\n#             {\n#                 \"answer\": \"English Mastiff\",\n#                 \"distance\": 12.71607780456543,\n#                 \"original_question\": \"What breed was the largest dog known to have lived?\"\n#             },\n#             {\n#                 \"answer\": \"part of the family\",\n#                 \"distance\": 27.21062469482422,\n#                 \"original_question\": \"Most people today describe their dogs as what?\"\n#             },\n#             {\n#                 \"answer\": \"77.5 million\",\n#                 \"distance\": 28.54041290283203,\n#                 \"original_question\": \"How many people in the United States are said to own dog?\"\n#             },\n#             {\n#                 \"answer\": \"Rico\",\n#                 \"distance\": 28.770610809326172,\n#                 \"original_question\": \"What is the name of the dog that could ID over 200 things?\"\n#             },\n#             {\n#                 \"answer\": \"about six\",\n#                 \"distance\": 31.739566802978516,\n#                 \"original_question\": \"What is the average number of pups in a litter?\"\n#             }\n#         ]\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "IKckdE4UIodjLrxS6XccvsjInBR"
      }
    ],
    "counts": 37
  }
}