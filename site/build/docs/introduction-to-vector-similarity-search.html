<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/zilliz-cloud-101/vector-database-101/introduction-to-vector-similarity-search">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">什么是向量相似性搜索？ | Zilliz Cloud 开发指南</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.zilliz.com.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.zilliz.com.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.zilliz.com.cn/docs/introduction-to-vector-similarity-search"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="什么是向量相似性搜索？ | Zilliz Cloud 开发指南"><meta data-rh="true" name="description" content="欢迎回到向量数据库 101 系列教程。"><meta data-rh="true" property="og:description" content="欢迎回到向量数据库 101 系列教程。"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.zilliz.com.cn/docs/introduction-to-vector-similarity-search"><link data-rh="true" rel="alternate" href="https://docs.zilliz.com.cn/docs/introduction-to-vector-similarity-search" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://docs.zilliz.com.cn/docs/introduction-to-vector-similarity-search" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9863d5c3.css">
<link rel="preload" href="/assets/js/runtime~main.41d2cdf3.js" as="script">
<link rel="preload" href="/assets/js/main.45ab7aea.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Zilliz Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Zilliz Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a href="https://zilliz.com.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-link">产品<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://zilliz.com.cn/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-link">定价<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">资源中心</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/zilliz-cloud-101">文档</a></li><li><a href="https://zilliz.com.cn/blog" target="_blank" rel="noopener noreferrer" class="dropdown__link">博客<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/zilliztech/" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://zilliz.com.cn/resources" target="_blank" rel="noopener noreferrer" class="dropdown__link">白皮书和教程<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://zilliz.com.cn/product/open-source-vector-database" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-link">开源项目<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://zilliz.com.cn/partners" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-link">合作伙伴<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">公司</a><ul class="dropdown__menu"><li><a href="https://zilliz.com.cn/about" target="_blank" rel="noopener noreferrer" class="dropdown__link">关于我们<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://app.careerpuck.com/page/zilliz-rxles" target="_blank" rel="noopener noreferrer" class="dropdown__link">招贤纳士<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://zilliz.com.cn/news" target="_blank" rel="noopener noreferrer" class="dropdown__link">新闻中心<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://zilliz.com.cn/event" target="_blank" rel="noopener noreferrer" class="dropdown__link">活动<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://zilliz.com.cn/contact" target="_blank" rel="noopener noreferrer" class="dropdown__link">联系我们<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/zilliz-cloud-101">Zilliz Cloud 101</a><button aria-label="打开/收起侧边栏菜单「Zilliz Cloud 101」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/quick-start">从这里开始</a><button aria-label="打开/收起侧边栏菜单「从这里开始」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/starter-user-guides">快速入门</a><button aria-label="打开/收起侧边栏菜单「快速入门」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/concepts">了解向量数据库</a><button aria-label="打开/收起侧边栏菜单「了解向量数据库」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/resource-planning">资源规划指南</a><button aria-label="打开/收起侧边栏菜单「资源规划指南」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/vector-database-101">深度阅读</a><button aria-label="打开/收起侧边栏菜单「深度阅读」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction-to-unstructured-data">什么是非结构化数据？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-is-a-vector-database">什么是向量数据库？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/introduction-to-vector-similarity-search">什么是向量相似性搜索？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/vector-index-basics-and-the-inverted-file-index">向量索引概览与 IVF 索引</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scalar-quantization-and-product-quantization">标量量化与乘积量化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hierarchical-navigable-small-world-hnsw">HNSW</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ai-models-integration">AI 模型集成</a><button aria-label="打开/收起侧边栏菜单「AI 模型集成」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/advanced-user-guides">高级用户指南</a><button aria-label="打开/收起侧边栏菜单「高级用户指南」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/migration-and-data-import">数据迁移与导入</a><button aria-label="打开/收起侧边栏菜单「数据迁移与导入」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/release-notes">版本说明书</a><button aria-label="打开/收起侧边栏菜单「版本说明书」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/faqs">常见问题</a><button aria-label="打开/收起侧边栏菜单「常见问题」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/zilliz-cloud-101"><span itemprop="name">Zilliz Cloud 101</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/vector-database-101"><span itemprop="name">深度阅读</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">什么是向量相似性搜索？</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>什么是向量相似性搜索？</h1><p>欢迎回到向量数据库 101 系列教程。</p><p>之前的教程中，我们介绍了非结构化数据、向量数据库和 Milvus——全球最受欢迎的开源向量数据库。我们还简单介绍了 Embedding 的相关概念，它代表高维向量，可以用作非结构化数据的语义表示，彼此临近的 Embedding 代表语义上是相似的。</p><p>本教程中，我们将在这些知识的基础上，通过单词 Embedding 的例子，看看语义相似的非结构化数据是如何相邻的，而不相似的非结构化数据是如何相互“远离”的。这属于近邻搜索的高层次概述，是一个计算问题，涉及到根据统一的距离度量来寻找与查询向量最接近的向量。我们会讨论一些主流的近邻搜索方法（包括我最喜欢的 ANNOY），以及常用的距离度量。</p><p>我们开始吧。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparing-embeddings">比较 Embedding<a href="#comparing-embeddings" class="hash-link" aria-label="比较 Embedding的直接链接" title="比较 Embedding的直接链接">​</a></h2><p>我们来看下几个词的 Embedding 向量的示例。下面例子中，我们将使用 <code>word2vec</code>，它这是一个古老的模型，使用了基于 <strong>skipgrams</strong> 的训练方法。虽然 BERT 和其他基于转换器的现代模型能够提供更多的语境化词汇 Embedding，但为了简单起见，我们还是使用 <code>word2vec</code>。如果您想了解更多信息，Jay Alammar 提供了一篇关于 <code>word2vec</code> 的<a href="https://jalammar.github.io/illustrated-word2vec/" target="_blank" rel="noopener noreferrer">超棒的教程</a>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="some-prep-work">准备工作<a href="#some-prep-work" class="hash-link" aria-label="准备工作的直接链接" title="准备工作的直接链接">​</a></h3><p>开始前，我们需要安装 <code>gensim</code> 库。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> gensim --disable-pip-version-check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">https://s3.amazonaws.com/dl4j-distribution/GoogleNews-vectors-negative300.bin.gz</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gunzip GoogleNews-vectors-negative300.bin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后，按如下方式加载 <code>word2vec</code> 模型。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gensim</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> KeyedVectors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> KeyedVectors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load_word2vec_format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;GoogleNews-vectors-negative300.bin&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> binary</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-0-marlon-brando">示例 0：Marlon Brando<a href="#example-0-marlon-brando" class="hash-link" aria-label="示例 0：Marlon Brando的直接链接" title="示例 0：Marlon Brando的直接链接">​</a></h3><p>让我们看看 <code>word2vec</code> 如何将著名演员 Marlon Brando 转换为向量。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">most_similar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">positive</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Marlon_Brando&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其对应的向量表示如下：</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Brando&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.757453978061676</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Humphrey_Bogart&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.6143958568572998</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;actor_Marlon_Brando&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.6016287207603455</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Al_Pacino&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5675410032272339</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Elia_Kazan&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5594002604484558</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Steve_McQueen&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5539456605911255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Marilyn_Monroe&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5512186884880066</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Jack_Nicholson&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5440199375152588</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Shelley_Winters&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5432392954826355</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Apocalypse_Now&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5306933522224426</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Marlon Brando 曾与 Al Pacino 一起出演《教父》，与 Elia Kazan 一起出演《欲望号街车》。他还主演了《现代启示录》。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1-if-all-of-the-kings-had-their-queens-on-the-throne">示例 1：国王与<strong>王后</strong><a href="#example-1-if-all-of-the-kings-had-their-queens-on-the-throne" class="hash-link" aria-label="example-1-if-all-of-the-kings-had-their-queens-on-the-throne的直接链接" title="example-1-if-all-of-the-kings-had-their-queens-on-the-throne的直接链接">​</a></h3><p>向量可以相互加减，以演示潜在的语义变化。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">most_similar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">positive</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;king&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;woman&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> negative</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;man&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> topn</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>从下方输出可以看出，<code>queen</code> 在语义上应该是 <code>king</code> 减去 <code>men</code> 的结果。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;queen&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7118193507194519</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>谁说工程师不能在闲暇时享受舞蹈和流行音乐呢？</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2-apple-the-company-the-fruit-or-both">示例 2：Apple，水果还是公司<a href="#example-2-apple-the-company-the-fruit-or-both" class="hash-link" aria-label="示例 2：Apple，水果还是公司的直接链接" title="示例 2：Apple，水果还是公司的直接链接">​</a></h3><p>“Apple” 一词既可以指公司，也可以指美味的红色水果。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">most_similar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">positive</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;samsung&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;iphone&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> negative</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;apple&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> topn</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">most_similar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">positive</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;fruit&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> topn</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在上面这个例子中，我们可以看到 Word2Vec 保留了两个含义。</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;droid_x&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.6324754953384399</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.6410146951675415</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>“Droid” 指的是三星首款 4G LTE 智能手机（“Samsung” + “iPhone” - “Apple” = “Droid”），而 “apple” 是与 “fruit” 相似度最高的第十个单词。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vector-search-strategies">向量搜索策略<a href="#vector-search-strategies" class="hash-link" aria-label="向量搜索策略的直接链接" title="向量搜索策略的直接链接">​</a></h2><p>既然我们已经看到了 Embedding 的强大，下面我们简要地看一下实现最近邻搜索的方法。这不是全面的清单，我们只是介绍一些常见的方法，以说明如何大规模进行向量搜索。有的方法之间可能并不相互排斥，比如，可以将量化与空间划分结合起来使用。</p><p>我们还会在未来的教程中详细介绍这些方法，请持续关注。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linear-search">线性搜索<a href="#linear-search" class="hash-link" aria-label="线性搜索的直接链接" title="线性搜索的直接链接">​</a></h3><p>最简单的最近邻搜索算法是老式线性搜索，计算指定查询向量与向量数据库中其他向量的距离。</p><p>显而易见，当我们试图将向量数据库扩展到数千万或数亿个向量时，老式搜索是行不通的。但是，如果数据库中的元素较少，这实际上是执行向量搜索的最有效方式，因为不需要为索引建立单独的数据结构，插入和删除操作也都可以容易地实现。</p><p>由于老式搜索缺乏空间复杂性以及与之相关的常数空间开销，即使进行适当数量的向量查询时，该方法的性能也好过分片。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="space-partitioning">分片<a href="#space-partitioning" class="hash-link" aria-label="分片的直接链接" title="分片的直接链接">​</a></h3><p>分片不是单个算法，而是一组使用相同概念的算法。</p><p>K 维树（kd-trees）可能是这个系列中最有名的，它的工作原理是以类似于二进制搜索树的方式不断地将搜索空间一分为二（将向量分成“左”和“右”两桶）。</p><p>倒置文件索引（IVF）也是一种分片形式，它的工作原理是将每个向量分配给其最近的中心点，然后通过首先确定查询向量的最近中心点并围绕该中心点进行搜索，这样就大大减少了需要搜索的向量数。IVF 是一种相当流行的索引策略，通常与其他索引算法相结合以提高性能。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="quantization">量化<a href="#quantization" class="hash-link" aria-label="量化的直接链接" title="量化的直接链接">​</a></h3><p>量化是一种通过减少向量的精度来减少数据总量的技术。</p><p>例如，标量量化通过将高精度浮点向量与标量值相乘，然后将结果向量的元素转换为最接近的整数。这不仅减少了整个数据库的有效大小（例如，从 <code>float64_t</code> 转换为 <code>int8_t</code>），而且还有另一个作用，即加速向量间的距离计算。</p><p>乘积量化是另一种量化技术，类似于字典压缩。在乘积量化中，所有向量都被分成等大小的子向量，然后每个子向量被一个中心点替换。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hierarchical-navigable-small-worlds-hnsw">HNSW<a href="#hierarchical-navigable-small-worlds-hnsw" class="hash-link" aria-label="HNSW的直接链接" title="HNSW的直接链接">​</a></h3><p>Hierarchical Navigable Small Worlds（HNSW) 是一种基于图的索引和检索算法。</p><p>它与乘积量化不同。HNSW 从原始数据中创建多层图，上层仅包含“长连接”，而下层仅包含数据库中向量之间的“短连接”（可参见下一节，了解向量距离度量的概述）。单个图的连接是按照跳过列表的方式创建的。</p><p>有了这个结构，搜索变得非常简单。我们遍历最上层的图（具有最长的向量连接）以找到最接近查询向量的向量。然后，我们对第二层执行相同的操作，使用第一层搜索的结果作为起点。这样一直持续到我们完成最底层的搜索，最后的结果成为查询向量的最近邻向量。</p><p><img loading="lazy" alt="Ev3YbKgo0ofqljxp0gXc6woTn6g" src="/assets/images/Ev3YbKgo0ofqljxp0gXc6woTn6g-5d6919eb00686f6f1e07eb64f07615dc.png" width="750" height="542" class="img_ev3q"></p><p>（来源：<a href="https://github.com/spotify/annoy%EF%BC%89" target="_blank" rel="noopener noreferrer">https://github.com/spotify/annoy）</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="approximate-nearest-neighbors-oh-yeah">ANNOY<a href="#approximate-nearest-neighbors-oh-yeah" class="hash-link" aria-label="ANNOY的直接链接" title="ANNOY的直接链接">​</a></h3><p>这可能是我最喜欢的 ANN 算法，仅仅是因为它俏皮且不直观的名字。Approximate Nearest Neighbors Oh Yeah（ANNOY）是一种基于树的算法，由 Spotify 推广，用于他们的音乐推荐系统。尽管名字很怪，ANNOY 背后的基本概念实际上相当简单——二进制树。</p><p>ANNOY 的工作方式是，首先在数据库中随机选择两个向量，然后沿着分隔这两个向量的超平面将搜索空间一分为二。这样反复进行，直到每个节点的数量少于某个预定义的参数 <code>NUM_MAX_ELEMS</code>。由于得到的索引基本上是一棵二进制树，这使得我们可以在 O(log n) 复杂度上进行搜索。</p><p><img loading="lazy" alt="V1OrbTRKWoH2ecx6rYdcyFw8n6d" src="/assets/images/V1OrbTRKWoH2ecx6rYdcyFw8n6d-e11d5b712da68646bf0f097a574f2afe.png" width="750" height="500" class="img_ev3q"></p><p>（来源：<a href="https://github.com/spotify/annoy%EF%BC%89" target="_blank" rel="noopener noreferrer">https://github.com/spotify/annoy）</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="commonly-used-similarity-metrics">常用的相似性度量<a href="#commonly-used-similarity-metrics" class="hash-link" aria-label="常用的相似性度量的直接链接" title="常用的相似性度量的直接链接">​</a></h2><p>如果没有相似性度量——计算两个向量之间距离的方法，再好的向量数据库也没有用。因为存在许多度量，我们在这里只讨论最常用的子集。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="floating-point-vector-similarity-metrics">浮点向量相似性度量<a href="#floating-point-vector-similarity-metrics" class="hash-link" aria-label="浮点向量相似性度量的直接链接" title="浮点向量相似性度量的直接链接">​</a></h3><p>最常见的浮点向量相似性度量，不分先后，有 L1 距离、L2 距离和余弦相似度。前两个值是距离度量，较低的值意味着更多的相似性，而较高的值则意味着较低的相似性；余弦相似度是一种相似性度量，较高的值意味着更多的相似性。</p><p><img loading="lazy" alt="GuW2bQe3Po3bDnxfZa9ckVjonxf" src="/assets/images/GuW2bQe3Po3bDnxfZa9ckVjonxf-96fd6a6d39b68250646795d729494cc4.png" width="708" height="304" class="img_ev3q"></p><p>L1 距离通常也被称为曼哈顿距离，因从曼哈顿的 A 点到 B 点需要沿两个垂直方向中的一个移动而被恰当地命名。第二个方程，即 L2 距离，只是两个向量在欧几里得空间中的距离。第三个也是最后一个等式是余弦距离，相当于两个向量之间角度的余弦。注意，余弦相似性的方程式是输入向量 a 和 b 的归一化版本之间的点积。</p><p>通过一些数学运算，我们可以论证，涉及到单位规范向量的相似性排名时，L2 距离和余弦相似性实际上是等同的：</p><p><img loading="lazy" alt="XkDkbhJWWowxV5xsxyZcE4bOnOx" src="data:image/png;base64,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" width="707" height="76" class="img_ev3q"></p><p>回顾一下，单位规范向量的大小为 1：</p><p><img loading="lazy" alt="Tt8fbOK9Po42uxxjgNDcVUjbnHc" src="data:image/png;base64,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" width="707" height="79" class="img_ev3q"></p><p>有了这个，我们就可以得到：</p><p><img loading="lazy" alt="BL2cbp5Ivo29t3xpyyPch6GLnYd" src="data:image/png;base64,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" width="682" height="76" class="img_ev3q"></p><p>由于我们有单位规范的向量，余弦距离可以算作是 a 和 b 之间的点积（上面公式 3 的分母可以算作 1）：</p><p><img loading="lazy" alt="FgxpbKyLjoBDVLxyGAScvF9jnUh" src="data:image/png;base64,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" width="670" height="75" class="img_ev3q"></p><p>从本质上讲，对于单位规范向量来说，L2 距离和余弦相似性在功能上是等价的。一定要记住对 Embedding 进行标准化处理。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="binary-vector-similarity-metrics">二进制向量相似性度量<a href="#binary-vector-similarity-metrics" class="hash-link" aria-label="二进制向量相似性度量的直接链接" title="二进制向量相似性度量的直接链接">​</a></h3><p>二进制向量，正如其名称所示，没有基于算术的度量，如浮点向量。二进制向量的相似性度量依赖于集合算术、位操作或两者的结合（没关系，我也讨厌离散数学）。下面是两个常用的二进制向量相似性度量的公式：</p><p><img loading="lazy" alt="Z6bybRUmloWYd9x0prAckYpenWd" src="/assets/images/Z6bybRUmloWYd9x0prAckYpenWd-78180415f809611497da1fff8f037b2b.png" width="697" height="203" class="img_ev3q"></p><p>第一个方程称为 Tanimoto / Jaccard 距离，基本上是衡量两个二进制向量之间的重叠量。第二个等式是 Hamming 距离，是对 a 和 b 中不同的向量元素数量的统计。</p><p>你可以忽略这些相似性度量，因为大多数应用都使用余弦相似度，而不是浮点 Embedding。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">总结<a href="#summary" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h2><p>本教程中，我们了解了向量相似性搜索，以及一些常见的向量搜索算法和距离度量。这里有一些主要的收获：</p><ul><li><p>Embedding 向量是强大的语义表示技术，无论是在向量之间的距离还是在向量算术方面。通过将大量的向量代数应用于 Embedding，我们可以只用基本的数学运算符来进行可扩展的语义分析。</p></li><li><p>目前有各种各样的近似近邻搜索算法和索引类型可供选择。最常用的是 HNSW，但不同的索引算法应用场景可能不同，这取决于拥有的 Embedding 总数以及每个单独向量的长度。</p></li><li><p>目前使用的两个主要距离度量是 L2 / Euclidean 距离和余弦距离。这两个度量，当用于归一化 Embedding 时，在功能上是等同的。</p></li></ul><p>感谢阅读我们的教程！向量搜索是 Milvus 的核心部分，之后我们还会继续探讨这一话题。我们会对最常用的 ANNS 算法——HNSW 和 ScaNN 做一些深入的研究。</p><p>希望你喜欢这篇文章 ，也欢迎在 <a href="https://twitter.com/zilliz_universe" target="_blank" rel="noopener noreferrer">Twitter</a> 和 <a href="https://www.linkedin.com/company/zilliz/" target="_blank" rel="noopener noreferrer">LinkedIn</a> 上关注我们，获取更多内容。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-documents">相关文档<a href="#related-documents" class="hash-link" aria-label="相关文档的直接链接" title="相关文档的直接链接">​</a></h2><ul><li><p><a href="/docs/introduction-to-unstructured-data">什么是非结构化数据？</a></p></li><li><p><a href="/docs/what-is-a-vector-database">什么是向量数据库？</a></p></li><li><p><a href="/docs/vector-index-basics-and-the-inverted-file-index">向量索引概览与 IVF 索引</a></p></li><li><p><a href="/docs/scalar-quantization-and-product-quantization">标量量化与乘积量化</a></p></li><li><p><a href="/docs/hierarchical-navigable-small-world-hnsw">HNSW</a></p></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/what-is-a-vector-database"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">什么是向量数据库？</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/vector-index-basics-and-the-inverted-file-index"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">向量索引概览与 IVF 索引</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#comparing-embeddings" class="table-of-contents__link toc-highlight">比较 Embedding</a><ul><li><a href="#some-prep-work" class="table-of-contents__link toc-highlight">准备工作</a></li><li><a href="#example-0-marlon-brando" class="table-of-contents__link toc-highlight">示例 0：Marlon Brando</a></li><li><a href="#example-1-if-all-of-the-kings-had-their-queens-on-the-throne" class="table-of-contents__link toc-highlight">示例 1：国王与<strong>王后</strong></a></li><li><a href="#example-2-apple-the-company-the-fruit-or-both" class="table-of-contents__link toc-highlight">示例 2：Apple，水果还是公司</a></li></ul></li><li><a href="#vector-search-strategies" class="table-of-contents__link toc-highlight">向量搜索策略</a><ul><li><a href="#linear-search" class="table-of-contents__link toc-highlight">线性搜索</a></li><li><a href="#space-partitioning" class="table-of-contents__link toc-highlight">分片</a></li><li><a href="#quantization" class="table-of-contents__link toc-highlight">量化</a></li><li><a href="#hierarchical-navigable-small-worlds-hnsw" class="table-of-contents__link toc-highlight">HNSW</a></li><li><a href="#approximate-nearest-neighbors-oh-yeah" class="table-of-contents__link toc-highlight">ANNOY</a></li></ul></li><li><a href="#commonly-used-similarity-metrics" class="table-of-contents__link toc-highlight">常用的相似性度量</a><ul><li><a href="#floating-point-vector-similarity-metrics" class="table-of-contents__link toc-highlight">浮点向量相似性度量</a></li><li><a href="#binary-vector-similarity-metrics" class="table-of-contents__link toc-highlight">二进制向量相似性度量</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">总结</a></li><li><a href="#related-documents" class="table-of-contents__link toc-highlight">相关文档</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/zilliz-cloud-101">开发指南</a></li><li class="footer__item"><a class="footer__link-item" href="/reference">API 参考</a></li></ul></div><div class="col footer__col"><div class="footer__title">产品</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zilliz.com.cn/cloud" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zilliz Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">关注我们</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://space.bilibili.com/1058892339/video" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bilibili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/zilliztech" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">其它</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zilliz.com.cn/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">博客</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://zilliz.com.cn" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/logo.svg" alt="Zilliz" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="160" height="51"><img src="/img/logo.svg" alt="Zilliz" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">版权所有 © 2023 上海徐毓智能科技有限公司保留所有权利</div></div></div></footer></div>
<script src="/assets/js/runtime~main.41d2cdf3.js"></script>
<script src="/assets/js/main.45ab7aea.js"></script>
</body>
</html>