"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[3366],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=c(n),u=i,g=m["".concat(s,".").concat(u)]||m[u]||p[u]||r;return n?a.createElement(g,l(l({ref:t},d),{},{components:n})):a.createElement(g,l({ref:t},d))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:i,l[1]=o;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(7294),i=n(6010);const r={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(r.tabItem,l),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>k});var a=n(7462),i=n(7294),r=n(6010),l=n(2466),o=n(6550),s=n(1980),c=n(7392),d=n(12);function m(e){return function(e){return i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}function p(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??m(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function u(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function g(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,i.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function h(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=p(e),[l,o]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!u({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[s,c]=g({queryString:n,groupId:a}),[m,h]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,d.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),y=(()=>{const e=s??m;return u({value:e,tabValues:r})?e:null})();(0,i.useLayoutEffect)((()=>{y&&o(y)}),[y]);return{selectedValue:l,selectValue:(0,i.useCallback)((e=>{if(!u({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),c(e),h(e)}),[c,h,r]),tabValues:r}}var y=n(2389);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:c}=e;const d=[],{blockElementScrollPositionUntilNextRender:m}=(0,l.o5)(),p=e=>{const t=e.currentTarget,n=d.indexOf(t),a=c[n].value;a!==o&&(m(t),s(a))},u=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;t=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;t=d[n]??d[d.length-1];break}}t?.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},c.map((e=>{let{value:t,label:n,attributes:l}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>d.push(e),onKeyDown:u,onClick:p},l,{className:(0,r.Z)("tabs__item",_.tabItem,l?.className,{"tabs__item--active":o===t})}),n??t)})))}function N(e){let{lazy:t,children:n,selectedValue:a}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function f(e){const t=h(e);return i.createElement("div",{className:(0,r.Z)("tabs-container",_.tabList)},i.createElement(v,(0,a.Z)({},e,t)),i.createElement(N,(0,a.Z)({},e,t)))}function k(e){const t=(0,y.Z)();return i.createElement(f,(0,a.Z)({key:String(t)},e))}},3988:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>g,frontMatter:()=>o,metadata:()=>c,toc:()=>m});var a=n(7462),i=(n(7294),n(3905)),r=n(4866),l=n(5162);const o={slug:"/javascript-object-notation-json-1",sidebar_position:0},s="JSON",c={unversionedId:"tutorials/advanced-user-guides/advanced-data-types/javascript-object-notation-json-1",id:"tutorials/advanced-user-guides/advanced-data-types/javascript-object-notation-json-1",title:"JSON",description:"JSON \u5168\u79f0\u4e3a JavaScript Object Notation\uff0c\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u6587\u672c\u6570\u636e\u683c\u5f0f\u3002JSON \u5b57\u6bb5\u7531\u952e\u503c\u5bf9\u7ec4\u6210\uff0c\u5176\u4e2d\u6bcf\u4e2a\u952e\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5176\u76f8\u5e94\u7684\u503c\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001\u5217\u8868\u6216\u6570\u7ec4\u3002Zilliz Cloud \u652f\u6301\u5c06\u5b57\u6bb5\u4ee5\u5b57\u5178\u7684\u5f62\u5f0f\u63d2\u5165\u5230\u96c6\u7fa4\u7684 Collection \u4e2d\u3002",source:"@site/docs/tutorials/advanced-user-guides/advanced-data-types/javascript-object-notation-json-1.md",sourceDirName:"tutorials/advanced-user-guides/advanced-data-types",slug:"/javascript-object-notation-json-1",permalink:"/docs/javascript-object-notation-json-1",draft:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{slug:"/javascript-object-notation-json-1",sidebar_position:0},sidebar:"tutorialSidebar",previous:{title:"\u9ad8\u7ea7\u6570\u636e\u7c7b\u578b",permalink:"/docs/advanced-data-types"},next:{title:"\u8fde\u63a5\u4e0e\u8bbf\u95ee\u63a7\u5236",permalink:"/docs/connection-and-access-control"}},d={},m=[{value:"\u5b9a\u4e49 JSON \u5b57\u6bb5",id:"define-json-fields",level:2},{value:"\u63d2\u5165\u5b57\u6bb5\u503c",id:"insert-field-value",level:2},{value:"\u641c\u7d22 JSON \u5b57\u6bb5",id:"search-for-json-fields",level:2},{value:"\u4f7f\u7528\u9650\u5236",id:"limits",level:2},{value:"\u76f8\u5173\u6587\u6863",id:"related-documents",level:2}],p={toc:m},u="wrapper";function g(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"json"},"JSON"),(0,i.kt)("p",null,"JSON \u5168\u79f0\u4e3a JavaScript Object Notation\uff0c\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u6587\u672c\u6570\u636e\u683c\u5f0f\u3002JSON \u5b57\u6bb5\u7531\u952e\u503c\u5bf9\u7ec4\u6210\uff0c\u5176\u4e2d\u6bcf\u4e2a\u952e\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5176\u76f8\u5e94\u7684\u503c\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001\u5217\u8868\u6216\u6570\u7ec4\u3002Zilliz Cloud \u652f\u6301\u5c06\u5b57\u6bb5\u4ee5\u5b57\u5178\u7684\u5f62\u5f0f\u63d2\u5165\u5230\u96c6\u7fa4\u7684 Collection \u4e2d\u3002"),(0,i.kt)("p",null,"\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u7801\u5c55\u793a\u5982\u4f55\u4ee5 JSON \u5f62\u5f0f\u5b58\u50a8\u4e00\u7bc7\u5df2\u53d1\u5e03\u6587\u7ae0\u7684\u5143\u6570\u636e\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},"{\n    'title': 'The Reported Mortality Rate of Coronavirus Is Not Important',\n    'title_vector': [0.041732933, 0.013779674, -0.027564144, ..., 0.030096486],\n    'article_meta': {\n        'link': '<https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912>',\n        'reading_time': 13,\n        'publication': 'The Startup',\n        'claps': 1100,\n        'responses': 18\n    }\n}\n")),(0,i.kt)("p",null,"\u521b\u5efa\u5217\u8868\u6216\u6570\u7ec4\u65f6\uff0c\u8bf7\u786e\u4fdd\u6240\u6709\u5b57\u6bb5\u7684\u503c\u90fd\u662f\u76f8\u540c\u7c7b\u578b\u3002Zilliz Cloud \u5c06\u6240\u6709\u5d4c\u5957\u5b57\u5178\u89c6\u4e3a\u5b57\u7b26\u4e32\u3002\u5728\u5b9a\u4e49 JSON \u952e\u65f6\uff0c\u5efa\u8bae\u53ea\u4f7f\u7528\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u5176\u4ed6\u5b57\u7b26\u7c7b\u578b\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8fc7\u6ee4\u6216\u641c\u7d22\u65f6\u51fa\u9519\u3002"),(0,i.kt)("h2",{id:"define-json-fields"},"\u5b9a\u4e49 JSON \u5b57\u6bb5"),(0,i.kt)("p",null,"\u5b9a\u4e49 JSON \u5b57\u6bb5\u7684\u8fc7\u7a0b\u4e0e\u5b9a\u4e49\u5176\u4ed6\u7c7b\u578b\u5b57\u6bb5\u7684\u8fc7\u7a0b\u76f8\u540c\u3002\u5728\u6267\u884c\u5982\u4e0b\u4ee3\u7801\u4e4b\u524d\uff0c\u8bf7\u786e\u8ba4\u5df2\u8fde\u63a5\u81f3\u60a8\u7684\u96c6\u7fa4\u3002\u5982\u9700\u8fde\u63a5\u96c6\u7fa4\uff0c\u53ef\u53c2\u8003",(0,i.kt)("a",{parentName:"p",href:"./use-customized-schema#connect-to-cluster"},"\u8fde\u63a5\u96c6\u7fa4"),"\u3002"),(0,i.kt)(r.Z,{defaultValue:"python",values:[{label:"Python",value:"python"},{label:"NodeJS",value:"javascript"},{label:"Java",value:"java"},{label:"Go",value:"go"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'import json\nfrom pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType\n\n# 1. \u5b9a\u4e49\u5b57\u6bb5\nfields = [\n    FieldSchema(name="id", dtype=DataType.INT64, is_primary=True, auto_id=True, max_length=100),\n    FieldSchema(name="title", dtype=DataType.VARCHAR, max_length=512),\n    FieldSchema(name="title_vector", dtype=DataType.FLOAT_VECTOR, dim=768),\n    FieldSchema(name="article_meta", dtype=DataType.JSON),\n]\n# 2. \u521b\u5efa Schema\nschema = CollectionSchema(\n                fields\n)\n# 3. \u5728 Collection \u4e2d\u5f15\u7528 Schema\ncollection = Collection("medium_articles_with_json", schema)\n\n# 4. \u5bf9\u5411\u91cf\u5b57\u6bb5\u8fdb\u884c\u7d22\u5f15\nindex_params = {\n    "index_type": "AUTOINDEX",\n    "metric_type": "L2",\n    "params": {}\n}\n\ncollection.create_index(\n  field_name="title_vector",\n  index_params=index_params\n)\n\n# 5. \u52a0\u8f7d Collection\ncollection.load()\n'))),(0,i.kt)(l.Z,{value:"javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const { MilvusClient, DataType } = require("@zilliz/milvus2-sdk-node");\nconst fs = require("fs");\n\nasync function main() {\n    const client = new MilvusClient({\n        address,\n        token\n    }, true);\n\n    // 1. \u5b9a\u4e49\u5b57\u6bb5\n    const fields = [\n        {\n            name: "id",\n            data_type: DataType.Int64,\n            is_primary_key: true\n        },\n        {\n            name: "title",\n            data_type: DataType.VarChar,\n            max_length: 512,\n        },\n        {\n            name: "title_vector",\n            data_type: DataType.FloatVector,\n            dim: 768,\n        },\n        {\n            name: "article_meta",\n            data_type: DataType.JSON,\n        }\n    ];\n\n    const collection_name = "medium_articles_with_json"\n\n    // 2. \u5c06\u5b57\u6bb5\u4fe1\u606f\u6536\u96c6\u5230 req \u4e2d\n    const req = {\n        collection_name,\n        fields,\n    }\n\n    // 3. \u5728\u96c6\u5408\u4e2d\u5f15\u7528 req\n    let res = await client.createCollection(req);\n\n    console.log(res);\n\n    // 4. \u5bf9\u5411\u91cf\u5b57\u6bb5\u8fdb\u884c\u7d22\u5f15\n    index_param = {\n        index_type: "AUTOINDEX",\n        metric_type: "L2",\n        params: {}\n    }\n\n    res = await client.createIndex({\n        collection_name,\n        field_name: "title_vector",\n        index_param\n    });\n\n    console.log(res);\n\n    // 5. \u52a0\u8f7d Collection\n    res = await client.loadCollection({\n        collection_name\n    });\n\n    console.log(res);\n\n    // \u67e5\u770b\u52a0\u8f7d\u8fdb\u5ea6\n    res = await client.getLoadingProgress({\n        collection_name\n    });\n\n    console.log(res);\n\n    res = await client.dropCollection({ collection_name });\n\n    console.log(res);\n}\n\nmain();\n'))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'import io.milvus.client.*;\nimport io.milvus.param.*;\nimport io.milvus.param.R;\nimport io.milvus.param.collection.FieldType;\nimport io.milvus.param.index.CreateIndexParam;\nimport io.milvus.param.collection.CreateCollectionParam;\nimport io.milvus.grpc.DataType;\nimport io.milvus.param.dml.InsertParam;\nimport io.milvus.grpc.MutationResult;\nimport io.milvus.response.MutationResultWrapper;\nimport io.milvus.param.dml.SearchParam;\nimport io.milvus.grpc.SearchResults;\nimport io.milvus.response.SearchResultsWrapper;\nimport io.milvus.common.clientenum.ConsistencyLevelEnum;\nimport io.milvus.param.collection.LoadCollectionParam;\nimport io.milvus.grpc.GetLoadingProgressResponse;\nimport io.milvus.param.collection.GetLoadingProgressParam;\n\nimport com.alibaba.fastjson.JSON;\nimport com.alibaba.fastjson.JSONArray;\nimport com.alibaba.fastjson.JSONObject;\n\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\n// 1. \u5b9a\u4e49\u5b57\u6bb5\nFieldType id = FieldType.newBuilder()\n    .withName("id")\n    .withDataType(DataType.Int64)\n    .withPrimaryKey(true)\n    .withAutoID(true)\n    .build();\n\nFieldType title = FieldType.newBuilder()\n    .withName("title")\n    .withDataType(DataType.VarChar)\n    .withMaxLength(512)\n    .build();\n\nFieldType title_vector = FieldType.newBuilder()\n    .withName("title_vector")\n    .withDataType(DataType.FloatVector)\n    .withDimension(768)\n    .build();\n\n// JSON \u5b57\u6bb5\nFieldType article_meta = FieldType.newBuilder()\n    .withName("article_meta")\n    .withDataType(DataType.JSON)\n    .build();\n\n// 2. \u5c06\u5b57\u6bb5\u4fe1\u606f\u6536\u96c6\u5230 req \u4e2d\nCreateCollectionParam createCollectionParam = CreateCollectionParam.newBuilder()\n    .withCollectionName("medium_articles_with_json")\n    .withDescription("Schema of Medium articles")\n    .addFieldType(id)\n    .addFieldType(title)\n    .addFieldType(title_vector)\n    .addFieldType(article_meta)\n    .withEnableDynamicField(false)\n    .build();\n\n// 3. \u5728 Collection \u4e2d\u521b\u5efa Schema\nR<RpcStatus> collection = client.createCollection(createCollectionParam);\n\nif (collection.getException() != null) {\n    System.out.println("Failed to create collection: " + collection.getException().getMessage());\n    return;\n}\n\n// 4. \u521b\u5efa\u7d22\u5f15\nCreateIndexParam createIndexParam = CreateIndexParam.newBuilder()\n    .withCollectionName("medium_articles_with_json")\n    .withFieldName("title_vector")\n    .withIndexName("title_vector_index")\n    .withIndexType(IndexType.AUTOINDEX)\n    .withMetricType(MetricType.L2)\n    .build();\n\nR<RpcStatus> res = client.createIndex(createIndexParam);\n\nif (res.getException() != null) {\n    System.out.println("Failed to create index: " + res.getException().getMessage());\n    return;\n}\n\n// 5. \u52a0\u8f7d\u96c6\u5408\nLoadCollectionParam loadCollectionParam = LoadCollectionParam.newBuilder()\n    .withCollectionName("medium_articles_with_json")\n    .build();\n\nR<RpcStatus> loadCollectionRes = client.loadCollection(loadCollectionParam);\n\nif (loadCollectionRes.getException() != null) {\n    System.out.println("Failed to load collection: " + loadCollectionRes.getException().getMessage());\n    return;\n}\n\nGetLoadingProgressParam getLoadingProgressParam = GetLoadingProgressParam.newBuilder()\n    .withCollectionName("medium_articles_with_json")\n    .build();\n\nR<GetLoadingProgressResponse> getLoadingProgressRes = client.getLoadingProgress(getLoadingProgressParam);\n\nif (getLoadingProgressRes.getException() != null) {\n    System.out.println("Failed to get loading progress: " + getLoadingProgressRes.getException().getMessage());\n    return;\n}\n\n// \u8f93\u51fa\uff1a\n// 2023-06-10 15:37:45 io.milvus.client.AbstractMilvusGrpcClient logInfo\n// INFO: CreateCollectionParam(collectionName=medium_articles_with_json, shardsNum=2, description=Schema of Medium articles, fieldTypes=[FieldType{name=\'id\', type=\'Int64\', primaryKey=true, partitionKey=false, autoID=true, params={}}, FieldType{name=\'title\', type=\'VarChar\', primaryKey=false, partitionKey=false, autoID=false, params={max_length=512}}, FieldType{name=\'title_vector\', type=\'FloatVector\', primaryKey=false, partitionKey=false, autoID=false, params={dim=768}}, FieldType{name=\'article_meta\', type=\'JSON\', primaryKey=false, partitionKey=false, autoID=false, params={}}], partitionsNum=0, consistencyLevel=BOUNDED, databaseName=null, enableDynamicField=false)\n// 2023-06-10 15:37:46 io.milvus.client.AbstractMilvusGrpcClient logInfo\n// INFO: CreateIndexParam(databaseName=null, collectionName=medium_articles_with_json, fieldName=title_vector, indexName=title_vector_index, extraParam={metric_type=L2, index_type=AUTOINDEX}, syncMode=true, syncWaitingInterval=500, syncWaitingTimeout=600)\n// 2023-06-10 15:37:48 io.milvus.client.AbstractMilvusGrpcClient logInfo\n// INFO: LoadCollectionParam(databaseName=null, collectionName=medium_articles_with_json, syncLoad=true, syncLoadWaitingInterval=500, syncLoadWaitingTimeout=60, replicaNumber=1, refresh=false)\n// 2023-06-10 15:37:50 io.milvus.client.AbstractMilvusGrpcClient logInfo\n// INFO: GetLoadingProgressParam{collectionName=\'medium_articles_with_json\', partitionNames=\'[]\'}\n'))),(0,i.kt)(l.Z,{value:"go",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'import (\n        "context"\n        "encoding/json"\n        "fmt"\n        "log"\n        "os"\n\n        "github.com/milvus-io/milvus-sdk-go/v2/client"\n        "github.com/milvus-io/milvus-sdk-go/v2/entity"\n)\n\n// 1. \u5b9a\u4e49\u5b57\u6bb5\nid := entity.NewField().\n        WithName("id").\n        WithDataType(entity.FieldTypeInt64).\n        WithIsPrimaryKey(true)\n\ntitle := entity.NewField().\n        WithName("title").\n        WithDataType(entity.FieldTypeVarChar).\n        WithMaxLength(512)\n\ntitle_vector := entity.NewField().\n        WithName("title_vector").\n        WithDataType(entity.FieldTypeFloatVector).\n        WithDim(768)\n\n// JSON \u5b57\u6bb5\narticle_meta := entity.NewField().\n        WithName("article_meta").\n        WithDataType(entity.FieldTypeJSON)\n\n// 2. \u521b\u5efa Schema\nschema := &entity.Schema{\n        CollectionName: "medium_articles_with_json",\n        Description:    "Medium articles published between Jan and August in 2020 in prominent publications",\n        AutoID:         true,\n        Fields: []*entity.Field{\n                id,\n                title,\n                title_vector,\n                article_meta,\n        },\n        EnableDynamicField: true,\n}\n\n// 3. \u521b\u5efa Collection\ncolerr := conn.CreateCollection(context.Background(), schema, 2)\n\nif colerr != nil {\n        log.Fatal("Failed to create collection:", colerr.Error())\n}\n\n// 4. \u521b\u5efa\u7d22\u5f15\nindex, err := entity.NewIndexAUTOINDEX(entity.MetricType("L2"))\n\nif err != nil {\n        log.Fatal("Failed to prepare the index:", err.Error())\n}\n\nerr = conn.CreateIndex(\n        context.Background(),\n        "medium_articles_with_json",\n        "title_vector",\n        index,\n        false,\n)\n\nif err != nil {\n        log.Fatal("Failed to create the index:", err.Error())\n}\n\n// 5. \u52a0\u8f7d Collection\nloadCollErr := conn.LoadCollection(\n        context.Background(),\n        "medium_articles_with_json",\n        false,\n)\n\nif loadCollErr != nil {\n        log.Fatal("Failed to load collection:", loadCollErr.Error())\n}\n\n// \u67e5\u770b\u52a0\u8f7d\u8fdb\u7a0b\nprogress, err := conn.GetLoadingProgress(\n        context.Background(),\n        "medium_articles_with_json",\n        nil,\n)\n\nif err != nil {\n        log.Fatal("Failed to get loading progress:", err.Error())\n}\n\nprintln("Loading progress:", progress)\n')))),(0,i.kt)("p",null,"\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u60a8\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u4e0e JSON \u5b57\u6bb5\u5bf9\u5e94\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"FieldSchema"),"  \u5bf9\u8c61\uff0c\u5e76\u5c06 ",(0,i.kt)("inlineCode",{parentName:"p"},"dtype"),"  \u5c5e\u6027\u8bbe\u7f6e\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"DataType.JSON"),"\u3002"),(0,i.kt)("h2",{id:"insert-field-value"},"\u63d2\u5165\u5b57\u6bb5\u503c"),(0,i.kt)("p",null,"\u4ece ",(0,i.kt)("inlineCode",{parentName:"p"},"CollectionSchema")," \u5bf9\u8c61\u521b\u5efa Collection \u4e4b\u540e\uff0c\u53ef\u4ee5\u5c06\u5b57\u5178\u6570\u636e\u63d2\u5165\u5230 Collection \u4e2d\u3002"),(0,i.kt)(r.Z,{defaultValue:"python",values:[{label:"Python",value:"python"},{label:"NodeJS",value:"javascript"},{label:"Java",value:"java"},{label:"Go",value:"go"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"# 6. \u51c6\u5907\u6570\u636e\nwith open(\"path/to/medium_articles_2020_dpr.json\") as f:\n    data = json.load(f)\n    list_of_rows = data['rows']\n\n    data_rows = []\n    for row in list_of_rows:\n        data_rows.append({\n            \"title\": row[\"title\"],\n            \"title_vector\": row[\"title_vector\"],\n            \"article_meta\": dict(\n                link=row[\"link\"],\n                reading_time=row['reading_time'],\n                publication=row[\"publication\"],\n                claps=row[\"claps\"],\n                responses=row[\"responses\"],\n            )\n        })\n\n    print(data_rows[0])\n\n# \u8f93\u51fa\uff1a\n# {\n#           'title': 'The Reported Mortality Rate of Coronavirus Is Not Important', \n#           'title_vector': [0.041732933, 0.013779674, -0.027564144, ..., 0.030096486], \n#           'article_meta': {\n#        'link': '<https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912>', \n#         'reading_time': 13, \n#         'publication': 'The Startup', \n#         'claps': 1100, \n#         'responses': 18\n#           }\n# }\n\n# 7. \u63d2\u5165\u6570\u636e\ncollection.insert(data_rows)\ncollection.flush()\n\n# \u8f93\u51fa\uff1a\n# Number of entities in collection:  5979\n"))),(0,i.kt)(l.Z,{value:"javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// 6. \u51c6\u5907\u6570\u636e\nconst data = JSON.parse(fs.readFileSync(\"medium_articles_2020_dpr.json\", { encoding: \"utf-8\" }));\nconst rows = data.rows.map((row, index) => {\n    return {\n        id: row.id,\n        title: row.title,\n        title_vector: row.title_vector,\n        article_meta: {\n            link: row.link,\n            reading_time: row.reading_time,\n            publication: row.publication,\n            claps: row.claps,\n            responses: row.responses,\n        }\n    }\n});\n\nconsole.log(rows[0]);\n\n// {\n//   id: 0,\n//   title: 'The Reported Mortality Rate of Coronavirus Is Not Important',\n//   title_vector: [\n//       0.041732933,   0.013779674,   -0.027564144, -0.013061441,\n//     ... 764 more items\n//   ],\n//   article_meta: {\n//     link: '<https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912>',\n//     reading_time: 13,\n//     publication: 'The Startup',\n//     claps: 1100,\n//     responses: 18\n//   }\n// }\n\n//7. \u63d2\u5165\u6570\u636e\n\nres = await client.insert({\n    collection_name,\n    data: rows\n});\n\nconsole.log(res);\n\n// \u8f93\u51fa\uff1a\n// {\n//   succ_index: [\n//      0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11,\n//     12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n//     24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n//     36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\n//     48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59,\n//     60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71,\n//     72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83,\n//     84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\n//     96, 97, 98, 99,\n//     ... 5879 more items\n//   ],\n//   err_index: [],\n//   status: { error_code: 'Success', reason: '' },\n//   IDs: { int_id: { data: [Array] }, id_field: 'int_id' },\n//   acknowledged: false,\n//   insert_cnt: '5979',\n//   delete_cnt: '0',\n//   upsert_cnt: '0',\n//   timestamp: '442282689587576833'\n// }\n\nres = await client.flush({\n    collection_names: [collection_name]\n});\n\nconsole.log(res);\n\n// \u8f93\u51fa\uff1a\n// {\n//   coll_segIDs: { medium_articles_with_json: { data: [Array] } },\n//   flush_coll_segIDs: { medium_articles_with_json: { data: [] } },\n//   coll_seal_times: { medium_articles_with_json: '1687174567' },\n//   status: { error_code: 'Success', reason: '' },\n//   db_name: 'default'\n// }\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// 6. \u8bfb\u53d6\u672c\u5730\u6587\u4ef6\n\nString content;\n\nPath file = Path.of("medium_articles_2020_dpr.json");\ntry {\n    content = Files.readString(file);\n} catch (Exception e) {\n    System.out.println("Failed to read file: " + e.getMessage());\n    return;\n}\n\nSystem.out.println("Successfully read file");\n\nJSONObject dataset = JSON.parseObject(content);\nList<JSONObject> rows = getRows(dataset.getJSONArray("rows"), 5979);\n\n// 7. insert data\nInsertParam insertParam = InsertParam.newBuilder()\n    .withCollectionName("medium_articles_with_json")\n    .withRows(rows)\n    .build();\n\nR<MutationResult> insertResponse = client.insert(insertParam);\n\nif (insertResponse.getStatus() != R.Status.Success.getCode()) {\n    System.out.println(insertResponse.getMessage());\n}\n\nMutationResultWrapper mutationResultWrapper = new MutationResultWrapper(insertResponse.getData());\n\nSystem.out.println("Successfully insert entities: " + mutationResultWrapper.getInsertCount());\n\n// \u8f93\u51fa\uff1a\n// Successfully insert entities: 5979\n\n// The following is the function used to prepare the data\npublic static List<JSONObject> getRows(JSONArray dataset, int counts) {\n    List<JSONObject> rows = new ArrayList<JSONObject>();\n    for (int i = 0; i < counts; i++) {\n        JSONObject json_row = new JSONObject(1, true);\n        JSONObject article_meta = new JSONObject(1, true);\n        JSONObject original_row = dataset.getJSONObject(i);\n\n        String title = original_row.getString("title");\n        String link = original_row.getString("link");\n        String publication = original_row.getString("publication");\n        Long reading_time = original_row.getLong("reading_time");\n        Long claps = original_row.getLong("claps");\n        Long responses = original_row.getLong("responses");\n        List<Float> vectors = original_row.getJSONArray("title_vector").toJavaList(Float.class);\n\n        article_meta.put("link", link);\n        article_meta.put("publication", publication);\n        article_meta.put("reading_time", reading_time);\n        article_meta.put("claps", claps);\n        article_meta.put("responses", responses);\n        json_row.put("title", title);\n        json_row.put("title_vector", vectors);\n        json_row.put("article_meta", article_meta);\n        rows.add(json_row);\n    }\n    return rows;\n}\n'))),(0,i.kt)(l.Z,{value:"go",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'// 6. \u8bfb\u53d6\u672c\u5730\u6587\u4ef6\nfile, err := os.ReadFile("medium_articles_2020_dpr.json")\nif err != nil {\n        log.Fatal("Failed to read file:", err.Error())\n}\n\nvar data Dataset\n\nif err := json.Unmarshal(file, &data); err != nil {\n        log.Fatal(err.Error())\n}\n\nlog.Println("Dataset loaded, row number: ", len(data.Rows))\n\n// \u8f93\u51fa\uff1a\n// 2023/06/19 19:53:40 Dataset loaded, row number:  5979\n\nrows := make([]interface{}, 0, 1)\n\n// 7. \u63d2\u5165\u884c\nfor i := 0; i < len(data.Rows); i++ {\n        id := data.Rows[i].ID\n        title := data.Rows[i].Title\n        titleVector := data.Rows[i].TitleVector\n        articleMeta := Meta{\n                Link:        data.Rows[i].Link,\n                ReadingTime: data.Rows[i].ReadingTime,\n                Publication: data.Rows[i].Publication,\n                Claps:       data.Rows[i].Claps,\n                Responses:   data.Rows[i].Responses,\n        }\n\n        jsonRow := JsonRow{\n                ID:          id,\n                Title:       title,\n                TitleVector: titleVector,\n                ArticleMeta: articleMeta,\n        }\n\n        rows = append(rows, jsonRow)\n}\n\ncol, err := conn.InsertRows(context.Background(), "medium_articles_with_json", "", rows)\nif err != nil {\n        log.Fatal("Failed to insert rows:", err.Error())\n}\n\nlog.Println("Number of entitie inserted", col.Len())\n\n// Output:\n// 2023/06/19 19:53:52 Number of entitie inserted 5979\n\n// Structs and functions used in this section are \ntype Dataset struct {\n        Rows []Row `json:"rows"`\n}\n\ntype Row struct {\n        ID          int64     `json:"id" milvus:"name:id"`\n        Title       string    `json:"title" milvus:"name:title"`\n        TitleVector []float32 `json:"title_vector" milvus:"name:title_vector"`\n        Link        string    `json:"link" milvus:"name:link"`\n        ReadingTime int64     `json:"reading_time" milvus:"name:reading_time"`\n        Publication string    `json:"publication" milvus:"name:publication"`\n        Claps       int64     `json:"claps" milvus:"name:claps"`\n        Responses   int64     `json:"responses" milvus:"name:responses"`\n}\n\ntype JsonRow struct {\n        ID          int64     `json:"id" milvus:"name:id"`\n        Title       string    `json:"title" milvus:"name:title"`\n        TitleVector []float32 `json:"title_vector" milvus:"name:title_vector"`\n        ArticleMeta Meta      `json:"article_meta" milvus:"name:article_meta"`\n}\n\ntype Meta struct {\n        Link        string `json:"link" milvus:"name:link"`\n        ReadingTime int64  `json:"reading_time" milvus:"name:reading_time"`\n        Publication string `json:"publication" milvus:"name:publication"`\n        Claps       int64  `json:"claps" milvus:"name:claps"`\n        Responses   int64  `json:"responses" milvus:"name:responses"`\n}\n\ntype searchParams struct {\n        limit  int64\n        offset int64\n        nprobe int64\n}\n\nfunc (sp searchParams) Params() map[string]interface{} {\n        return map[string]interface{}{\n                "limit":  sp.limit,\n                "offset": sp.offset,\n                "nprobe": sp.nprobe,\n        }\n}\n')))),(0,i.kt)("h2",{id:"search-for-json-fields"},"\u641c\u7d22 JSON \u5b57\u6bb5"),(0,i.kt)("p",null,"\u6240\u6709\u6570\u636e\u63d2\u5165\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 JSON \u5b57\u6bb5\u4e2d\u7684\u952e\u8fdb\u884c\u641c\u7d22\uff0c\u641c\u7d22\u65b9\u6cd5\u4e0e\u57fa\u4e8e\u6807\u91cf\u5b57\u6bb5\u641c\u7d22\u76f8\u540c\u3002"),(0,i.kt)(r.Z,{defaultValue:"python",values:[{label:"Python",value:"python"},{label:"NodeJS",value:"javascript"},{label:"Java",value:"java"},{label:"Go",value:"go"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# 8. \u641c\u7d22\u6570\u636e\nresult = collection.search(\n    data=[data_rows[0][\'title_vector\']],\n    anns_field="title_vector",\n    param={"metric_type": "L2", "params": {"nprobe": 10}},\n    limit=3,\n    expr=\'article_meta["claps"] > 30 and article_meta["reading_time"] < 10\',\n    output_fields=["title", "article_meta" ],\n)\n\nfor hits in result:\n    print("Matched IDs: ", hits.ids)\n    print("Distance to the query vector: ", hits.distances)\n    print("Matched articles: ")\n    for hit in hits:\n        print(\n            "Title: ", \n            hit.entity.get("title"), \n            ", Reading time: ", \n            hit.entity.get("article_meta")[\'reading_time\'], \n            ", Claps", \n            hit.entity.get("article_meta")[\'claps\']\n        )\n\n# \u8f93\u51fa\uff1a\n# Matched IDs:  [442206870370198289, 442206870370198323, 442206870370196123]\n# Distance to the query vector:  [0.36103835701942444, 0.37674015760421753, 0.4162980318069458]\n# Matched articles: \n# Title:  The Hidden Side Effect of the Coronavirus , Reading time:  8 , Claps 83\n# Title:  Why The Coronavirus Mortality Rate is Misleading , Reading time:  9 , Claps 2900\n# Title:  Coronavirus shows what ethical Amazon could look like , Reading time:  4 , Claps 51\n'))),(0,i.kt)(l.Z,{value:"javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// 8. \u641c\u7d22\u6570\u636e\n\nres = await client.search({\n    collection_name,\n    data: rows[0][\"title_vector\"],\n    limit: 3,\n    filter: 'article_meta[\"claps\"] > 30 and article_meta[\"reading_time\"] < 10',\n    output_fields: [\"title\", \"article_meta\"]\n});\n\nconsole.log(res);\n\n// \u8f93\u51fa\uff1a\n// {\n//   status: { error_code: 'Success', reason: '' },\n//   results: [\n//     {\n//       score: -0.8194807767868042,\n//       id: '5607',\n//       title: 'The Hidden Side Effect of the Coronavirus',\n//       article_meta: [Object]\n//     },\n//     {\n//       score: -0.8116300106048584,\n//       id: '5641',\n//       title: 'Why The Coronavirus Mortality Rate is Misleading',\n//       article_meta: [Object]\n//     },\n//     {\n//       score: -0.7918509244918823,\n//       id: '3441',\n//       title: 'Coronavirus shows what ethical Amazon could look like',\n//       article_meta: [Object]\n//     }\n//   ]\n// }\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// 8.\u8bbe\u7f6e\u67e5\u8be2\u5411\u91cf\nList<List<Float>> queryVectors = new ArrayList<>();\nList<Float> queryVector1 = rows.get(0).getJSONArray("title_vector").toJavaList(Float.class);\nqueryVectors.add(queryVector1);\n\n// 9. \u8bbe\u7f6e\u8f93\u51fa\u5b57\u6bb5\nList<String> outputFields = new ArrayList<>();\noutputFields.add("title");\noutputFields.add("article_meta");   \n\n// 10. \u641c\u7d22\u5411\u91cf\nSearchParam searchParam = SearchParam.newBuilder()\n    .withCollectionName("medium_articles_with_json")\n    .withVectorFieldName("title_vector")\n    .withVectors(queryVectors)\n    .withTopK(3)   \n    .withMetricType(MetricType.L2)  \n    .withParams("{\\\\"nprobe\\\\":10,\\\\"offset\\\\":2, \\\\"limit\\\\":3}")\n    .withOutFields(outputFields)\n    .withExpr("article_meta[\\\\"claps\\\\"] > 30 and article_meta[\'reading_time\'] < 10")\n    .build();\n\nR<SearchResults> response = client.search(searchParam);\n\nSearchResultsWrapper wrapper = new SearchResultsWrapper(response.getData().getResults());\nSystem.out.println("Search results");\n\nfor (int i = 0; i < queryVectors.size(); ++i) {\n    List<SearchResultsWrapper.IDScore> scores = wrapper.getIDScore(i);\n    List<String> titles = (List<String>) wrapper.getFieldData("title", i);\n    for (int j = 0; j < scores.size(); ++j) {\n        SearchResultsWrapper.IDScore score = scores.get(j);\n        System.out.println("Top " + j + " ID:" + score.getLongID() + " Distance:" + score.getScore());\n        System.out.println("Title: " + titles.get(j));\n        System.out.println("Reading time: " + ((JSONObject) scores.get(j).get("article_meta")).getLong("reading_time"));\n        System.out.println("Claps: " + ((JSONObject) scores.get(j).get("article_meta")).getLong("claps"));\n    }\n    System.out.print("=====================================\\\\n");\n}\n\n// \u8f93\u51fa\uff1a\n// Search results\n// Top 0 ID:442206870370214072 Distance:0.41629803\n// Title: Coronavirus shows what ethical Amazon could look like\n// Reading time: 4\n// Claps: 51\n// Top 1 ID:442206870370211569 Distance:0.4360938\n// Title: Mortality Rate As an Indicator of an Epidemic Outbreak\n// Reading time: 6\n// Claps: 65\n// Top 2 ID:442206870370214906 Distance:0.48886314\n// Title: How Can AI Help Fight Coronavirus?\n// Reading time: 9\n// Claps: 255\n'))),(0,i.kt)(l.Z,{value:"go",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'vectors := []entity.Vector{}\n\nfor _, row := range data.Rows[:1] {\n        vector := make(entity.FloatVector, 0, 768)\n        vector = append(vector, row.TitleVector...)\n        vectors = append(vectors, vector)\n}\n\nsp := searchParams{10, 0, 16}\n\nsearchResults, err := conn.Search(\n        context.Background(),\n        "medium_articles_with_json",\n        []string{},\n        "article_meta[\\\\"claps\\\\"] > 30 and article_meta[\'reading_time\'] < 10",\n        []string{"title", "article_meta"},\n        vectors,\n        "title_vector",\n        entity.MetricType("L2"),\n        3,\n        sp,\n)\n\nif err != nil {\n        log.Fatal("Failed to search:", err.Error())\n}\n\nfor i, sr := range searchResults {\n        log.Println("Result counts", i, ":", sr.ResultCount)\n\n        ids := sr.IDs.FieldData().GetScalars().GetLongData().GetData()\n        scores := sr.Scores\n        titles := sr.Fields.GetColumn("title").FieldData().GetScalars().GetStringData().GetData()\n        article_metas := sr.Fields.GetColumn("article_meta").FieldData().GetScalars().GetJsonData().GetData()\n\n        log.Println(article_metas)\n\n        for i, record := range ids {\n                var article_meta Meta\n                json.Unmarshal(article_metas[i], &article_meta)\n\n                log.Println("ID:", record, "Score:", scores[i], "Title:", titles[i], "Claps:", article_meta.Link, "Reading time:", article_meta.ReadingTime)\n        }\n\n}\n\n// \u8f93\u51fa\uff1a\n// 2023/06/19 20:08:47 ID: 5607 Score: 0.36103836 Title: The Hidden Side Effect of the Coronavirus Claps: <https://medium.com/swlh/the-hidden-side-effect-of-the-coronavirus-b6a7a5ee9586> Reading time: 8\n// 2023/06/19 20:08:47 ID: 5641 Score: 0.37674016 Title: Why The Coronavirus Mortality Rate is Misleading Claps: <https://towardsdatascience.com/why-the-coronavirus-mortality-rate-is-misleading-cc63f571b6a6> Reading time: 9\n// 2023/06/19 20:08:47 ID: 3441 Score: 0.41629803 Title: Coronavirus shows what ethical Amazon could look like Claps: <https://medium.com/swlh/coronavirus-shows-what-ethical-amazon-could-look-like-7c80baf2c663> Reading time: 4\n')))),(0,i.kt)("p",null,"\u8981\u8bbf\u95ee JSON \u5b57\u6bb5\u4e2d\u7684\u952e\uff0c\u60a8\u53ef\u4ee5\u5728\u8868\u8fbe\u5f0f ",(0,i.kt)("inlineCode",{parentName:"p"},"expr")," \u4e2d\u6307\u5b9a JSON \u5b57\u6bb5\u540d\u79f0\u548c\u952e\u540d\u79f0\uff08\u4f8b\u5982\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},'article_meta["claps"]'),"\uff09\uff0c\u5e76\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"output_fields")," \u4e2d\u6307\u5b9a\u8981\u8f93\u51fa\u7684 JSON \u5b57\u6bb5\u3002\u4e4b\u540e\u60a8\u5c31\u53ef\u4ee5\u50cf\u8bbf\u95ee\u666e\u901a\u5b57\u5178\u4e00\u6837\u8bbf\u95ee JSON \u5b57\u6bb5\u4e2d\u7684\u952e\u3002"),(0,i.kt)("h2",{id:"limits"},"\u4f7f\u7528\u9650\u5236"),(0,i.kt)("p",null,"\u4f7f\u7528 JSON \u5b57\u6bb5\u65f6\uff0c\u60a8\u53ef\u4ee5\u5c06\u5b57\u7b26\u4e32\u503c\u7528\u53cc\u5f15\u53f7\uff08\"\"\uff09\u6216\u5355\u5f15\u53f7\uff08''\uff09\u62ec\u8d77\u6765\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cZilliz Cloud \u5c06 JSON \u5b57\u6bb5\u4e2d\u7684\u5b57\u7b26\u4e32\u503c\u5b58\u50a8\u4e3a\u539f\u59cb\u5b57\u7b26\u4e32\uff0c\u4e0d\u8fdb\u884c\u8bed\u4e49\u8f6c\u6362\u3002\u4f8b\u5982\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"'a\"b'"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},'"a\'b"'),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"'a\\\\\\\\\\\\\\\\'b'")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},'"a\\\\\\\\\\\\\\\\"b"')," \u5c06\u6309\u539f\u6837\u4fdd\u5b58\uff0c\u800c ",(0,i.kt)("inlineCode",{parentName:"p"},"'a'b'")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},'"a"b"')," \u5c06\u88ab\u89c6\u4e3a\u65e0\u6548\u503c\u3002"),(0,i.kt)("p",null,"\u8981\u4f7f\u7528 JSON \u5b57\u6bb5\u6784\u5efa\u8fc7\u6ee4\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u5f15\u7528 JSON \u5b57\u6bb5\u4e2d\u7684\u952e\u3002\u5982\u679c\u952e\u503c\u7c7b\u578b\u662f\u6574\u6570\u6216\u6d6e\u70b9\u6570\uff0c\u5219\u53ef\u4ee5\u5c06\u5176\u4e0e\u53e6\u4e00\u4e2a\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001INT32/64 \u6216 FLOAT32/64 \u5b57\u6bb5\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u952e\u503c\u7c7b\u578b\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u53ea\u80fd\u5c06\u5176\u4e0e\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\u952e\u6216 VARCHAR \u5b57\u6bb5\u8fdb\u884c\u6bd4\u8f83\u3002"),(0,i.kt)("p",null,"\u5047\u8bbe JSON \u5b57\u6bb5\u5177\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"A")," \u952e\u3002\u4f7f\u7528 JSON \u5b57\u6bb5\u6784\u5efa\u5e03\u5c14\u8868\u8fbe\u5f0f\u65f6\uff0c\u8bf7\u53c2\u8003\u4ee5\u4e0b\u8868\u683c\u3002"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u64cd\u4f5c\u7b26"),(0,i.kt)("th",{parentName:"tr",align:null},"\u793a\u4f8b"),(0,i.kt)("th",{parentName:"tr",align:null},"\u5907\u6ce8"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"<")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A < 3"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},">")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A > 1"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"=="),(0,i.kt)("br",null),(0,i.kt)("br",null)),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A == 1"'),"  \u6216 ",(0,i.kt)("inlineCode",{parentName:"td"},"\"A == 'abc'\"")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"!=")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A != 1"')," \u6216 ",(0,i.kt)("inlineCode",{parentName:"td"},"\"A != 'abc'\"")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u53ef\u4ee5\u4e0d\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"<=")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A <= 5"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},">=")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A >= 1"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"not")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"not A == 1"')," \u6216 ",(0,i.kt)("inlineCode",{parentName:"td"},"\"not A != 'abc'\"")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u53ef\u4ee5\u4e0d\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"in")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A in [1, 2, 3]"')," \u6216 ",(0,i.kt)("inlineCode",{parentName:"td"},"\"A in ['a', 'b', 'c']\"")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"add")," (",(0,i.kt)("inlineCode",{parentName:"td"},"&&"),")"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"A > 1 && A < 3"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u662f\u5426\u5fc5\u987b\u5b58\u5728\u53d6\u51b3\u4e8e\u8fd0\u7b97\u7b26\u4e24\u4fa7\u8868\u8fbe\u5f0f\u7684\u8981\u6c42")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"or")," (",(0,i.kt)("inlineCode",{parentName:"td"},"\\|\\|"),")"),(0,i.kt)("td",{parentName:"tr",align:null},'`"A > 1 ',"\\"),(0,i.kt)("td",{parentName:"tr",align:null},"\\")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"exist")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"exist A"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"A"),"  \u5fc5\u987b\u5b58\u5728")))),(0,i.kt)("h2",{id:"related-documents"},"\u76f8\u5173\u6587\u6863"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"./use-customized-schema"},"\u5b9a\u5236 Schema")," "),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"./enable-dynamic-schema"},"\u5f00\u542f\u52a8\u6001 Schema")," "),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"./use-partition-key"},"\u4f7f\u7528 Partition Key")))}g.isMDXComponent=!0}}]);