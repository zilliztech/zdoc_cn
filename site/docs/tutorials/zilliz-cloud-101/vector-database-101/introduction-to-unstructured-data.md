---
slug: /introduction-to-unstructured-data
sidebar_position: 0
---

# 什么是非结构化数据？

欢迎来到向量数据库 101 系列教程。

## 概览 {#overview}

这是向量数据库 101 系列教程第一课，主要向大家介绍一下非结构化数据。

现在我们每天都会产生新的数据，这无疑是全球一体化和全球经济的关键动力。从腕部佩戴的心率监测器到车载 GPS，再到上传到社交媒体的视频，数据每时每刻正以指数级的速度产生。这种日益增长的庞大数据量的重要性不容小觑。数据可以帮助我们更好地服务现有客户，识别供应链的弱点，定位工作效率底下的原因，也能够帮助企业识别业务痛点并快速打入新市场。总之，数据可以为我们带来更多的收入增长。

还不相信吗？国际数据公司（International Data Corporation，IDC）预测，到 2028 年，全球数据，即在全球范围内创建和存储在持久存储器中的新数据总量，将增长到 400 泽字节（一个泽字节 = 10<sup>21</sup> 字节）。到那个时候，超过 30% 的数据都将是实时产生的，而所有产生的数据中 80% 将是非结构化数据。

## 区分结构化、半结构化和非结构化数据 {#structured-semi-structured-unstructured-data-definition}

那什么是非结构化数据呢？顾名思义，非结构化数据是指无法存储在预定义格式中或适合现有数据模型的数据。人类生成的数据，如图像、视频、音频、文本文件等，都是非结构化数据的最佳示例。但同时也有许多不太常见的非结构化数据的例子，如蛋白质结构、可执行文件哈希值，或者是人类可读的代码等。

另一方面，结构化数据是指可以以表格格式来存储的数据，而半结构化数据是指可以存储在单层或多层数组或以键值存储的数据。如果你理解起来还是有些困难，没关系，我们会提供一些例子，帮助你了解结构化数据和非结构化数据之间的主要区别。

## 结构化数据示例 {#some-concrete-examples-of-structured-data}

下面让我们先简单介绍一下结构化数据和半结构化数据。用最简单的话来说，传统的结构化数据可以通过关系模型来存储。以图书数据库为例：

| ISBN       | 年份   | 书名                                   | 作者            |
| ---------- | ---- | ------------------------------------ | ------------- |
| 0767908171 | 2003 | A Short History of Nearly Everything | Bill Bryson   |
| 039516611X | 1962 | Silent Spring                        | Rachel Carson |
| 0374332657 | 1998 | Holes                                | Louis Sachar  |
| ...        |      |                                      |               |

上表中，数据库中的每行都代表一本书（以 ISBN 号为索引），而每列则表示相应的信息类别。建立在关系模型上的数据库可以包含多个表，每个表都有独特的列。最具代表性的关系型数据库有 MySQL（1995）和 PostgreSQL（1996）。

半结构化数据是结构化数据的子集，但它不符合传统的基于表格的模式。相反，半结构化数据通常带有键或标记，可用于描述和索引数据。回到前面图书数据库的例子，我们可以把表中的数据以半结构化的 JSON 格式进行扩展。具体可参考以下示例代码：

```json
{
  ISBN: 0767908171
  Month: February
  Year: 2003
  Name: A Short History of Nearly Everything
  Author: Bill Bryson
  Tags: geology, biology, physics
},
{
  ISBN: 039516611X
  Name: Silent Spring
  Author: Rachel Carson
},
{
  ISBN: 0374332657
  Year: 1998
  Name: Holes
  Author: Louis Sachar
},
...
```

以上代码中，JSON 数据中的第一个元素包含了 `Month` 和 `Tags` 额外字段。使用半结构化数据结构，您无需为所有元素都额外增加两个属性列，这样提供了更大的灵活性。

半结构化数据通常存储在 NoSQL 数据库（宽列存储、对象/文档数据库、键值存储等）中，它们的非表格性质不适用于传统的关系型数据库。Cassandra（2008）、MongoDB（2009）和 Redis（2009）是当今最流行的针对半结构化数据的数据库。这些 NoSQL 数据库基本都是在结构化数据库之后的十年左右发布，请记住这一点，我们会在稍后继续介绍。

## 范式转变——非结构化数据 {#a-paradigm-shift-unstructured-data-definition}

既然我们对结构化数据和半结构化数据有了清晰的理解，现在让我们开始谈谈非结构化数据。与结构化数据和半结构化数据不同，非结构化数据可以采取任何形式，可以有任意大小或尺寸，并需要大量的运行时间来转换和索引。我们以图像为例：同一只德国牧羊犬的连续三张正面图片从语义上来讲是相同的。

语义相同？这究竟是什么意思？让我们再深入一点，解读一下语义相似性的概念。尽管三张图片的像素、分辨率、文件大小等可能有很大区别，但它们都是同一场景下的同一只德国牧羊犬。换句话说，这三张图片都有相同或接近的内容，但原始像素值却明显不同。这给使用该数据的行业和公司带来了新的挑战：我们如何能以类似于结构化或半结构化数据的方式来转换、存储和搜索非结构化数据？

在这一点上，你可能想知道，如果非结构化数据没有固定的大小或格式，我们如何进行数据搜索和分析？答案是——机器学习。更具体地说，深度学习。过去十年里，大数据和深度神经网络的结合从根本上改变了数据驱动应用的方式。从垃圾邮件检测，到文本、视频合成任务等都取得了令人难以置信的进展，某些场景的任务准确度达到了超人的水平。这听起来可能会有点可怕，但我们离 Elon Musk 的人工智能接管世界的愿景还有几十年。

本质上，这是和所有行业、所有公司和所有个人都有关的问题，包括你！

## 非结构化数据示例 {#unstructured-data-examples}

非结构化数据可以由机器或人类生成。机器生成的非结构化数据包括：

- 传感器数据：从传感器收集的数据，如温度传感器、湿度传感器、GPS 传感器和运动传感器等。

- 机器日志数据：由机器、设备或应用程序生成的数据，包括系统日志、应用程序日志和事件日志。

- 物联网（IoT）数据：从智能设备收集的数据，如智能恒温器、智能家庭助手和可穿戴设备等。

- 计算机视觉数据：由计算机视觉技术产生的非结构化数据，如图像识别、物体检测和视频分析等。

- 自然语言处理（NLP）数据：由 NLP 技术生成的数据，如语音识别、语言翻译和情感分析等。

- 网页和应用程序数据：由网络服务器、网络应用和移动应用产生的数据，包括用户行为数据、错误日志和应用性能数据。

人类生成的非结构化数据包括：

- 电子邮件：电子邮件通常是非结构化的，可以包含自由形式的文本、图像和附件。

- 短信：短信可能是非正式、非结构化的，可能包含任意缩写或表情符号。

- 社交媒体帖：社交媒体帖子的结构和内容可以各不相同，可能包含文本、图像、视频和标签等。

- 音频记录：人类生成的音频记录，如电话、语音邮件、音频文件和音频笔记等。

- 手写笔记：手写笔记可以是非结构化的，可能包含图画、图表或其他视觉元素。

- 会议记录：会议记录可以包含非结构化的文本、图表和行动项目。

- 脚本：演讲、采访和会议的笔录可能包含非结构化的文本，其准确程度各不相同。

- 用户产生的内容：网站和论坛上的用户生成的内容，可能包括自由形式的文本、图像和视频文件。

## 快速了解 Embedding {#a-crash-course-on-embeddings}

让我们回到正题。绝大多数的神经网络模型都能够将单一的非结构化数据转化为浮点值，也就是通常所说的 Embedding 或 Embedding 向量。事实证明，一个经过训练的神经网络可以输出代表图像语义内容的 Embedding。之后的教程中（[什么是向量数据库？](./what-is-a-vector-database)），我们将介绍如何使用预先确定的算法来生成 Embedding。

![T7xDb1OXOoVHCwxDYRScgqiTnqe](/img/T7xDb1OXOoVHCwxDYRScgqiTnqe.png)

上图提供了一个将非结构化数据转化为向量的例子。通过 ResNet-50 卷积神经网络，这张照片可以被表示为一个长度 2048 的向量，前三个和后三个元素分别是 `[0.1392, 0.3572, 0.1988, ..., 0.2888, 0.6611, 0.2909]`**。**由经过训练的神经网络生成的 Embedding 向量具有数学特性，使它们更易于搜索和分析。我们在此不做过多描述。但要知道，一般来说，语义相似的 Embedding 向量在距离上是接近的。因此，搜索和理解非结构化数据可以归结为向量运算。

![QiGebuXD3oCfz4xiv7RcYnfInVh](/img/QiGebuXD3oCfz4xiv7RcYnfInVh.png)

如前面提到的，到 2028 年，非结构化数据将占所有新数据的 80% 之多。随着各行业的成熟和越来越多的非结构化数据的处理方法，这一比例将继续增加。这会影响到我们每一个人。正如 2010 年以来新的面向用户的应用程序需要数据库来存储半结构化数据（相对于传统的表格数据）一样，这十年我们需要专门为大量非结构化数据的索引和搜索而建立数据库。

那解决办法是什么？那就是人工智能时代的数据库——向量数据库。现在，欢迎来到我们的世界，开启[开源向量数据库 Milvus](https://zilliz.com/what-is-milvus) 之旅。

大多数教程都聚焦由神经网络生成的 Embedding 向量；然而，请注意，Embedding 向量也可以通过人工算法生成。

## 处理非结构化数据 {#unstructured-data-processing}

感兴趣了吗？很好。但在我们一头扎进向量数据库 Milvus 之前，让我们花点时间来谈谈如何处理和分析非结构化数据。在结构化数据和半结构化数据的应用场景下，搜索或过滤数据库中的数据是最直观的方式。一个简单的例子，查询 MongoDB 中某作者的第一本书可以通过以下代码完成（使用 **pymongo**）：

```python
>>> document = collection.find_one({'Author': 'Bill Bryson'})
```

这种查询方法与传统的关系型数据库没什么不同，后者依靠 SQL 语句来过滤和获取数据，但基本概念是相同的，即结构化数据和半结构化数据的数据库使用数学符号（如 `<=`）或逻辑运算符（如 `EQUALS`  和 `NOT`）来实现数值和字符串的过滤和查询。在传统关系型数据库中，这被称为关系代数。你可能已经看到了通过关系代数构建复杂过滤器的例子，但核心概念仍然是一样的——传统的数据库是具有确定性的系统，会基于给定的过滤表达返回精确匹配的结果。

与针对结构化数据和半结构化数据的数据库不同，向量数据库是通过指定一个查询向量，而不是 SQL 语句或数据过滤器，如 `{'Author': 'Bill Bryson'}`。这个向量是对非结构化数据基于 Embedding 的表示。具体我们可以通过下面这个简单的例子来了解（使用了 `pymilvus`）：

```python
>>> results = collection.search(embedding, 'embedding', params, limit=10)
```

向量数据库内部，对大量非结构化数据集合的搜索和查询是使用一套称为近似最近邻（Approximate Nearest Neighbor，ANN**）**的搜索算法进行的。简而言之，ANN 搜索是一种优化搜索形式，目的是为了找到与指定查询向量最接近或相邻的点或点集。利用巧妙的索引方法，向量数据库会对准确性和性能进行权衡。增加搜索时间会使数据更一致，性能也更接近于一个具有确定性的系统，即返回给定查询值的绝对最近的值；减少搜索时间会提高吞吐量，但也可能会导致捕获更少的查询对象和真正最近的值。在这个意义上，非结构化数据的处理是一个概率过程。

![VEF3bkXBEo1wvAxiwsScc48nnzg](/img/VEF3bkXBEo1wvAxiwsScc48nnzg.png)

ANN 搜索是向量数据库的核心组成部分，这本身也是一个巨大的研究领域。我们将在未来的课程中进一步介绍 Milvus 中可用的各类型的 ANN 搜索方法。

要知道，向量数据库是可以通过选择一个特定的索引类型而成为具有确定性的数据库系统。

## 总结 {#summary}

谢谢你能看到这里！以下是本教程的主要收获：

- 结构化数据和半结构化数据是仅限于数字、字符串或时间类型的数据。通过现代机器学习，非结构化数据可以被表示为数值的高维向量。

- 代表非结构化数据的数值向量，更多的被称为 Embedding 向量，可以用于代表非结构化数据的语义内容。另外，结构化数据和半结构化数据在语义上是不变的，即内容本身等同于语义。

- 搜索和分析非结构化数据是通过 ANN 搜索完成的，这个过程本身是概率性的。另外，基于结构化数据和半结构化数据的搜索和查询是具有确定性的。

- 非结构化数据的处理与半结构化数据的处理有很大的不同，需要一个完全的范式转变。这自然需要一种新的数据库类型——向量数据库。

本系列的第一节课程到此结束。如果你刚开始接触向量数据库，那么欢迎来到 Milvus 的世界！在下一个教程中，我们会详细地介绍向量数据库：

- Milvus 向量数据库概览

- Milvus 与向量搜索库（FAISS、ScaNN、DiskANN 等）的区别

- 向量数据库与向量搜索插件的区别

- 现代向量数据库面临的技术挑战

我们下节课见！[什么是向量数据库？](./what-is-a-vector-database)

## 相关文档 {#related-documents}

- [什么是向量数据库？](./what-is-a-vector-database)

- [什么是向量相似性搜索？](./introduction-to-vector-similarity-search)

- [向量索引概览与 IVF 索引](./vector-index-basics-and-the-inverted-file-index)

- [标量量化与乘积量化](./scalar-quantization-and-product-quantization)

- [HNSW](./hierarchical-navigable-small-world-hnsw)
