"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[8362],{3842:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>k,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var a=n(7462),i=(n(7294),n(3905)),l=n(3612),s=n(4866),r=n(5162);const o={slug:"/docs/delete-entities",beta:!1,notebook:"00_quick_start.ipynb,01_use_customized_schema.ipynb",sidebar_position:3},d="\u5220\u9664 Entity",c={unversionedId:"tutorials/collection/insert-update-and-delete/delete-entities",id:"tutorials/collection/insert-update-and-delete/delete-entities",title:"\u5220\u9664 Entity",description:"Entity \u662f\u6307\u5b58\u50a8\u5728 Zilliz Cloud \u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u5b9e\u4f53\uff0c\u5305\u542b\u7528\u4e8e\u5904\u7406\u3001\u641c\u7d22\u548c\u67e5\u8be2\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u4e0d\u518d\u9700\u8981\u67d0\u4e2a Entity\uff0c\u53ef\u4ee5\u6267\u884c\u76f8\u5173\u64cd\u4f5c\u5c06\u5176\u5220\u9664\u3002",source:"@site/docs/tutorials/collection/insert-update-and-delete/delete-entities.md",sourceDirName:"tutorials/collection/insert-update-and-delete",slug:"/docs/delete-entities",permalink:"/docs/delete-entities",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{slug:"/docs/delete-entities",beta:!1,notebook:"00_quick_start.ipynb,01_use_customized_schema.ipynb",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Upsert Entity",permalink:"/docs/upsert-entities"},next:{title:"\u68c0\u7d22\u53ca\u67e5\u8be2",permalink:"/search-and-query"}},u={},p=[{value:"\u5220\u9664 Entity",id:"delete-entities",level:2},{value:"\u76f8\u5173\u6587\u6863",id:"related-topics",level:2}],m={toc:p},y="wrapper";function k(e){let{components:t,...n}=e;return(0,i.kt)(y,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u5220\u9664-entity"},"\u5220\u9664 Entity"),(0,i.kt)("p",null,"Entity \u662f\u6307\u5b58\u50a8\u5728 Zilliz Cloud \u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u5b9e\u4f53\uff0c\u5305\u542b\u7528\u4e8e\u5904\u7406\u3001\u641c\u7d22\u548c\u67e5\u8be2\u7684\u6570\u636e\u3002\u5982\u679c\u60a8\u4e0d\u518d\u9700\u8981\u67d0\u4e2a Entity\uff0c\u53ef\u4ee5\u6267\u884c\u76f8\u5173\u64cd\u4f5c\u5c06\u5176\u5220\u9664\u3002"),(0,i.kt)("h2",{id:"delete-entities"},"\u5220\u9664 Entity"),(0,i.kt)("p",null,"\u5982\u679c\u4e00\u6761\u6570\u636e\u8fc7\u65f6\u6216\u4e0d\u518d\u9700\u8981\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u6b65\u9aa4\u5220\u9664\u8be5 Entity\u3002"),(0,i.kt)(s.Z,{groupId:"code",defaultValue:"python",values:[{label:"Python",value:"python"},{label:"NodeJS",value:"javascript"},{label:"Java",value:"java"},{label:"Go",value:"go"},{label:"Bash",value:"bash"}],mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"python",mdxType:"TabItem"},(0,i.kt)(s.Z,{groupId:"python",defaultValue:"python",values:[{label:"Starter API",value:"python"},{label:"Advanced API",value:"python_1"}],mdxType:"Tabs"},(0,i.kt)(r.Z,{value:"python",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# Delete a single entity using a MilvusClient object\nfrom pymilvus import MilvusClient\n\nres = client.delete(\n    collection_name="medium_articles_2020", # Collection name\n    pks=253 # Entity ID, Use a list for multiple entities, such as [246, 253]\n)\n\nprint(res)\n\n# Output:\n# [253]\n\n'))),(0,i.kt)(r.Z,{value:"python_1",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"# Delete a single entity using a Collection object\nfrom pymilvus import Collection\n\ncollection.delete(expr=\"id in [253]\") \n\n# Include the IDs of all entities to delete in the expr, such as 'id in [246, 253]'\n"))))),(0,i.kt)(r.Z,{value:"javascript",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"async function main () {\n\n    // Continued\n\n    res = await client.delete({\n        collection_name: \"medium_articles_2020\",\n        ids: [253] // Include the IDs of all entities to delete, such as [246, 253]\n    });\n    \n    console.log(res)\n    \n    // Output\n    //  {\n    //   succ_index: [],\n    //   err_index: [],\n    //   status: { error_code: 'Success', reason: '' },\n    //   IDs: { int_id: { data: [Array] }, id_field: 'int_id' },\n    //   acknowledged: false,\n    //   insert_cnt: '0',\n    //   delete_cnt: '1',\n    //   upsert_cnt: '0',\n    //   timestamp: '442192913812684801'\n    // }\n    \n}\n"))),(0,i.kt)(r.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'import java.util.List;\n\nimport io.milvus.param.highlevel.dml.DeleteIdsParam;\nimport io.milvus.param.highlevel.dml.response.DeleteResponse;\n\npublic class UseCustomizedSchemaDemo \n{\n    public static void main( String[] args )\n    {\n        // (Continued)\n        String data_file = "/medium_articles_2020_dpr.json";\n        String content;\n\n        // read a local file\n        Path file = Path.of(data_file);\n        try {\n            content = Files.readString(file);\n        } catch (Exception e) {\n            System.err.println("Failed to read file: " + e.getMessage());\n            return;\n        }\n\n        System.out.println("Successfully read file");\n\n        // Output:\n        // Successfully read file\n\n        // Load dataset\n        JSONObject dataset = JSON.parseObject(content);\n\n        // Insert your data in rows, all the fields not pre-defined in the schema \n        // are recognized as pre-defined schema\n        List<JSONObject> rows = getRows(dataset.getJSONArray("rows"), 1000);\n        \n        List<String> ids = Lists.newArrayList("1");\n        // List<String> ids = Lists.newArrayList("1", "2", "3");\n        \n        DeleteIdsParam deleteParam = DeleteIdsParam.newBuilder()\n                .withCollectionName(collectionName)\n                .withPrimaryIds(ids)\n                .build();\n\n        R<DeleteResponse> deleteRes = client.delete(deleteParam);\n\n        if (deleteRes.getException() != null) {\n            System.err.println("Failed to delete: " + deleteRes.getException().getMessage());\n            return;\n        }\n\n        System.out.println(deleteRes.getData().toString());\n\n        // Output:\n        // deleteIds=[]\n    }\n}\n'))),(0,i.kt)(r.Z,{value:"go",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'func main() {\n\n    // (Continued)\n    \n    err = conn.Delete(context.Background(), COLLNAME, "", "id in [253]")\n    // err = conn.Delete(context.Background(), COLLNAME, "", "id in [253, 254]")\n\n    if err != nil {\n        log.Fatal("Failed to delete rows:", err.Error())\n    }\n}\n'))),(0,i.kt)(r.Z,{value:"bash",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl --request POST \\\n     --url "${PUBLIC_ENDPOINT}/v1/vector/delete" \\\n     --header "Authorization: Bearer ${API_KEY}" \\\n     --header \'accept: application/json\' \\\n     --header \'content-type: application/json\' \\\n     --data "{\n        \\"collectionName\\": \\"medium_articles_2020\\",\n        \\"id\\": 253\n      }"\n\n# Output:\n# {"code":200,"data":{}}\n')))),(0,i.kt)("p",null,"\u4ee5\u4e0a\u4ee3\u7801\u4ece Collection ",(0,i.kt)("inlineCode",{parentName:"p"},"medium_articles_2020")," \u4e2d\u540c\u65f6\u5220\u9664 ID \u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"253")," \u7684 Entity\u3002"),(0,i.kt)(l.Z,{type:"caution",icon:"\ud83d\udea7",title:"\u8b66\u544a",mdxType:"Admonition"},(0,i.kt)("p",null,"\u5220\u9664 Entity \u662f\u4e0d\u53ef\u9006\u64cd\u4f5c\u3002\u5728\u6267\u884c\u64cd\u4f5c\u4e4b\u524d\uff0c\u8bf7\u52a1\u5fc5\u5907\u4efd\u6216\u786e\u8ba4\u6570\u636e\u4e0d\u518d\u9700\u8981\u3002")),(0,i.kt)("h2",{id:"related-topics"},"\u76f8\u5173\u6587\u6863"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"./create-collection"},"\u521b\u5efa Collection")," ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"./insert-entities"},"\u63d2\u5165 Entity")," ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"./search-query-and-get"},"\u5411\u91cf\u641c\u7d22\u548c\u67e5\u8be2")))))}k.isMDXComponent=!0}}]);