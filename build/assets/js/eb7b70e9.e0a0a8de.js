"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[251],{2075:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>_,frontMatter:()=>c,metadata:()=>s,toc:()=>d});var l=t(7462),a=(t(7294),t(3905)),i=(t(3612),t(4866)),o=t(5162);const c={slug:"/docs/create-collection",beta:!1,notebook:"00_quick_start.ipynb,01_use_customized_schema.ipynb",sidebar_position:1},r="\u521b\u5efa Collection",s={unversionedId:"tutorials/collection/collection-and-index/create-collection",id:"tutorials/collection/collection-and-index/create-collection",title:"\u521b\u5efa Collection",description:"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728 Zilliz Cloud \u96c6\u7fa4\u4e2d\u521b\u5efa Collection\u3002",source:"@site/docs/tutorials/collection/collection-and-index/create-collection.md",sourceDirName:"tutorials/collection/collection-and-index",slug:"/docs/create-collection",permalink:"/docs/create-collection",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/docs/create-collection",beta:!1,notebook:"00_quick_start.ipynb,01_use_customized_schema.ipynb",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Collection \u53ca\u7d22\u5f15",permalink:"/collection-and-index"},next:{title:"\u7ba1\u7406\u7d22\u5f15",permalink:"/docs/manage-index"}},p={},d=[{value:"\u64cd\u4f5c\u6b65\u9aa4",id:"procedure",level:2},{value:"\u6570\u636e\u7c7b\u578b",id:"supported-data-types",level:2},{value:"\u4f7f\u7528\u9650\u5236",id:"limits",level:2},{value:"\u76f8\u5173\u6587\u6863",id:"related-topics",level:2}],m={toc:d},u="wrapper";function _(e){let{components:n,...t}=e;return(0,a.kt)(u,(0,l.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u521b\u5efa-collection"},"\u521b\u5efa Collection"),(0,a.kt)("p",null,"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728 Zilliz Cloud \u96c6\u7fa4\u4e2d\u521b\u5efa Collection\u3002"),(0,a.kt)("h2",{id:"procedure"},"\u64cd\u4f5c\u6b65\u9aa4"),(0,a.kt)("p",null,"\u5982\u679c\u60a8\u503e\u5411\u4e8e\u5728\u4e0d\u4e8b\u5148\u5b9a\u4e49\u6bcf\u4e2a\u5b57\u6bb5\u7684\u60c5\u51b5\u4e0b\u76f4\u63a5\u7740\u624b\u521b\u5efa\uff0c\u90a3\u4e48 Starter API \u5c06\u975e\u5e38\u9002\u5408\u60a8\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u4e3a\u76f4\u63a5\u548c\u7b80\u5316\u7684\u8bbe\u7f6e\u65b9\u5f0f\uff0c\u60a8\u53ea\u9700\u6307\u5b9a\u96c6\u5408\u7684\u540d\u79f0\u548c\u5411\u91cf\u5b57\u6bb5\u7684\u7ef4\u5ea6\u6570\u91cf\u3002"),(0,a.kt)(i.Z,{groupId:"code",defaultValue:"python",values:[{label:"Python",value:"python"},{label:"NodeJS",value:"javascript"},{label:"Java",value:"java"},{label:"Bash",value:"bash"}],mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"python",mdxType:"TabItem"},(0,a.kt)(i.Z,{groupId:"python",defaultValue:"python",values:[{label:"Starter API",value:"python"},{label:"Advanced API",value:"python_1"}],mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"python",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'from pymilvus import MilvusClient\n\nCLUSTER_ENDPOINT="YOUR_CLUSTER_ENDPOINT" # Set your cluster endpoint\nTOKEN="YOUR_CLUSTER_TOKEN" # Set your token\nCOLLECTION_NAME="medium_articles_2020" # Set your collection name\nDATASET_PATH="../medium_articles_2020_dpr.json" # Set your dataset path\n\n# Initialize a MilvusClient instance\n# Replace uri and API key with your own\nclient = MilvusClient(\n    uri=CLUSTER_ENDPOINT, # Cluster endpoint obtained from the console\n    token=TOKEN # API key or a colon-separated cluster username and password\n)\n\n# Create a collection\nclient.create_collection(\n    collection_name=COLLECTION_NAME,\n    dimension=768\n)\n\nres = client.describe_collection(\n    collection_name=COLLECTION_NAME\n)\n\nprint(res)\n\n# Output\n#\n# {\n#     "collection_name": "medium_articles_2020",\n#     "auto_id": false,\n#     "num_shards": 1,\n#     "description": "",\n#     "fields": [\n#         {\n#             "field_id": 100,\n#             "name": "id",\n#             "description": "",\n#             "type": 5,\n#             "params": {},\n#             "is_primary": true\n#         },\n#         {\n#             "field_id": 101,\n#             "name": "vector",\n#             "description": "",\n#             "type": 101,\n#             "params": {\n#                 "dim": 768\n#             }\n#         }\n#     ],\n#     "aliases": [],\n#     "collection_id": 443943328732839733,\n#     "consistency_level": 2,\n#     "properties": [],\n#     "num_partitions": 1,\n#     "enable_dynamic_field": true\n# }\n\n'))),(0,a.kt)(o.Z,{value:"python_1",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'from pymilvus import connections, FieldSchema, CollectionSchema, DataType, Collection, utility\n\nCLUSTER_ENDPOINT="YOUR_CLUSTER_ENDPOINT" *# Set your cluster endpoint*\nTOKEN="YOUR_CLUSTER_TOKEN" *# Set your token*\nCOLLECTION_NAME="medium_articles_2020" *# Set your collection name*\nDATASET_PATH="../medium_articles_2020_dpr.json" *# Set your dataset path*\n\nconnections.connect(\n  alias=\'default\', \n  *#  Public endpoint obtained from Zilliz Cloud*\n  uri=CLUSTER_ENDPOINT,\n  *# API key or a colon-separated cluster username and password*\n  token=TOKEN, \n)\n\n*# 1. Define fields*\nfields = [\n    FieldSchema(name="id", dtype=DataType.INT64, is_primary=True),\n    FieldSchema(name="title", dtype=DataType.VARCHAR, max_length=512),   \n    FieldSchema(name="title_vector", dtype=DataType.FLOAT_VECTOR, dim=768),\n    FieldSchema(name="link", dtype=DataType.VARCHAR, max_length=512),\n    FieldSchema(name="reading_time", dtype=DataType.INT64),\n    FieldSchema(name="publication", dtype=DataType.VARCHAR, max_length=512),\n    FieldSchema(name="claps", dtype=DataType.INT64),\n    FieldSchema(name="responses", dtype=DataType.INT64)\n]\n\n*# 2. Build the schema*\nschema = CollectionSchema(\n    fields,\n    description="Schema of Medium articles",\n    enable_dynamic_field=False\n)\n\n*# 3. Create collection*\ncollection = Collection(\n    name=COLLECTION_NAME, \n    description="Medium articles published between Jan and August in 2020 in prominent publications",\n    schema=schema\n)\n'))))),(0,a.kt)(o.Z,{value:"javascript",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const { MilvusClient } = require(\"@zilliz/milvus2-sdk-node\")\n\nconst address = \"YOUR_CLUSTER_ENDPOINT\"\nconst token = \"YOUR_CLUSTER_TOKEN\"\nconst collectionName = \"medium_articles_2020\"\nconst data_file = `./medium_articles_2020_dpr.json`\n\nasync function main() {\n\n    // Connect to the cluster\n    const client = new MilvusClient({address, token})\n\n    // Create a collection\n    let res = await client.createCollection({\n        collection_name: collectionName,\n        dimension: 768,\n    });\n\n    console.log(res)\n\n    // Output\n    // \n    // { error_code: 'Success', reason: '', code: 0 }\n    // \n\n    // Describe the created collection\n    res = await client.describeCollection({\n        collection_name: collectionName\n    });\n   \n    console.log(res)\n\n    // Output\n    // \n    // {\n    //   virtual_channel_names: [ 'by-dev-rootcoord-dml_0_445337000187266398v0' ],\n    //   physical_channel_names: [ 'by-dev-rootcoord-dml_0' ],\n    //   aliases: [],\n    //   start_positions: [],\n    //   properties: [],\n    //   status: { error_code: 'Success', reason: '', code: 0 },\n    //   schema: {\n    //     fields: [ [Object], [Object] ],\n    //     name: 'medium_articles_2020',\n    //     description: '',\n    //     autoID: false,\n    //     enable_dynamic_field: true\n    //   },\n    //   collectionID: '445337000187266398',\n    //   created_timestamp: '445337085300965381',\n    //   created_utc_timestamp: '1698826161579',\n    //   shards_num: 1,\n    //   consistency_level: 'Bounded',\n    //   collection_name: 'medium_articles_2020',\n    //   db_name: 'default',\n    //   num_partitions: '1'\n    // }\n    // \n}\n"))),(0,a.kt)(o.Z,{value:"java",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"public final class QuickStartDemo {\n\n    public static void main(String[] args) {\n    \n        String clusterEndpoint = \"YOUR_CLUSTER_ENDPOINT\";\n        String token = \"YOUR_CLUSTER_TOKEN\";\n        String collectionName = \"medium_articles\";\n        String data_file = System.getProperty(\"user.dir\") + \"/medium_articles_2020_dpr.json\";\n        \n\n        // 1. Connect to Zilliz Cloud\n\n        ConnectParam connectParam = ConnectParam.newBuilder()\n            .withUri(clusterEndpoint)\n            .withToken(token)\n            .build();   \n            \n        MilvusServiceClient client = new MilvusServiceClient(connectParam);\n\n        System.out.println(\"Connected to Zilliz Cloud!\");\n\n        // Output:\n        // Connected to Zilliz Cloud!\n    \n        // 2. Create collection\n\n        CreateSimpleCollectionParam createCollectionParam = CreateSimpleCollectionParam.newBuilder()\n            .withCollectionName(collectionName)\n            .withDimension(768)\n            .build();\n\n        R<RpcStatus> createCollection = client.createCollection(createCollectionParam);\n\n        if (createCollection.getException() != null) {\n            System.err.println(\"Failed to create collection: \" + createCollection.getException().getMessage());\n            return;            \n        }\n\n        // 3. Describe collection\n\n        DescribeCollectionParam describeCollectionParam = DescribeCollectionParam.newBuilder()\n            .withCollectionName(collectionName)\n            .build();\n\n        R<DescribeCollectionResponse> collectionInfo = client.describeCollection(describeCollectionParam);\n\n        if (collectionInfo.getException() != null) {\n            System.err.println(\"Failed to describe collection: \" + collectionInfo.getException().getMessage());\n            return;            \n        }\n\n        DescCollResponseWrapper descCollResponseWrapper = new DescCollResponseWrapper(collectionInfo.getData());\n\n        System.out.println(descCollResponseWrapper);\n\n        // Output:\n        // Collection Description{name:'medium_articles', description:'', id:445337000188271120, shardNumber:1, createdUtcTimestamp:1698906291178, aliases:[], fields:[FieldType{name='id', type='Int64', elementType='None', primaryKey=true, partitionKey=false, autoID=false, params={}}, FieldType{name='vector', type='FloatVector', elementType='None', primaryKey=false, partitionKey=false, autoID=false, params={dim=768}}], isDynamicFieldEnabled:true}\n    }\n    \n}\n    \n"))),(0,a.kt)(o.Z,{value:"bash",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'# token="username:password" or token="your-api-key"\ncurl --location --request POST "${PUBLIC_ENDPOINT}/v1/vector/collections/create" \\\n    --header "Authorization: Bearer ${TOKEN}" \\\n    --header "Content-Type: application/json" \\\n    --header "Accept: */*" \\\n    --data \'{\n        "collectionName": "medium_articles_2020",\n        "dimension": 768\n    }\'\n\n# Output:\n# {"code":200,"data":{}}\n')))),(0,a.kt)("p",null,"\u6267\u884c\u4e0a\u8ff0\u4ee3\u7801\u540e\uff0c\u60a8\u5c06\u6388\u6743 Zilliz Cloud \u7ba1\u7406\u67d0\u4e9b\u9ed8\u8ba4\u8bbe\u7f6e\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4e3b\u952e\nZilliz Cloud \u5c06\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u79f0\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"id")," \u7684\u4e3b\u952e\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5411\u91cf\u5b57\u6bb5\nZilliz Cloud \u5c06\u521d\u59cb\u5316\u4e00\u4e2a\u540d\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"vector")," \u7684\u9ed8\u8ba4\u5411\u91cf\u5b57\u6bb5\u3002"),(0,a.kt)("p",{parentName:"li"},"  \u6b64\u5916\uff0c\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u5efa\u7acb\u7684\u96c6\u5408\u5c06\u81ea\u52a8\u542f\u7528\u52a8\u6001 Schema \u529f\u80fd\u3002\u5f53\u6b64\u529f\u80fd\u542f\u7528\u65f6\uff0cZilliz Cloud \u80fd\u591f\u5728\u6570\u636e\u63d2\u5165\u8fc7\u7a0b\u4e2d\uff0c\u81ea\u52a8\u5c06\u6240\u6709\u672a\u5b9a\u4e49\u7684\u5b57\u6bb5\u4f5c\u4e3a\u52a8\u6001\u5b57\u6bb5\u4fdd\u5b58\u3002"))),(0,a.kt)("h2",{id:"supported-data-types"},"\u6570\u636e\u7c7b\u578b"),(0,a.kt)("p",null,"Zilliz Cloud \u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u7c7b\u578b\u7684\u6570\u636e\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5e03\u5c14\u503c\uff1aBOOLEAN")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6d6e\u70b9\u6570\uff1aDOUBLE\uff088 \u5b57\u8282\uff09\u548c FLOAT\uff084 \u5b57\u8282\uff09")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6574\u6570\uff1aINT8\uff088 \u4f4d\uff09\u3001INT32\uff0832 \u4f4d\uff09\u548c INT64\uff0864 \u4f4d\uff09")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u6d6e\u70b9\u5411\u91cf\uff1aFLOAT_VECTOR")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5b57\u7b26\uff1aVARCHAR")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7ed3\u6784\u5316\u6570\u636e\u7c7b\u578b\uff1a",(0,a.kt)("a",{parentName:"p",href:"./javascript-object-notation-json"},"JSON")))),(0,a.kt)("p",null,"\u8fd9\u4e9b\u6570\u636e\u7c7b\u578b\u53ef\u4f5c\u4e3a Collection \u7684 Schema \u7684\u57fa\u672c\u5143\u7d20\u3002"),(0,a.kt)("h2",{id:"limits"},"\u4f7f\u7528\u9650\u5236"),(0,a.kt)("p",null,"\u96c6\u7fa4\u53ef\u521b\u5efa\u7684 Collection \u6570\u91cf\u53d7\u96c6\u7fa4\u7684 CU \u6570\u91cf\u5f71\u54cd\uff1a"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null},"\u6700\u5927 Collection \u6570"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"\u5c0f\u4e8e\u7b49\u4e8e 8 CU"),(0,a.kt)("td",{parentName:"tr",align:null},"32")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"\u5927\u4e8e 8 CU"),(0,a.kt)("td",{parentName:"tr",align:null},"256")))),(0,a.kt)("h2",{id:"related-topics"},"\u76f8\u5173\u6587\u6863"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"./drop-collection"},"\u5220\u9664 Collection"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"./insert-entities"},"\u63d2\u5165 Entity"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"./search-query-and-get"},"\u5411\u91cf\u641c\u7d22\u548c\u67e5\u8be2"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"./enable-dynamic-schema"},"\u5f00\u542f\u52a8\u6001 Schema"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"./javascript-object-notation-json"},"JSON")))))}_.isMDXComponent=!0}}]);