---
displayed_sidebar: restfulSidebar
sidebar_positition: 25
slug: /restful/create-pipeline
beta: NEAR DEPRECATE
title: "创建 Pipeline | RESTful"
description: "创建 Ingestion、Search、Deletion 类型的 Pipeline。 | RESTful"
hide_table_of_contents: true
sidebar_label: "创建 Pipeline"
sidebar_custom_props: { badges: ['post']}
---

# 创建 Pipeline

import RestSpecs from '@site/src/components/RestSpecs';

<RestSpecs specs={specs} endpoint={endpoint} method={method} target="zilliz" lang="zh-CN" />

export const specs = {"summary":"Create Pipeline","deprecated":false,"description":"This creates an pipeline of the Ingestion, Search, and Deletion types.","x-i18n":{"zh-CN":{"summary":"创建 Pipeline","description":"创建 Ingestion、Search、Deletion 类型的 Pipeline。"}},"tags":["Pipeline Operations"],"parameters":[{"name":"Authorization","in":"header","description":"The authentication token should be an API key with appropriate privileges.","required":true,"example":"Bearer {{TOKEN}}","schema":{"type":"string"},"x-i18n":{"zh-CN":{"description":"认证令牌，应为具备适当权限的 API 密钥。"}}}],"requestBody":{"content":{"application/json":{"schema":{"oneOf":[{"x-tab-label":"ingestion","type":"object","properties":{"name":{"type":"string","description":"Name of the pipeline to create. The pipeline name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Pipeline 名称。Pipeline 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"description":{"type":"string","description":"Description of the pipeline to create.","x-i18n":{"zh-CN":{"description":"Pipeline 描述。"}}},"type":{"type":"string","description":"Type of the pipeline to create. For an ingestion pipeline, the value should be `INGESTION`. For more information, refer to [Understanding pipelines](https://docs.zilliz.com/docs/building-a-rag-app-with-pipelines#understanding-pipelines).","x-i18n":{"zh-CN":{"description":"Pipeline 类型。Ingestion pipeline 的该参数值仅可以是 `INGESTION`。更多信息，请参考[了解 Pipelines](https://docs.zilliz.com.cn/docs/building-a-rag-app-with-pipelines#understanding-pipelines)。"}},"enum":["INGESTION","SEARCH","DELETION"]},"functions":{"type":"array","items":{"description":"A function to add. You have the following options.","x-i18n":{"zh-CN":{"description":"要添加的 Function。您有如下选择。"}},"oneOf":[{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a text ingestion pipeline, the value should be `INDEX_TEXT ` or `PRESERVE`. ","x-i18n":{"zh-CN":{"description":"Function 类型。文本 Ingestion pipeline 的该参数值仅可以是 `INDEX_TEXT` 或 `PRESERVE`。"}}},"embedding":{"type":"string","description":"Name of the embedding model used to convert the source data into vector embeddings. For possible values, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"用于将源数据转化为向量的 Embedding 模型。更多信息请参考 [Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)。"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]},"language":{"type":"string","description":"Language of your documents. ","x-i18n":{"zh-CN":{"description":"文档语言。"}},"enum":["ENGLISH","CHINESE"]}},"required":["name","action","embedding","language"],"description":"A function to add.","x-i18n":{"zh-CN":{"description":"要添加的 Function。"}}},{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a doc ingestion pipeline, the value should be `INDEX_DOC ` or `PRESERVE`. ","x-i18n":{"zh-CN":{"description":"Function 类型。文档 Ingestion pipeline 的该参数值仅可以是 `INDEX_DOC` 或 `PRESERVE`。"}}},"embedding":{"type":"string","description":"Name of the embedding model used to convert the source data into vector embeddings. For possible values, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"用于将源数据转化为向量的 Embedding 模型。更多信息请参考 [Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)。"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]},"language":{"type":"string","description":"Language of your documents. ","x-i18n":{"zh-CN":{"description":"文档语言。"}},"enum":["ENGLISH","CHINESE"]},"chunkSize":{"type":"integer","description":"The maximum size of a splitted doc segment. For more information about the supported chunk size range of each embedding model, please refer to [Zilliz Cloud Limits](https://docs.zilliz.com/docs/limits#ingestion). ","x-i18n":{"zh-CN":{"description":"文档切片大小。有关Embedding 模型与其可选切片大小范围，请参考[使用限制](https://docs.zilliz.com.cn/docs/limits#ingestion)。"}},"default":500,"minimum":20,"maximum":12000,"enum":["zilliz/bge-base-en-v1.5","zilliz/bge-base-zh-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large"]},"splitBy":{"type":"array","items":{"type":"string","description":"A splitter.","x-i18n":{"zh-CN":{"description":"Splitter。"}}},"description":"The splitters for Zilliz Cloud to split the specified document into smaller chunks. The value defaults to `[\"\\n\\n\", \"\\n\", \" \", \"\"]`.","x-i18n":{"zh-CN":{"description":"用于分割文本的 Splitter。Ingestion Pipeline 会根据定义的字符按顺序将文本分割成小片段。默认使用`[\"\\n\\n\", \"\\n\", \" \", \"\"]` 作为分隔符。"}}}},"required":["name","action","embedding","language"],"x-i18n-langs":["zh-CN"],"description":"A function to add.","x-i18n":{"zh-CN":{"description":"要添加的 Function。"}}},{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For an image ingestion pipeline, the value should be `INDEX_IMAGE ` or `PRESERVE`. ","x-i18n":{"zh-CN":{"description":"Function 类型。图像 Ingestion pipeline 的该参数值仅可以是 `INDEX_IMAGE` 或 `PRESERVE`。"}}},"embedding":{"type":"string","description":"Name of the embedding model used to convert the source data into vector embeddings. For possible values, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"用于将源数据转化为向量的 Embedding 模型。更多信息请参考 [Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)。"}},"enum":["zilliz/vit-base-patch16-224","zilliz/clip-vit-base-patch32"]}},"required":["name","action","embedding"],"description":"A function to add.","x-i18n":{"zh-CN":{"description":"要添加的 Function。"}}},{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For an ingestion pipeline that preserves metadata, the value should be `PRESERVE`. ","x-i18n":{"zh-CN":{"description":"Function 类型。用于保留元数据的 Ingestion pipeline 的该参数值仅可以是 `PRESERVE`。"}}},"inputField":{"type":"string","description":"Name the input field according to your needs. In a preserve function of an ingestion pipeline, Zilliz Cloud uses the value as the name of a field in the collection to create.","x-i18n":{"zh-CN":{"description":"输入字段名称。Zilliz Cloud 将在创建 Collection 时使用该名称作为 Collection 字段名称。"}}},"outputField":{"type":"string","description":"Name of the output field. The value should be the same as that of `input_field`.","x-i18n":{"zh-CN":{"description":"输出字段名称。该字段值应该与输入字段的值保持一致。"}}},"fieldType":{"type":"string","description":"Data type of the field to create in the target collection.","x-i18n":{"zh-CN":{"description":"目标 Collection 中创建的字段数据类型。"}},"enum":["Bool","Int8","Int16","Int32","Int64","Float","Double","VarChar"]}},"required":["name","action","inputField","outputField","fieldType"],"description":"A function to add.","x-i18n":{"zh-CN":{"description":"要添加的 Function。"}}}]},"description":"Functions to add in the ingestion pipeline to create. An ingestion pipeline must have one and only one INDEX function and can have 0-50 PRESERVE functions.","x-i18n":{"zh-CN":{"description":"需要添加的 Function 名称。Ingestion pipeline 中必须添加且只可添加 1 个 INDEX 类型的 Function 和 0-50 个 PRESERVE 类型的 Function。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的目标集群的 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies. Zilliz Cloud checks if the collection with the specified name exists. If the collection exists, Zilliz Cloud creates a pipeline for that collection. Otherwise, Zilliz Cloud creates a new collection with the specified name. ","x-i18n":{"zh-CN":{"description":"Pipeline 所属的目标 Collection 名称。Zilliz Cloud 会自动检查指定名称的 Collection 是否已经存在。如果该 Collection 已存在，Zilliz Cloud 将为该 Collection 创建 Pipeline。如果不存在，Zilliz CLoud 将自动新创建一个该命名的新 Collection。"}}},"projectId":{"type":"string","description":"ID of the project to which the target cluster belongs.","x-i18n":{"zh-CN":{"description":"目标集群所属的项目 ID。"}}}},"required":["name","type","functions","clusterId","collectionName","projectId"],"x-i18n-langs":["zh-CN"]},{"x-tab-label":"search","type":"object","properties":{"name":{"type":"string","description":"Name of the pipeline to create. The pipeline name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Pipeline 名称。Pipeline 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"description":{"type":"string","description":"Description of the pipeline to create.","x-i18n":{"zh-CN":{"description":"Pipeline 描述。"}}},"type":{"type":"string","description":"Type of the pipeline to create. For a search pipeline, the value should be `SEARCH`. For more information, refer to [Understanding pipelines](https://docs.zilliz.com/docs/building-a-rag-app-with-pipelines#understanding-pipelines).","x-i18n":{"zh-CN":{"description":"Pipeline 类型。Search pipeline 的该参数值仅可以是 `SEARCH`。更多信息，请参考[了解 Pipelines](https://docs.zilliz.com.cn/docs/building-a-rag-app-with-pipelines#understanding-pipelines)。"}},"enum":["INGESTION","SEARCH","DELETION"]},"functions":{"type":"array","items":{"oneOf":[{"type":"object","description":"A function to add.","x-i18n":{"zh-CN":{"description":"待添加的 Function。"}},"properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a text search pipeline, the value should be `SEARCH_TEXT `. ","x-i18n":{"zh-CN":{"description":"Function 类型。文本 Search pipeline 的该参数值仅可以是 `SEARCH_TEXT`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]},"reranker":{"type":"string","description":"A reranking model used to rank a set of candidate outputs to improve the quality of the search results. Currently, the only possible value is `zilliz/bge-reranker-base`. For more information, refer to [Reranker](https://docs.zilliz.com/docs/reranker).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Reranking 模型。使用 Reranker 可以对输出结果进行重新排序，提高搜索结果质量。目前，仅支持 `zilliz/bge-reranker-base` 作为 Reranker 模型。更多信息，请参考[Reranker](https://docs.zilliz.com.cn/docs/reranker)。"}},"enum":["zilliz/bge-reranker-base"]}},"required":["name","action","clusterId","collectionName","embedding"],"x-i18n-langs":["zh-CN"]},{"type":"object","description":"A function to add.","x-i18n":{"zh-CN":{"description":"待添加的 Function。"}},"properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a doc search pipeline, the value should be `SEARCH_DOC_CHUNK`. ","x-i18n":{"zh-CN":{"description":"Function 类型。文档 Search pipeline 的该参数值仅可以是 `SEARCH_DOC_CHUNK`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]},"reranker":{"type":"string","description":"A reranking model used to rank a set of candidate outputs to improve the quality of the search results. Currently, the only possible value is `zilliz/bge-reranker-base`. For more information, refer to [Reranker](https://docs.zilliz.com/docs/reranker).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Reranking 模型。使用 Reranker 可以对输出结果进行重新排序，提高搜索结果质量。目前，仅支持 `zilliz/bge-reranker-base` 作为 Reranker 模型。更多信息，请参考[Reranker](https://docs.zilliz.com.cn/docs/reranker)。"}},"enum":["zilliz/bge-reranker-base"]}},"required":["name","action","clusterId","collectionName","embedding"],"x-i18n-langs":["zh-CN"]},{"type":"object","description":"A function to add.","x-i18n":{"zh-CN":{"description":"待添加的 Function。"}},"properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"需要添加的 Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a reverse image search pipeline, the value should be `SEARCH_IMAGE_BY_IMAGE `. ","x-i18n":{"zh-CN":{"description":"需要添加的 Function 类型。图像（以图搜图） Search pipeline 的该参数值仅可以是 `SEARCH_IMAGE_BY_IMAGE`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}},"enum":["zilliz/vit-base-patch16-224","zilliz/clip-vit-base-patch32"]},"reranker":{"type":"string","description":"A reranking model used to rank a set of candidate outputs to improve the quality of the search results. Currently, the only possible value is `zilliz/bge-reranker-base`. For more information, refer to [Reranker](https://docs.zilliz.com/docs/reranker).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Reranking 模型。使用 Reranker 可以对输出结果进行重新排序，提高搜索结果质量。目前，仅支持 `zilliz/bge-reranker-base` 作为 Reranker 模型。更多信息，请参考[Reranker](https://docs.zilliz.com.cn/docs/reranker)。"}},"enum":["zilliz/bge-reranker-base"]}},"required":["name","action","clusterId","collectionName","embedding"],"x-i18n-langs":["zh-CN"]},{"type":"object","description":"A function to add.","x-i18n":{"zh-CN":{"description":"待添加的 Function。"}},"properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"需要添加的 Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For an text-image search pipeline , the value should be `SEARCH_IMAGE_BY_TEXT `. ","x-i18n":{"zh-CN":{"description":"需要添加的 Function 类型。图像（以文本搜图） Search pipeline 的该参数值仅可以是 `SEARCH_IMAGE_BY_TEXT`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For a text-image search pipeline, the only possible value is `zilliz/clip-vit-base-patch32-multilingual-v1`.For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。对于以文本搜图 Search pipeline 而言，该参数值仅可以是 `zilliz/clip-vit-base-patch32-multilingual-v1`。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}},"enum":["zilliz/clip-vit-base-patch32"]},"reranker":{"type":"string","description":"A reranking model used to rank a set of candidate outputs to improve the quality of the search results. Currently, the only possible value is `zilliz/bge-reranker-base`. For more information, refer to [Reranker](https://docs.zilliz.com/docs/reranker).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Reranking 模型。使用 Reranker 可以对输出结果进行重新排序，提高搜索结果质量。目前，仅支持 `zilliz/bge-reranker-base` 作为 Reranker 模型。更多信息，请参考[Reranker](https://docs.zilliz.com.cn/docs/reranker)。"}},"enum":["zilliz/bge-reranker-base"]}},"required":["name","action","clusterId","collectionName","embedding"],"x-i18n-langs":["zh-CN"]}]},"description":"Functions to add in the search pipeline to create. A search pipeline can only have one function. ","x-i18n":{"zh-CN":{"description":"需要添加的 Function 名称。Search pipeline 中只可添加 1 个 Function。"}}},"projectId":{"type":"string","description":"ID of the project to which the target cluster belongs.","x-i18n":{"zh-CN":{"description":"目标集群所属的项目 ID。"}}}},"required":["name","type","functions","projectId"],"x-i18n-langs":["zh-CN"]},{"x-tab-label":"deletion","type":"object","properties":{"name":{"type":"string","description":"Name of the pipeline to create. The pipeline name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Pipeline 名称。Pipeline 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"description":{"type":"string","description":"Description of the pipeline to create.","x-i18n":{"zh-CN":{"description":"Pipeline 描述。"}}},"type":{"type":"string","description":"Type of the pipeline to create. For a deletion pipeline, the value should be `DELETION`. For more information, refer to [Understanding pipelines](https://docs.zilliz.com/docs/building-a-rag-app-with-pipelines#understanding-pipelines).","x-i18n":{"zh-CN":{"description":"Pipeline 类型。Deleteion pipeline 的该参数值仅可以是 `DELETION`。更多信息，请参考[了解 Pipelines](https://docs.zilliz.com.cn/docs/building-a-rag-app-with-pipelines#understanding-pipelines)。"}},"enum":["INGESTION","SEARCH","DELETION"]},"functions":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a text deletion pipeline, the value should be `PURGE_TEXT_INDEX ` or `PURGE_BY_EXPRESSION`. ","x-i18n":{"zh-CN":{"description":"Function 类型。文本 Deletion pipeline 的该参数值仅可以是 `PURGE_TEXT_INDEX `或 `PURGE_BY_EXPRESSION`。"}},"enum":["PURGE_TEXT_INDEX ","PURGE_BY_EXPRESSION"]}},"required":["name","action"],"x-i18n-langs":["zh-CN"]},{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a doc deletion pipeline, the value should be `PURGE_DOC_INDEX` or `PURGE_BY_EXPRESSION`. ","x-i18n":{"zh-CN":{"description":"Function 类型。文档 Deletion pipeline 的该参数值仅可以是 `PURGE_DOC_INDEX`或 `PURGE_BY_EXPRESSION`。"}},"enum":["PURGE_DOC_INDEX","PURGE_BY_EXPRESSION"]}},"required":["name","action"],"x-i18n-langs":["zh-CN"]},{"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For an image deletion pipeline, the value should be `PURGE_IMAGE_INDEX` or `PURGE_BY_EXPRESSION`. ","x-i18n":{"zh-CN":{"description":"Function 类型。图像 Deletion pipeline 的该参数值仅可以是 `PURGE_IMAGE_INDEX`或 `PURGE_BY_EXPRESSION`。"}},"enum":["PURGE_IMAGE_INDEX","PURGE_BY_EXPRESSION"]}},"required":["name","action"],"x-i18n-langs":["zh-CN"]}]},"description":"Functions to add in the deletion pipeline to create. A deletion pipeline can only have one function. "},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的目标集群的 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies. ","x-i18n":{"zh-CN":{"description":"Pipeline 所属的目标 Collection 名称。。"}}},"projectId":{"type":"string","description":"ID of the project to which the target cluster belongs.","x-i18n":{"zh-CN":{"description":"目标集群所属的项目 ID。"}}}},"required":["name","description","type","functions","clusterId","collectionName","projectId"],"x-i18n-langs":["zh-CN"]}]},"examples":{"1":{"summary":"Text Ingestion","x-target-request":"OPTION 1","value":{"name":"my_text_ingestion_pipeline","clusterId":"inxx-xxxxxxxxxxxxxxx","projectId":"proj-xxxx","collectionName":"my_collection","description":"A pipeline that generates text embeddings and stores additional fields.","type":"INGESTION","functions":[{"name":"index_my_text","action":"INDEX_TEXT","language":"ENGLISH","embedding":"zilliz/bge-base-en-v1.5"},{"name":"keep_text_info","action":"PRESERVE","inputField":"source","outputField":"source","fieldType":"VarChar"}]}},"2":{"summary":"Document Ingestion","x-target-request":"OPTION 1","value":{"projectId":"proj-xxxx","name":"my_doc_ingestion_pipeline","description":"A pipeline that splits a doc file into chunks and generates embeddings. It also stores the publish_year with each chunk.","type":"INGESTION","functions":[{"name":"index_my_doc","action":"INDEX_DOC","language":"ENGLISH","chunkSize":500,"embedding":"zilliz/bge-base-en-v1.5","splitBy":["\n\n","\n"," ",""]},{"name":"keep_doc_info","action":"PRESERVE","inputField":"publish_year","outputField":"publish_year","fieldType":"Int16"}],"clusterId":"inxx-xxxxxxxxxxxxxxx","newCollectionName":"my_collection"}},"3":{"summary":"Image Ingestion","x-target-request":"OPTION 1","value":{"name":"my_image_ingestion_pipeline","clusterId":"inxx-xxxxxxxxxxxxxxx","projectId":"proj-xxxx","collectionName":"my_collection","description":"A pipeline that converts an image into vector embeddings and store in efficient index for search.","type":"INGESTION","functions":[{"name":"index_my_image","action":"INDEX_IMAGE","embedding":"zilliz/vit-base-patch16-224"},{"name":"keep_image_tag","action":"PRESERVE","inputField":"image_title","outputField":"image_title","fieldType":"VarChar"}]}},"4":{"summary":"Text Search","x-target-request":"OPTION 2","value":{"projectId":"proj-xxxx","name":"my_text_search_pipeline","description":"A pipeline that receives text and search for semantically similar texts","type":"SEARCH","functions":[{"name":"search_text","action":"SEARCH_TEXT","clusterId":"inxx-xxxxxxxxxxxxxxx","collectionName":"my_collection","embedding":"zilliz/bge-base-en-v1.5","reranker":"zilliz/bge-reranker-base"}]}},"5":{"summary":"Document Search","x-target-request":"OPTION 2","value":{"projectId":"proj-xxxx","name":"my_text_search_pipeline","description":"A pipeline that receives text and search for semantically similar doc chunks","type":"SEARCH","functions":[{"name":"search_chunk_text_and_title","action":"SEARCH_DOC_CHUNK","clusterId":"inxx-xxxxxxxxxxxxxxx","collectionName":"my_collection","embedding":"zilliz/bge-base-en-v1.5","reranker":"zilliz/bge-reranker-base"}]}},"6":{"summary":"Image Search","x-target-request":"OPTION 2","value":{"projectId":"proj-xxxx","name":"my_image_search_pipeline","description":"A pipeline that searches image by image.","type":"SEARCH","functions":[{"name":"search_image_by_image","action":"SEARCH_IMAGE_BY_IMAGE","embedding":"zilliz/vit-base-patch16-224","clusterId":"inxx-xxxxxxxxxxxxxxx","collectionName":"my_collection"}]}},"7":{"summary":"Text Deletion","x-target-request":"OPTION 3","value":{"projectId":"proj-xxxx","name":"my_text_deletion_pipeline","description":"A pipeline that deletes entities by expression","type":"DELETION","functions":[{"name":"purge_data_by_expression","action":"PURGE_BY_EXPRESSION"}],"clusterId":"inxx-xxxxxxxxxxxxxxx","collectionName":"my_collection"}},"8":{"summary":"Document Deletion","x-target-request":"OPTION 3","value":{"projectId":"proj-xxxx","name":"my_doc_deletion_pipeline","description":"A pipeline that deletes all info associated with a doc","type":"DELETION","functions":[{"name":"purge_chunks_by_doc_name","action":"PURGE_DOC_INDEX"}],"clusterId":"inxx-xxxxxxxxxxxxxxx","collectionName":"my_collection"}},"9":{"summary":"Image Deletion","x-target-request":"OPTION 3","value":{"projectId":"proj-xxxx","name":"my_image_deletion_pipeline","description":"A pipeline that deletes image by id","type":"DELETION","functions":[{"name":"purge_image_by_id","action":"PURGE_IMAGE_INDEX"}],"clusterId":"inxx-xxxxxxxxxxxxxxx","collectionName":"my_collection"}}}}}},"responses":{"200":{"description":"Returns the information about the pipeline just created.","content":{"application/json":{"schema":{"oneOf":[{"x-tab-label":"ingestion","type":"object","properties":{"code":{"type":"integer","description":"Indicates whether the request succeeds.","x-i18n":{"zh-CN":{"description":"表示当前操作是否成功。"}}},"data":{"type":"object","description":"The information of the ingestion pipeline just created.","x-i18n":{"zh-CN":{"description":"新创建 Ingestion Pipeline 的详细信息。"}},"properties":{"pipelineId":{"type":"integer","description":"ID of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的 ID。"}}},"name":{"type":"string","description":"Name of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的名称。"}},"minLength":3,"maxLength":64},"type":{"type":"string","description":"Type of the pipeline. For an ingestion pipeline, the value should be `INGESTION`.","x-i18n":{"zh-CN":{"description":"Pipeline 的类型。Ingestion pipeline 的该参数值仅可以是 `INGESTION`。"}}},"createTimestamp":{"type":"integer","description":"Timestamp indicating when the pipeline is created.","x-i18n":{"zh-CN":{"description":"Pipeline 的创建时间戳。"}}},"description":{"type":"string","description":"Description of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的描述。"}}},"status":{"type":"string","description":"Current status of the pipeline. If the value is other than `SERVING`, the pipeline is not working.","x-i18n":{"zh-CN":{"description":"Pipeline 的当前状态。如果值不是 `SERVING`，则 Pipeline 不工作。"}}},"totalUsage":{"type":"array","items":{"type":"object","description":"Statistics of the total token usage of the pipeline.","x-i18n":{"zh-CN":{"description":"当前 Pipeline 的总 Token 用量统计信息。"}},"properties":{"embedding":{"type":"string","description":"The total token usage of the embedding model.","x-i18n":{"zh-CN":{"description":"Embedding 模型 Token 总用量。"}}}}},"description":"The total token usage of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的总用量。"}}},"functions":{"type":"array","items":{"description":"A function in the pipeline.","x-i18n":{"zh-CN":{"description":"当前 Pipeline 中包含的一个函数。"}},"oneOf":[{"type":"object","description":"Functions of a text ingestion pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Text Ingestion 类型时使用的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For a text ingestion pipeline, the value should be `INDEX_TEXT` or `PRESERVE`.","x-i18n":{"zh-CN":{"description":"Function 类型。文本 Ingestion pipeline 的该参数值仅可以是 `INDEX_TEXT` 或 `PRESERVE`。"}}},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the field according to your needs. For a text ingestion pipeline, use it for a list of texts to be ingested.","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。文本 Ingestion pipeline 的输入字段中用于输入需要 Ingest 的文本列表。"}}},"langauge":{"type":"string","description":"Language that your source data is in. ","x-i18n":{"zh-CN":{"description":"您的源数据的语言。"}},"enum":["ENGLISH","CHINESE"]},"embedding":{"type":"string","description":"Name of the embedding model in use.","x-i18n":{"zh-CN":{"description":"使用的 Embedding 模型。"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]}}},{"type":"object","description":"Functions of a doc ingestion pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Doc Ingestion 类型时使用的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For a doc ingestion pipeline, the value should be `INDEX_DOC` or `PRESERVE`.","x-i18n":{"zh-CN":{"description":"Function 类型。文档 Ingestion pipeline 的该参数值仅可以是 `INDEX_DOC` 或 `PRESERVE`。"}}},"inputField":{"type":"string","description":"Name the field according to your needs. For a doc ingestion pipeline, use it for the pre-signed url of the doc to be ingested.","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。文本 Ingestion pipeline 的输入字段用于输入需要 Ingest 的文档的预签名 URL。"}}},"langauge":{"type":"string","description":"Language that your source data is in.","x-i18n":{"zh-CN":{"description":"您的源数据的语言。"}},"enum":["ENGLISH","CHINESE"]},"chunkSize":{"type":"integer","description":"The maximum size of a splitted document segment. The allowed chunk size range depends on the embedding model in use. For more information, refer to [Zilliz Cloud Limits](https://docs.zilliz.com/docs/limits#ingestion)","default":500},"embedding":{"type":"string","description":"Name of the embedding model in use.","x-i18n":{"zh-CN":{"description":"使用的 Embedding 模型。"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]},"splitBy":{"type":"array","items":{"type":"string","description":"A splitter.","x-i18n":{"zh-CN":{"description":"Splitter。"}}},"description":"The splitters for Zilliz Cloud to split the specified document into smaller chunks. The value defaults to `[\"\\n\\n\", \"\\n\", \" \", \"\"]`.","x-i18n":{"zh-CN":{"description":"用于分割文本的 Splitter。Ingestion Pipeline 会根据定义的字符按顺序将文本分割成小片段。默认使用`[\"\\n\\n\", \"\\n\", \" \", \"\"]` 作为分隔符。"}}}}},{"type":"object","description":"Functions of an image ingestion pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Image Ingestion 类型时使用的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For an image ingestion pipeline, the value should be `INDEX_IMAGE` or `PRESERVE`.","x-i18n":{"zh-CN":{"description":"Function 类型。图像 Ingestion pipeline 的该参数值仅可以是 `INDEX_IMAGE` 或 `PRESERVE`。"}}},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the fields according to your needs. In an image ingestion pipeline: `image_url` stands for pre-signed image URLs in object storage buckets, and `image_id` stands for the image ID.","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。图像 Ingestion pipeline 的输入字段中用于输入需要 Ingest 的图像对象存储预签名 URL（`image_url`）和图像 ID（`image_id`）。"}}},"embedding":{"type":"string","description":"Name of the embedding model in use.","x-i18n":{"zh-CN":{"description":"使用的 Embedding 模型。"}},"enum":["zilliz/vit-base-patch16-224","zilliz/clip-vit-base-patch32"]}}},{"type":"object","description":"Functions for an ingestion pipeline to preserve metadata.","x-i18n":{"zh-CN":{"description":"适用于 Ingestion Pipeline 的保留元数据的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For an ingestion pipeline that preserves metadata, the value should be `PRESERVE`.","x-i18n":{"zh-CN":{"description":"Function 类型。用于保留元数据的 Ingestion pipeline 的该参数值仅可以是 `PRESERVE`。"}}},"inputField":{"type":"string","description":"Name the field according to your needs. In a `PRESERVE` function of an ingestion pipeline, Zilliz Cloud uses the value as the name of a field in the collection to create.","x-i18n":{"zh-CN":{"description":"输入字段名称。Zilliz Cloud 将在创建 Collection 时使用该名称作为 Collection 字段名称。"}}},"outputField":{"type":"string","description":"Name of the output field. The value should be the same as that of `input_field`.","x-i18n":{"zh-CN":{"description":"输出字段名称。该字段值应该与输入字段的值保持一致。"}}},"fieldType":{"type":"string","description":"Data type of the field to create in the target collection.","x-i18n":{"zh-CN":{"description":"目标 Collection 中创建的字段数据类型。"}},"enum":["Bool","Int8","Int16","Int32","Int64","Float","Double","VarChar"]}}}]},"description":"Functions in the pipeline. An ingestion pipeline must have one and only one INDEX function and can have 0-50 PRESERVE functions.","x-i18n":{"zh-CN":{"description":"Pipeline 中添加的 Function 名称。Ingestion pipeline 中必须包含且仅可包含 1 个 INDEX 类型的 Function 和 0-50 个 PRESERVE 类型的 Function。"}}},"CLUSTER_ID":{"type":"string","description":"The target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群名称。"}}},"collectionName":{"type":"string","description":"The target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection。"}}}}}}},{"x-tab-label":"search","type":"object","properties":{"code":{"type":"integer","description":"Indicates whether the request succeeds."},"data":{"type":"object","description":"The information about the search pipeline just created.","x-i18n":{"zh-CN":{"description":"新建 Search Pipeline 的详细信息。"}},"properties":{"pipelineId":{"type":"integer","description":"A pipeline ID.","x-i18n":{"zh-CN":{"description":"Pipeline 的 ID。"}}},"name":{"type":"string","description":"Name of the pipeline","x-i18n":{"zh-CN":{"description":"Pipeline 的名称。"}},"minLength":3,"maxLength":64},"type":{"type":"string","description":"Type of the pipeline. For a search pipeline, the value should be `SEARCH`.","x-i18n":{"zh-CN":{"description":"Pipeline 的类型。Search pipeline 的该参数值仅可以是 `SEARCH`。"}}},"description":{"type":"string","description":"Description of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的描述。"}}},"status":{"type":"string","description":"Current status of the pipeline. If the value is not `SERVING`, the pipeline is not working.","x-i18n":{"zh-CN":{"description":"Pipeline 的当前状态。如果值不是 `SERVING`，则 Pipeline 不工作。"}}},"totalUsage":{"type":"array","items":{"type":"object","description":"Statistics on the total token usage of the pipeline.","x-i18n":{"zh-CN":{"description":"当前 Pipeline 的总 Token 用量统计。"}},"properties":{"embedding":{"type":"string","description":"Token usage of the embedding model.","x-i18n":{"zh-CN":{"description":"Embedding 模型 Token 总用量。"}}},"rerank":{"type":"string","description":"Token usage of the reranker model.","x-i18n":{"zh-CN":{"description":"Reranker 模型 Token 总用量。"}}}}},"description":"Total token usage of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的总用量。"}}},"functions":{"type":"array","items":{"description":"A Function in the created pipeline.","x-i18n":{"zh-CN":{"description":"已创建的 Pipeline 中的 Function。"}},"oneOf":[{"description":"Functions of a text search pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Text Search 类型时使用的函数列表。"}},"type":"object","properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For a text search pipeline, the value should be `SEARCH_TEXT`.","x-i18n":{"zh-CN":{"description":"Function 类型。文本 Search pipeline 的该参数值仅可以是 `SEARCH_TEXT`。"}}},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the field according to your needs. For a text search pipeline, use it for the query text (`query_text`).","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。文本 Search pipeline 的输入字段用于输入需要搜索的查询文本（`query_text`）。"}}},"embedding":{"type":"string","description":"The embedding model in use.","x-i18n":{"zh-CN":{"description":"使用的 Embedding 模型。"}}},"reranker":{"type":"string","description":"The reranking model in use.","x-i18n":{"zh-CN":{"description":"使用的 Reranker 模型。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的目标 Collection 名称。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的目标集群 ID。"}}}}},{"description":"Functions of a doc search pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Doc Search 类型时使用的函数列表。"}},"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a doc search pipeline, the value should be `SEARCH_DOC_CHUNK`. ","x-i18n":{"zh-CN":{"description":"Function 类型。文档 Search pipeline 的该参数值仅可以是 `SEARCH_DOC_CHUNK`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}},"enum":["zilliz/bge-base-en-v1.5","voyageai/voyage-2","voyageai/voyage-code-2","voyageai/voyage-large-2","openai/text-embedding-3-small","openai/text-embedding-3-large","zilliz/bge-base-zh-v1.5"]},"reranker":{"type":"string","description":"A reranking model used to rank a set of candidate outputs to improve the quality of the search results. Currently, the only possible value is `zilliz/bge-reranker-base`. For more information, refer to [Reranker](https://docs.zilliz.com/docs/reranker).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Reranking 模型。使用 Reranker 可以对输出结果进行重新排序，提高搜索结果质量。目前，仅支持 `zilliz/bge-reranker-base` 作为 Reranker 模型。更多信息，请参考[Reranker](https://docs.zilliz.com.cn/docs/reranker)。"}},"enum":["zilliz/bge-reranker-base"]},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the field according to your needs. For a doc search pipeline, use it for the query text (`query_text`).","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。文档 Search pipeline 的输入字段用于输入需要搜索的查询文本（`query_text`）。"}}}}},{"description":"Functions of a reverse image search pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Image Search 类型（以图搜图）时使用的函数列表。"}},"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"需要添加的 Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For a reverse image search pipeline, the value should be `SEARCH_IMAGE_BY_IMAGE `. ","x-i18n":{"zh-CN":{"description":"需要添加的 Function 类型。图像（以图搜图） Search pipeline 的该参数值仅可以是 `SEARCH_IMAGE_BY_IMAGE`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}}},"reranker":{"type":"string","description":"The reranker model in use .","x-i18n":{"zh-CN":{"description":"使用的 Reranker 模型。"}},"enum":["zilliz/bge-reranker-base"]},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the field according to your needs. For a reverse image search pipeline, use it for the query image URL (`query_image_url`).","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。以图搜图 Search pipeline 的输入字段用于输入需要搜索的查询图像 URL（`query_image_url`）。"}}}}},{"description":"Functions of an image search pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Image Search 类型（以文搜图）时使用的函数列表。"}},"type":"object","properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"需要添加的 Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For an image search pipeline, the value should be `SEARCH_IMAGE_BY_TEXT`. ","x-i18n":{"zh-CN":{"description":"需要添加的 Function 类型。图像（以文搜图） Search pipeline 的该参数值仅可以是 `SEARCH_IMAGE_BY_TEXT`。"}}},"clusterId":{"type":"string","description":"ID of the target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群 ID。"}}},"collectionName":{"type":"string","description":"Name of the target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection 名称。"}}},"embedding":{"type":"string","description":"An embedding model in use for vector search. It should be consistent with the embedding model chosen in its compatible collection. For more information, refer to [Which embedding model does Zilliz Cloud Pipelines use?](https://docs.zilliz.com/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use).","x-i18n":{"zh-CN":{"description":"向量搜索时使用的 Embedding 模型。该模型应该与 Pipeline 配套的 Collection 中使用的 Embedding 模型保持一致。更多 Embedding 模型相关信息，请参见[Zilliz Cloud Pipelines 使用哪些 Embedding 模型？](https://docs.zilliz.com.cn/docs/faq-pipelines#which-embedding-model-does-zilliz-cloud-pipelines-use)"}}},"reranker":{"type":"string","description":"The reranker model in use .","x-i18n":{"zh-CN":{"description":"使用的 Reranker 模型。"}},"enum":["zilliz/bge-reranker-base"]},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the field according to your needs. For a text-image search pipeline, use it for the query text (`query_text`).","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。以文本搜图 Search pipeline 的输入字段用于输入需要搜索的查询文本（`query_text`）。"}}}}}]},"description":"Functions in the pipeline. A search pipeline can only have one function.","x-i18n":{"zh-CN":{"description":"Pipeline 中添加的 Function 名称。Search pipeline 中仅可包含 1 个 Function。"}}}}}}},{"x-tab-label":"deletion","type":"object","properties":{"code":{"type":"integer","description":"Indicates whether the request succeeds.","x-i18n":{"zh-CN":{"description":"表示当前操作是否成功。"}}},"data":{"type":"object","description":"The information about the deletion pipeline just created.","x-i18n":{"zh-CN":{"description":"新建 Deletion Pipeline 的详细信息。"}},"properties":{"pipelineId":{"type":"integer","description":"ID of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的 ID。"}}},"name":{"type":"string","description":"Name of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的名称。"}},"minLength":3,"maxLength":64},"type":{"type":"string","description":"Type of the pipeline. For a deletion pipeline, the value should be `DELETION`.","x-i18n":{"zh-CN":{"description":"Pipeline 的类型。Deletion pipeline 的该参数值仅可以是 `DELETION`。"}}},"createTimestamp":{"type":"integer","description":"Timestamp indicating when the pipeline is created.","x-i18n":{"zh-CN":{"description":"Pipeline 的创建时间戳。"}}},"description":{"type":"string","description":"Description of the pipeline.","x-i18n":{"zh-CN":{"description":"Pipeline 的描述。"}}},"status":{"type":"string","description":"Current status of the pipeline. If the value is other than `SERVING`, the pipeline is not working.","x-i18n":{"zh-CN":{"description":"Pipeline 的当前状态。如果值不是 `SERVING`，则 Pipeline 不工作。"}}},"functions":{"type":"array","items":{"description":"A function in the pipeline.","x-i18n":{"zh-CN":{"description":"当前 Pipeline 中包含的一个函数。"}},"oneOf":[{"type":"object","description":"Functions of a text deletion pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Text Deletion 类型时使用的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For a text deletion pipeline, the value should be `PURGE_TEXT_INDEX ` or `PURGE_BY_EXPRESSION`.","x-i18n":{"zh-CN":{"description":"Function 类型。文本 Deletion pipeline 的该参数值仅可以是 `PURGE_TEXT_INDEX ` 或 `PURGE_BY_EXPRESSION`。"}}},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the field according to your needs. For a text ingestion pipeline, use it for the ID of the text (`id`) to be deleted or an expression (`expression`).","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。文本 Deletion pipeline 的输入字段用于输入需要删除的文本 ID（`id`）或表达式（`expression`）。"}}}}},{"type":"object","description":"Functions of a doc deletion pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Doc Deletion 类型时使用的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function.","x-i18n":{"zh-CN":{"description":"Function 名称。"}}},"action":{"type":"string","description":"Type of the function. For a doc deletion pipeline, the value should be `PURGE_DOC_INDEX ` or `PURGE_BY_EXPRESSION`.","x-i18n":{"zh-CN":{"description":"Function 类型。文档 Deletion pipeline 的该参数值仅可以是 `PURGE_DOC_INDEX ` 或 `PURGE_BY_EXPRESSION`。"}},"enum":["PURGE_DOC_INDEX ","PURGE_BY_EXPRESSION"]},"inputFields":{"type":"string","description":"Name the field according to your needs. For a doc deletion pipeline, use it for the name of the doc (`doc_name`) to be deleted or an expression (`expression`).","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。文本 Deletion pipeline 的输入字段用于输入需要删除的文档名称（`doc_name`）或表达式（`expression`）。"}}}}},{"type":"object","description":"Functions of an image deletion pipeline.","x-i18n":{"zh-CN":{"description":"当 Pipeline 为 Image Deletion 类型时使用的函数列表。"}},"properties":{"name":{"type":"string","description":"Name of the function to add. The function name should be a string of 3-64 characters and can contain only alphanumeric letters and underscores.","x-i18n":{"zh-CN":{"description":"Function 名称。Function 名称应该在 3-64 个字符内，且只可包含数字、字母和下划线。"}},"minLength":3,"maxLength":64},"action":{"type":"string","description":"Type of the function to add. For an image deletion pipeline, the value should be `PURGE_IMAGE_INDEX` or `PURGE_BY_EXPRESSION`. ","x-i18n":{"zh-CN":{"description":"Function 类型。图像 Deletion pipeline 的该参数值仅可以是 `PURGE_IMAGE_INDEX`或 `PURGE_BY_EXPRESSION`。"}},"enum":["PURGE_IMAGE_INDEX","PURGE_BY_EXPRESSION"]},"inputFields":{"type":"array","items":{"type":"string","description":"An input field.","x-i18n":{"zh-CN":{"description":"输入字段。"}}},"description":"Name the fields according to your needs. In an image deletion pipeline, use it for the ID of the image (`image_id`) to delete or an expression (`expression`). ","x-i18n":{"zh-CN":{"description":"根据您的需求为输入字段命名。图像 Deletion pipeline 的输入字段用于输入需要删除的图像 ID（`image_id`）或表达式（`expression`）。"}}}}}]},"description":"Functions in the pipeline. An ingestion pipeline must have one and only one INDEX function and can have 0-50 PRESERVE functions."},"CLUSTER_ID":{"type":"string","description":"The target cluster to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的集群名称。"}}},"collectionName":{"type":"string","description":"The target collection to which the pipeline applies.","x-i18n":{"zh-CN":{"description":"Pipeline 所属的 Collection。"}}}}}}},{"x-tab-label":"failure","description":"Returns an error message.","x-i18n":{"zh-CN":{"description":"返回错误消息。"}},"x-i18n-langs":["zh-CN"],"type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"message":{"type":"string","description":"Error message.","x-i18n":{"zh-CN":{"description":"错误描述。"}}}}}]},"examples":{"1":{"summary":"Text Ingestion","x-target-response":"OPTION 1","value":{"code":200,"data":{"pipelineId":"pipe-xxx","name":"my_text_ingestion_pipeline","type":"INGESTION","createTimestamp":1721187300000,"description":"A pipeline that generates text embeddings and stores additional fields.","status":"SERVING","totalUsage":{"embedding":0},"functions":[{"name":"index_my_text","action":"INDEX_TEXT","inputFields":["text_list"],"language":"ENGLISH","embedding":"zilliz/bge-base-en-v1.5"},{"name":"keep_text_info","action":"PRESERVE","inputField":"source","outputField":"source","fieldType":"VarChar"}],"clusterId":"inxx-xxxx","collectionName":"my_collection"}}},"2":{"summary":"Document Ingestion","x-target-response":"OPTION 1","value":{"code":200,"data":{"pipelineId":"pipe-xxxx","name":"my_doc_ingestion_pipeline","type":"INGESTION","createTimestamp":1721187300000,"description":"A pipeline that splits a doc file into chunks and generates embeddings. It also stores the publish_year with each chunk.","status":"SERVING","totalUsage":{"embedding":0},"functions":[{"action":"INDEX_DOC","name":"index_my_doc","inputField":"doc_url","language":"ENGLISH","chunkSize":500,"embedding":"zilliz/bge-base-en-v1.5","splitBy":["\n\n","\n"," ",""]},{"action":"PRESERVE","name":"keep_doc_info","inputField":"publish_year","outputField":"publish_year","fieldType":"Int16"}],"clusterId":"in03-***************","collectionName":"my_collection"}}},"3":{"summary":"Image Ingestion","x-target-response":"OPTION 1","value":{"code":200,"data":{"pipelineId":"pipe-xxxx","name":"my_image_ingestion_pipeline","type":"INGESTION","createTimestamp":1721187300000,"clusterId":"in03-***************","collectionName":"my_collection","description":"A pipeline that converts an image into vector embeddings and store in efficient index for search.","status":"SERVING","totalUsage":{"embedding":0},"functions":[{"action":"INDEX_IMAGE","name":"index_my_image","inputFields":["image_url","image_id"],"embedding":"zilliz/vit-base-patch16-224"},{"action":"PRESERVE","name":"keep_image_tag","inputField":"image_title","outputField":"image_title","fieldType":"VarChar"}]}}},"4":{"summary":"Text Search","x-target-response":"OPTION 2","value":{"code":200,"data":{"pipelineId":"pipe-xxxx","name":"my_text_search_pipeline","type":"SEARCH","createTimestamp":1721187655000,"description":"A pipeline that receives text and search for semantically similar texts","status":"SERVING","totalUsage":{"embedding":0,"rerank":0},"functions":[{"name":"search_text","action":"SEARCH_TEXT","inputFields":["query_text"],"clusterId":"inxx-xxxx","collectionName":"my_collection","reranker":"zilliz/bge-reranker-base","embedding":"zilliz/bge-base-en-v1.5"}]}}},"5":{"summary":"Document Search","x-target-response":"OPTION 2","value":{"code":200,"data":{"pipelineId":"pipe-84e6d9dba930e035150972","name":"my_text_search_pipeline","type":"SEARCH","createTimestamp":1721187655000,"description":"A pipeline that receives text and search for semantically similar doc chunks","status":"SERVING","totalUsage":{"embedding":0,"rerank":0},"functions":{"action":"SEARCH_DOC_CHUNK","name":"search_chunk_text_and_title","inputField":"query_text","clusterId":"in03-***************","collectionName":"my_collection","embedding":"zilliz/bge-base-en-v1.5","reranker":"zilliz/bge-reranker-base"}}}},"6":{"summary":"Image Search","x-target-response":"OPTION 2","value":{"code":200,"data":{"pipelineId":"pipe-xxxx","name":"my_image_search_pipeline","type":"SEARCH","createTimestamp":1721187300000,"description":"A pipeline that searches image by image.","status":"SERVING","totalUsage":{"embedding":0},"functions":{"action":"SEARCH_IMAGE_BY_IMAGE","name":"search_image_by_image","inputFields":["query_image_url"],"clusterId":"in03-***************","collectionName":"my_collection","embedding":"zilliz/vit-base-patch16-224"}}}},"7":{"summary":"Text Deletion","x-target-response":"OPTION 3","value":{"code":200,"data":{"pipelineId":"pipe-xxxx","name":"my_text_deletion_pipeline","type":"DELETION","createTimestamp":1721187655000,"description":"A pipeline that deletes entities by expression","status":"SERVING","functions":[{"action":"PURGE_BY_EXPRESSION","name":"purge_data_by_expression","inputFields":["expression"]}],"clusterId":"in03-***************","collectionName":"my_collection"}}},"8":{"summary":"Document Deletion","x-target-response":"OPTION 3","value":{"code":200,"data":{"pipelineId":"pipe-ab2874d8138c8554375bb0","name":"my_doc_deletion_pipeline","type":"DELETION","createTimestamp":1721187655000,"description":"A pipeline that deletes all info associated with a doc","status":"SERVING","functions":[{"action":"PURGE_DOC_INDEX","name":"purge_chunks_by_doc_name","inputField":"doc_name"}],"clusterId":"in03-***************","collectionName":"my_collection"}}},"9":{"summary":"Image Deletion","x-target-response":"OPTION 3","value":{"code":200,"data":{"id":0,"name":"my_image_deletion_pipeline","type":"DELETION","createTimestamp":1721187655000,"description":"A pipeline that deletes image by id","status":"SERVING","functions":[{"name":"purge_image_by_id","action":"PURGE_IMAGE_INDEX","inputFields":["image_id"]}],"clusterId":"in03-xxxx","collectionName":" my_collection"}}},"10":{"summary":"failure","x-target-response":"OPTION 4","value":{"code":80002,"message":"Token not found or unauthorized: The provided token does not exist in our records, or you do not have the necessary permissions to use this token. Please ensure you have the correct token."}}}}}}},"security":[]}
export const endpoint = "/v1/pipelines"
export const method = "post"
