---
displayed_sidebar: restfulSidebar
sidebar_positition: 32
slug: /restful/query-metrics
beta: NEAR DEPRECATE
title: "查看集群指标 | RESTful"
description: "本接口查询指定集群的指标统计信息。 | RESTful"
hide_table_of_contents: true
sidebar_label: "查看集群指标"
sidebar_custom_props: { badges: ['post']}
---

# 查看集群指标

import RestSpecs from '@site/src/components/RestSpecs';

<RestSpecs specs={specs} endpoint={endpoint} method={method} target="zilliz" lang="zh-CN" />

export const specs = {"summary":"Query Metrics","deprecated":false,"description":"Queries the metrics of a cluster.","x-i18n":{"zh-CN":{"summary":"查看集群指标","description":"本接口查询指定集群的指标统计信息。"}},"tags":["Cluster Operations"],"parameters":[{"name":"CLUSTER_ID","in":"path","description":"The ID of the cluster.","required":true,"example":"inxx-xxxxxxxxxxxxxxxxx","schema":{"type":"string"},"x-i18n":{"zh-CN":{"description":"集群 ID。"}}},{"name":"Authorization","in":"header","description":"The authentication token should be an API key with appropriate privileges.","required":true,"example":"Bearer {{TOKEN}}","schema":{"type":"string"},"x-i18n":{"zh-CN":{"description":"认证令牌，应为具备适当权限的 API 密钥。"}}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"start":{"type":"string","description":"The starting date and time for the metric reporting period, expressed in ISO 8601 timestamp format in UTC. Use this parameter when the `period` parameter is not set.","x-i18n":{"zh-CN":{"description":"开始时间，格式为 ISO 8601 时间戳格式（UTC）。当 `period` 参数未设置时，需要包含此参数。"}},"example":"2023-12-31T23:59:59Z"},"end":{"type":"string","description":"The ending date and time for the metric reporting period, expressed in ISO 8601 timestamp format in UTC. Use this parameter when the `period` parameter is not set.","x-i18n":{"zh-CN":{"description":"结束时间，格式为 ISO 8601 时间戳格式（UTC）。当 `period` 参数未设置时，需要包含此参数。"}},"example":"2024-07-01T08:15:30Z"},"period":{"type":"string","description":"The duration over which the metrics are reported, expressed in [ISO 8601 duration](https://datatracker.ietf.org/doc/html/rfc3339#page-12) format in UTC. Use this parameter when neither `start` nor `end` parameters are not set.","x-i18n":{"zh-CN":{"description":"指标报告期间的持续时间，格式为 [ISO 8601 持续时间](https://datatracker.ietf.org/doc/html/rfc3339#page-12)格式（UTC）。当 `start` 和 `end` 参数都未设置时，需要包含此参数。"}},"enum":["P1D","P1M"]},"granularity":{"type":"string","description":"The time interval at which the metrics are reported, expressed in ISO 8601 duration format in UTC. The minimum granularity is PT30S.","x-i18n":{"zh-CN":{"description":"系统向用户报告指标的时间间隔，格式为 ISO 8601 持续时间格式（UTC）。最小粒度为 PT30S。"}}},"metricQueries":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"The name of the metric to query. For details about available metrics, refer to [Metrics & Alerts Reference](/docs/metrics-alerts-reference#cluster-metrics).","enum":["CU_COMPUTATION","CU_CAPACITY","STORAGE_USE","REQ_INSERT_COUNT","REQ_BULK_INSERT_COUNT","REQ_UPSERT_COUNT","REQ_DELETE_COUNT","REQ_SEARCH_COUNT","REQ_QUERY_COUNT","VECTOR_REQ_INSERT_COUNT","VECTOR_REQ_UPSERT_COUNT","VECTOR_REQ_SEARCH_COUNT","REQ_INSERT_LATENCY","REQ_BULK_INSERT_LATENCY","REQ_UPSERT_LATENCY","REQ_DELETE_LATENCY","REQ_SEARCH_LATENCY","REQ_QUERY_LATENCY","REQ_SUCCESS_RATE","REQ_FAIL_RATE","REQ_FAIL_RATE_INSERT","REQ_FAIL_RATE_BULK_INSERT","REQ_FAIL_RATE_UPSERT","REQ_FAIL_RATE_DELETE","REQ_FAIL_RATE_SEARCH","REQ_FAIL_RATE_QUERY","ENTITIES_LOADED","ENTITIES_INSERT_RATE","COLLECTIONS_COUNT","ENTITIES_COUNT"],"x-i18n":{"zh-CN":{"description":"待查询的指标名称。有关可用指标的详细信息，请参阅[指标与告警快速参考](/docs/metrics-alerts-reference#cluster-metrics)。"}}},"stat":{"type":"string","description":"The statistical method to apply to the metric. **AVG** is the average value available for each metric, while **P99** is the 99th percentile value for latency-related metrics.","enum":["AVG","P99"],"x-i18n":{"zh-CN":{"description":"用于对指标进行统计的方法。**AVG** 表示计算平均值，对所有指标都适用； **P99** 表示计算 99 百分位值，对时延相关指标适用。"}}}},"required":["name","stat"],"description":"The information about the metric.","x-i18n":{"zh-CN":{"description":"关于指标的信息。"}}},"description":"An array of MetricQuery objects.","x-i18n":{"zh-CN":{"description":"指标查询对象数组。"}}}},"required":["granularity","metricQueries","start","end","period"],"x-i18n-langs":["zh-CN"]},"examples":{"1":{"summary":"example","value":{"start":"","end":"","period":"PT99H","granularity":"PT5H","metricQueries":[{"name":"CU_CAPACITY","stat":"AVG"}]}}}}}},"responses":{"200":{"description":"Returns the statistics on the queried metrics.","x-i18n":{"zh-CN":{"description":"返回指定指标的相关统计信息。"}},"content":{"application/json":{"schema":{"oneOf":[{"x-tab-label":"success","type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"data":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"The name of the metric.","x-i18n":{"zh-CN":{"description":"指标名称。"}}},"stat":{"type":"string","description":"The statistical function applied to the metric.","x-i18n":{"zh-CN":{"description":"用于计算指标的统计方法。"}}},"unit":{"type":"string","description":"The unit of measurement for the metric (e.g., percent).","x-i18n":{"zh-CN":{"description":"指标的计量单位，如百分比。"}}},"values":{"type":"array","items":{"type":"object","description":"A data point in detail.","x-i18n":{"zh-CN":{"description":"一个数据点的详细信息。"}},"properties":{"timestamp":{"type":"string","description":"The timestamp for the data point in ISO 8601 format.","x-i18n":{"zh-CN":{"description":"数据点的时间戳，格式为 ISO 8601。"}}},"value":{"type":"string","description":"The value of the metric at the given timestamp.","x-i18n":{"zh-CN":{"description":"指标在给定时间戳的值。"}}}}},"description":"An array of data points.","x-i18n":{"zh-CN":{"description":"一组数据点。"}}}},"description":"Information about the metric.","x-i18n":{"zh-CN":{"description":"关于指标的信息。"}}},"description":"An array of result objects.","x-i18n":{"zh-CN":{"description":"结果对象数组。"}}}},"description":"Response payload, which is an object containing information about the queried metric.","x-i18n":{"zh-CN":{"description":"响应负载，是一个包含查询指标信息的对象。"}}}},"description":"A success response."},{"x-tab-label":"failure","type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"message":{"type":"string","description":"Error message.","x-i18n":{"zh-CN":{"description":"错误描述。"}}}},"description":"A failure response."}]},"examples":{"1":{"summary":"success","x-target-response":"OPTION 1","value":{"code":200,"data":{"results":[{"name":"CU_COMPUTATION","stat":"AVG","unit":"percent","values":[{"timestamp":"2024-07-23T16:09:53Z","value":"1.00"},{"timestamp":"2024-07-23T22:09:53Z","value":"1.00"},{"timestamp":"2024-07-24T04:09:53Z","value":"1.00"}]}]}}},"2":{"summary":"failure","x-target-response":"OPTION 2","value":{"code":1800,"message":"User hasn't authenticated"}}}}}}},"security":[]}
export const endpoint = "/v1/clusters/{CLUSTER_ID}/metrics/query"
export const method = "post"
