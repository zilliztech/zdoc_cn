---
displayed_sidebar: restfulSidebar
sidebar_positition: 112
slug: /restful/query-cluster-metrics-v2
beta: FALSE
title: "查询集群指标 | RESTful"
description: "本接口可以查询指定集群的统计指标。 | RESTful"
hide_table_of_contents: true
sidebar_label: "查询集群指标"
sidebar_custom_props: { badges: ['post']}
---

# 查询集群指标

import RestSpecs from '@site/src/components/RestSpecs';

<RestSpecs specs={specs} endpoint={endpoint} method={method} target="zilliz" lang="zh-CN" />

export const specs = {"summary":"Query Cluster Metrics","deprecated":false,"description":"Query the metrics of a specific cluster.","x-i18n":{"zh-CN":{"summary":"查询集群指标","description":"本接口可以查询指定集群的统计指标。"}},"tags":["Metrics & Alerts (V2)"],"parameters":[{"name":"CLUSTER_ID","in":"path","description":"ID of the target cluster.","x-i18n":{"zh-CN":{"description":"目标集群的 ID。"}},"required":true,"example":"inxx-xxxxxxxxxxxxxxx","schema":{"type":"string"}},{"name":"Authorization","in":"header","description":"The authentication token should be an API key with appropriate privileges.","required":true,"example":"Bearer {{TOKEN}}","schema":{"type":"string"},"x-i18n":{"zh-CN":{"description":"认证令牌，应为具备适当权限的 API 密钥。"}}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"start":{"type":"string","description":"The starting date and time for the metric reporting period, expressed in ISO 8601 timestamp format in UTC. Include this parameter and `end` when the `period` parameter is not set.","x-i18n":{"zh-CN":{"description":"指标报告期间的起始日期和时间，以 UTC 时间格式的 ISO 8601 时间戳表示。当 `period` 参数未设置时，需同时包含 `start` 和 `end` 参数。"}}},"end":{"type":"string","description":"The ending date and time for the metric reporting period, expressed in ISO 8601 timestamp format in UTC. Include this parameter and `start` when the `period` parameter is not set.","x-i18n":{"zh-CN":{"description":"指标报告期间的结束日期和时间，以 UTC 时间格式的 ISO 8601 时间戳表示。当 `period` 参数未设置时，需同时包含 `start` 和 `end` 参数。"}}},"period":{"type":"string","description":"The duration over which Zilliz Cloud reports the metrics, expressed in ISO 8601 duration format in UTC. Include this parameter when both `start` and `end` parameters are not set.","x-i18n":{"zh-CN":{"description":"Zilliz Cloud 向用户报告指标的持续时间，以 UTC 时间格式的 ISO 8601 持续时间表示。当 `start` 和 `end` 参数未设置时，需同时包含 `period` 参数。"}}},"granularity":{"type":"string","description":"The time interval at which Zilliz Cloud reports the metrics, expressed in ISO 8601 duration format in UTC. The minimum granularity is PT30S.","x-i18n":{"zh-CN":{"description":"Zilliz Cloud 向用户报告指标的时间间隔，以 UTC 时间格式的 ISO 8601 持续时间表示。最小粒度为 PT30S。"}}},"metricQueries":{"type":"array","items":{"type":"object","properties":{"metricName":{"type":"string","description":"Name of a metric. <br/>For possible values, refer to the enumerations. <br/>For details on these metrics, refer to [Metrics & Alerts Reference](/docs/metrics-alerts-reference).","x-i18n":{"zh-CN":{"description":"指标名称。<br/>可选值请参考枚举。<br/>关于这些指标的详细信息，请参考[指标与告警参考](/docs/metrics-alerts-reference)章节。"}},"enum":["CU_COMPUTATION","CU_CAPACITY","STORAGE_USE","REQ_INSERT_COUNT","REQ_BULK_INSERT_COUNT","REQ_UPSERT_COUNT","REQ_DELETE_COUNT","REQ_SEARCH_COUNT","REQ_QUERY_COUNT","VECTOR_REQ_INSERT_COUNT","VECTOR_REQ_BULK_INSERT_COUNT","VECTOR_REQ_UPSERT_COUNT","VECTOR_REQ_DELETE_COUNT","VECTOR_REQ_SEARCH_COUNT","REQ_INSERT_LATENCY_AVG","REQ_INSERT_LATENCY_P99","REQ_UPSERT_LATENCY_AVG","REQ_UPSERT_LATENCY_P99","REQ_DELETE_LATENCY_AVG","REQ_DELETE_LATENCY_P99","REQ_SEARCH_LATENCY_AVG","REQ_SEARCH_LATENCY_P99","REQ_QUERY_LATENCY_AVG","REQ_QUERY_LATENCY_P99","SLOW_QUERY_COUNT","REQ_FAIL_RATE_INSERT","REQ_FAIL_RATE_BULK_INSERT","REQ_FAIL_RATE_UPSERT","REQ_FAIL_RATE_DELETE","REQ_FAIL_RATE_SEARCH","REQ_FAIL_RATE_QUERY","ENTITIES_LOADED","ENTITIES_INDEXED","ENTITIES_COUNT","COLLECTIONS_COUNT","CLUSTER_WRITE_CAPACITY","UNLOADED_COLLECTIONS_COUNT","FLUSH_COUNT"]}},"required":["metricName"],"description":"A **MetricQuery** object.","x-i18n":{"zh-CN":{"description":"一个 **MetricQuery** 对象。"}}},"description":"List of **MetricQuery** objects.","x-i18n":{"zh-CN":{"description":"一个 **MetricQuery** 对象列表。"}}}},"required":["granularity","metricQueries"]},"example":{"start":"2024-06-30T16:09:53Z","end":"2024-07-01T16:09:53Z","granularity":"PT6H","metricQueries":[{"metricName":"CU_COMPUTATION"}]}}}},"responses":{"200":{"description":"Return the collected statistics on the specified metric in detail.","x-i18n":{"zh-CN":{"description":"返回指定指标的相关统计信息。"}},"content":{"application/json":{"schema":{"anyOf":[{"x-tab-label":"success","type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"data":{"type":"object","properties":{"results":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"A metric name.","x-i18n":{"zh-CN":{"description":"指标名称。"}}},"stat":{"type":"string","description":"Statistical method applied.","x-i18n":{"zh-CN":{"description":"使用的统计方法。"}}},"unit":{"type":"string","description":"Unit of the value in the statistics.","x-i18n":{"zh-CN":{"description":"统计值单位。"}}},"values":{"type":"array","items":{"type":"object","properties":{"timestamp":{"type":"string","description":"The timestamp for the data point in ISO 8601 format.","x-i18n":{"zh-CN":{"description":"ISO 8601 格式的数据点时间戳。"}}},"value":{"type":"string","description":"The value of the metric at the given timestamp.","x-i18n":{"zh-CN":{"description":"给定时间戳的指标值。"}}}},"description":"Statistics collected within an interval period.","x-i18n":{"zh-CN":{"description":"在采集周期内收集到的统计信息。"}}},"description":"List of collected statistics at an interval.","x-i18n":{"zh-CN":{"description":"在采集周期内收集到的统计信息列表。"}}}},"description":"A set of collected statistics.","x-i18n":{"zh-CN":{"description":"采集到的统计信息。"}}},"description":"List of collected statistics on the specified metric.","x-i18n":{"zh-CN":{"description":"对指定指标采集到的统计信息列表。"}}}},"description":"Response payload.","x-i18n":{"zh-CN":{"description":"响应负载。"}}}}},{"x-tab-label":"failure","description":"Returns an error message.","x-i18n":{"zh-CN":{"description":"返回错误消息。"}},"x-i18n-langs":["zh-CN"],"type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"message":{"type":"string","description":"Error message.","x-i18n":{"zh-CN":{"description":"错误描述。"}}}}}]},"examples":{"1":{"summary":"success","x-target-response":"OPTION 1","value":{"code":0,"data":{"results":[{"name":"CU_COMPUTATION","stat":"AVG","unit":"percent","values":[{"timestamp":"2024-06-30T16:09:53Z","value":null},{"timestamp":"2024-06-30T22:09:53Z","value":"1.00"},{"timestamp":"2024-07-01T04:09:53Z","value":"1.00"},{"timestamp":"2024-07-01T10:09:53Z","value":"1.00"}]}]}}},"2":{"summary":"failure","x-target-response":"OPTION 2","value":{"code":21119,"message":"The apikey is illegal."}}}}}}},"security":[]}
export const endpoint = "/v2/clusters/{CLUSTER_ID}/metrics/query"
export const method = "post"
