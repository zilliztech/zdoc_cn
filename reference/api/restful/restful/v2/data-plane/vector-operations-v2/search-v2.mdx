---
displayed_sidebar: restfulSidebar
sidebar_positition: 99
slug: /restful/search-v2
beta: FALSE
title: "搜索 (V2) | RESTful"
description: "本接口可以执行向量相似性搜索。您也可以在搜索指令中包含一个可选的标量过滤表达式。 | RESTful"
hide_table_of_contents: true
sidebar_label: "搜索 (V2)"
sidebar_custom_props: { badges: ['post']}
---

# 搜索 (V2)

import RestSpecs from '@site/src/components/RestSpecs';

<RestSpecs specs={specs} endpoint={endpoint} method={method} target="zilliz" lang="zh-CN" />

export const specs = {"summary":"Search","deprecated":false,"description":"This operation conducts a vector similarity search with an optional scalar filtering expression.","x-i18n":{"zh-CN":{"summary":"搜索","description":"本接口可以执行向量相似性搜索。您也可以在搜索指令中包含一个可选的标量过滤表达式。"}},"tags":["Vector Operations (V2)"],"parameters":[{"name":"Authorization","in":"header","description":"The authentication token should be <include target=\"zilliz\">an API key with appropriate privileges or </include>a pair of colon-joined username and password, like `username:password`.","required":true,"example":"Bearer {{TOKEN}}","schema":{"type":"string"},"x-i18n":{"zh-CN":{"description":"认证令牌，应为<include target=\"zilliz\">具备适当权限的 API 密钥或</include>用冒号分隔的用户名和密码，如 `username:password`。"}}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"dbName":{"type":"string","description":"The name of the database.","x-i18n":{"zh-CN":{"description":"数据库名称。"}}},"collectionName":{"type":"string","description":"The name of the collection to which this operation applies.","x-i18n":{"zh-CN":{"description":"当前操作的目标 Collection 名称。"}}},"data":{"type":"array","items":{"type":"number","description":"A vector embedding","x-i18n":{"zh-CN":{"description":"一个向量嵌入。"}},"format":"float32"},"description":"A list of vector embeddings.\n<include target=\"milvus\">Milvus</include><include target=\"zilliz\">Zilliz Cloud</include> searches for the most similar vector embeddings to the specified ones.","x-i18n":{"zh-CN":{"description":"一个向量嵌入列表。\n<include target=\"milvus\">Milvus</include><include target=\"zilliz\">Zilliz Cloud</include> 会搜索与指定向量嵌入最相似的向量。"}}},"annsField":{"type":"string","description":"The name of the vector field.","x-i18n":{"zh-CN":{"description":"向量字段名称。"}}},"filter":{"type":"string","description":"The filter used to find matches for the search.","x-i18n":{"zh-CN":{"description":"在检索结果中根据标量字段进行过滤的表达式。"}}},"groupingField":{"type":"string","description":"Groups search results by a specified field to ensure diversity and avoid returning multiple results from the same group.","x-i18n":{"zh-CN":{"description":"对搜索结果进行分组，以确保结果的多样性，并避免返回来自同一组的多个结果。"}}},"groupSize":{"type":"integer","description":"The number of entities to return for each group. This parameter is only valid when `groupingField` is specified.","x-i18n":{"zh-CN":{"description":"每个组返回的 Entity 数量。该参数仅在 `groupingField` 被指定时有效。"}}},"strictGroupSize":{"type":"boolean","description":"Whether to return only the top k entities for each group. This parameter is only valid when `groupingField` is specified.","x-i18n":{"zh-CN":{"description":"是否仅返回每个组的前 k 个 Entity。该参数仅在 `groupingField` 被指定时有效。"}}},"limit":{"type":"integer","description":"The total number of entities to return.\nYou can use this parameter in combination with **offset** in **param** to enable pagination.\nThe sum of this value and **offset** in **param** should be less than 16,384. ","x-i18n":{"zh-CN":{"description":"需要在搜索结果中返回的 Entity 数量。\n您可以使用此参数与 **offset** 参数结合使用以实现分页。\n此值与 **offset** 参数之和不应超过 16,384。"}}},"offset":{"type":"integer","description":"The number of records to skip in the search result. \nYou can use this parameter in combination with limit to enable pagination. \nThe sum of this value and limit should be less than 16,384. ","x-i18n":{"zh-CN":{"description":"需要在搜索结果中跳过的 Entity 数量。\n您可以使用此参数与 **limit** 参数结合使用以实现分页。\n此值与 **limit** 参数之和不应超过 16,384。"}}},"outputFields":{"type":"array","items":{"type":"string","description":"A field name","x-i18n":{"zh-CN":{"description":"字段名称"}}},"description":"An array of fields to return along with the search results.","x-i18n":{"zh-CN":{"description":"需要在搜索结果中包含的字段名称列表。"}}},"searchParams":{"description":"The parameter settings specific to this operation.","x-i18n":{"zh-CN":{"description":"当前操作的附加参数。"}},"type":"object","properties":{"metricType":{"type":"string","description":"The name of the metric type that applies to the current search. The value should be the same as the metric type of the target collection.","x-i18n":{"zh-CN":{"description":"当前操作使用的相似度度量类型。该值应与目标 Collection 的度量类型相同。"}},"enum":["L2","IP","COSINE"],"default":"COSINE"},"params":{"description":"Extra search parameters.","x-i18n":{"zh-CN":{"description":"其它附加参数。"}},"type":"object","properties":{"radius":{"type":"number","format":"float64","description":"Determines the threshold of least similarity. When setting metric_type to L2, ensure that this value is greater than that of range_filter. Otherwise, this value should be lower than that of range_filter. ","x-i18n":{"zh-CN":{"description":"确定最低相似度阈值。当设置 metric_type 为 L2 时，请确保该值大于 range_filter 的值。否则，该值应小于 range_filter 的值。"}}},"range_filter":{"type":"number","format":"float64","description":"Refines the search to vectors within a specific similarity range. When setting metric_type to IP or COSINE, ensure that this value is greater than that of radius. Otherwise, this value should be lower than that of radius. ","x-i18n":{"zh-CN":{"description":"优化搜索结果的相似度范围。当设置 metric_type 为 IP 或 COSINE 时，请确保该值大于 radius 的值。否则，该值应小于 radius 的值。"}}}}}}},"partitionNames":{"type":"array","items":{"type":"string","description":"A partition name.","x-i18n":{"zh-CN":{"description":"一个 Partition 名称。"}}},"description":"The name of the partitions to which this operation applies. Setting this parameter indicates that the search is within the specified partitions. Otherwise, the search is across all partitions in the collection.","x-i18n":{"zh-CN":{"description":"一个 Partition 名称列表。设置此参数表示搜索仅限于指定的 Partition。否则，搜索会在 Collection 中搜索所有 Partition。"}}},"consistencyLevel":{"type":"string","description":"The consistency level of the search operation. The value should be the same as the consistency level of the target collection.","x-i18n":{"zh-CN":{"description":"当前搜索操作的一致性级别。"}},"enum":["Strong","Eventually","<include target=\"milvus\">Session</include>","Bounded"],"default":"Bounded"},"exprParams":{"type":"object","description":"A set of key-value pairs that can be filled back in to the `filter` parameter to enable filtering templating. For details, refer to <include target=\"milvus\">[Filtering Templating](https://milvus.io/docs/filtering-templating.md)</include><include target=\"zilliz\">[Filter Templating](/docs/filtering-templating)</include>.","x-i18n":{"description":"一组键值对，可以回填 `filter` 字段中的变量，以启用过滤表达式模板。详情请参阅<include target=\"milvus\">[Filtering Templating](https://milvus.io/docs/filtering-templating.md)</include><include target=\"zilliz\">[Filter Templating](/docs/filtering-templating)</include>."}},"functionScore":{"type":"object","description":"Function settings for the current search request.","x-i18n":{"zh-CN":{"description":"当前搜索请求的 Function 设置。"}},"properties":{"name":{"type":"string","description":"The name of the function to apply.","x-i18n":{"zh-CN":{"description":"待应用的 Function 名称。"}}},"description":{"type":"string","description":"The description of the function to apply.","x-i18n":{"zh-CN":{"description":"待应用的 Function 描述。"}}},"type":{"type":"string","description":"The type of the function to apply.","x-i18n":{"zh-CN":{"description":"待应用的 Function 类型。"}},"enum":["BM25","TEXTEMBEDDING","RERANK"]},"inputFieldNames":{"type":"array","description":"A list of scalar fields to use as input for the function.","x-i18n":{"zh-CN":{"description":"作为 Function 输入的标量字段名称列表。"}},"items":{"type":"string","description":"A scalar field to use as input for the function.","x-i18n":{"zh-CN":{"description":"作为 Function 输入的一个标量字段名称。"}}}},"outputFieldNames":{"type":"array","description":"A list of vector fields to use as output for the function.","x-i18n":{"zh-CN":{"description":"作为 Function 输出的向量字段名称列表。"}},"items":{"type":"string","description":"A vector field to use as output for the function.","x-i18n":{"zh-CN":{"description":"作为 Function 输出的一个向量字段名称。"}}}},"params":{"type":"object","description":"Extra parameters for the function in key-value pairs.","x-i18n":{"zh-CN":{"description":"Function 附加参数，以键值对形式提供。"}}}}},"params":{"type":"object","description":"Extra parameters for the search in key-value pairs.","x-i18n":{"zh-CN":{"description":"搜索附加参数，以键值对形式提供。"}}}},"required":["collectionName","data","annsField"]},"example":{"collectionName":"quick_setup","data":[[0.3580376395471989,-0.6023495712049978,0.18414012509913835,-0.26286205330961354,0.9029438446296592]],"annsField":"vector","limit":3,"outputFields":["color"]}}}},"responses":{"200":{"description":"Returns the search results.","x-i18n":{"zh-CN":{"description":"返回搜索结果。"}},"content":{"application/json":{"schema":{"anyOf":[{"type":"object","x-tab-label":"success","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"data":{"type":"array","description":"A list of entity objects.","x-i18n":{"zh-CN":{"description":"搜索结果，为一组 Entity 对象。"}},"items":{"type":"object","description":"An entity object.","x-i18n":{"zh-CN":{"description":"一个返回的 Entity 对象。"}},"properties":{}}}}},{"x-tab-label":"failure","description":"Returns an error message.","x-i18n":{"zh-CN":{"description":"返回错误消息。"}},"x-i18n-langs":["zh-CN"],"type":"object","properties":{"code":{"type":"integer","description":"Response code.","x-i18n":{"zh-CN":{"description":"响应码。"}}},"message":{"type":"string","description":"Error message.","x-i18n":{"zh-CN":{"description":"错误描述。"}}}}}]},"examples":{"1":{"summary":"success","x-target-response":"OPTION 1","value":{"code":0,"data":[{"color":"orange_6781","distance":1,"id":448300048035776800},{"color":"red_4794","distance":0.9353201,"id":448300048035776800},{"color":"grey_8510","distance":0.7733054,"id":448300048035776800}]}},"2":{"summary":"failure","x-target-response":"OPTION 2","value":{"code":1800,"message":"User hasn't authenticated"}}}}}}},"security":[]}
export const endpoint = "/v2/vectordb/entities/search"
export const method = "post"
