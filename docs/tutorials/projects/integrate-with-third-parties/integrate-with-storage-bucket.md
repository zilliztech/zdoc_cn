---
title: "é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ | Cloud"
slug: /integrate-with-storage-bucket
sidebar_label: "é˜¿é‡Œäº‘ OSS"
beta: FALSE
added_since: FALSE
last_modified: FALSE
deprecate_since: FALSE
notebook: FALSE
description: "Zilliz Cloud æ”¯æŒä¸é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ OSS é›†æˆï¼Œå°†å¤‡ä»½æ–‡ä»¶å¯¼å‡ºåˆ°æŒ‡å®šçš„ OSS å­˜å‚¨æ¡¶ã€‚ | Cloud"
type: origin
token: IwAbwxWzQiGVc0khATdcOoCbnCg
sidebar_position: 1
keywords: 
  - å‘é‡æ•°æ®åº“
  - zilliz
  - milvus
  - å¤§æ¨¡å‹å‘é‡æ•°æ®åº“
  - å¤‡ä»½
  - å¯¼å‡ºå¤‡ä»½
  - export backup
  - export backup to bucket
  - é…ç½®å¯¹è±¡å­˜å‚¨

---

import Admonition from '@theme/Admonition';


# é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨

Zilliz Cloud æ”¯æŒä¸é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ OSS é›†æˆï¼Œå°†å¤‡ä»½æ–‡ä»¶å¯¼å‡ºåˆ°æŒ‡å®šçš„ OSS å­˜å‚¨æ¡¶ã€‚

<Admonition type="info" icon="ğŸ“˜" title="è¯´æ˜">

<p>æ­¤åŠŸèƒ½ä»…é™<strong>ä¼ä¸šç‰ˆ</strong>é¡¹ç›®ä¸­çš„ <strong>Dedicated</strong> é›†ç¾¤ä½¿ç”¨ã€‚</p>

</Admonition>

![GPQdwo63IhxSjqbk9vkcdZQXngM](/img/GPQdwo63IhxSjqbk9vkcdZQXngM.png)

## å¼€å§‹å‰\{#before-you-start}

- è¦å°† Zilliz Cloud ä¸é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ OSS é›†æˆï¼Œæ‚¨éœ€è¦æ‹¥æœ‰**ç»„ç»‡ç®¡ç†å‘˜**æˆ–**é¡¹ç›®ç®¡ç†å‘˜**æƒé™ã€‚å¦‚æœæ‚¨æƒé™ä¸è¶³ï¼Œè¯·è”ç³» Zilliz Cloud ç®¡ç†å‘˜ã€‚

- æ‚¨éœ€è¦å…·å¤‡é˜¿é‡Œäº‘ **RAM ç®¡ç†å‘˜**æƒé™ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ [RAM åŸºæœ¬æ¦‚å¿µ](https://help.aliyun.com/zh/ram/product-overview/terms)ã€‚

## æ­¥éª¤ 1ï¼šé›†æˆåŸºç¡€è®¾ç½®\{#step-1-start-integration-on-zilliz-cloud}

1. ç™»å½• [Zilliz Cloud æ§åˆ¶å°](https://cloud.zilliz.com.cn/login)ã€‚

1. è¿›å…¥ç›®æ ‡é¡¹ç›®ï¼Œç‚¹å‡»å·¦ä¾§å¯¼èˆªæ çš„**é›†æˆä¸­å¿ƒ**ã€‚

1. åœ¨**é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆOSSï¼‰**åŒºåŸŸï¼Œç‚¹å‡» **+ æ·»åŠ é…ç½®**ã€‚

1. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼Œå®ŒæˆåŸºç¡€è®¾ç½®ï¼š

    - **é…ç½®åç§°**ï¼šä¸ºæ­¤é›†æˆè®¾ç½®ä¸€ä¸ªå”¯ä¸€åç§°ï¼ˆå¦‚ï¼š`bucket_for_backup`ï¼‰ã€‚

    - **é…ç½®æè¿°**ï¼ˆå¯é€‰ï¼‰ï¼šä¸ºæ­¤é›†æˆæ·»åŠ æè¿°ï¼ˆå¦‚ï¼š`for export backup file`ï¼‰ã€‚

1. ç»§ç»­æ‰§è¡Œ[æ­¥éª¤ 2](./integrate-with-storage-bucket)ã€‚

![integrate-with-oss-1](/img/integrate-with-oss-1.png)

## æ­¥éª¤ 2ï¼šè®¾ç½® OSS å­˜å‚¨ç©ºé—´\{#step-2-create-s3-bucket}

1. ç™»å½• [OSS ç®¡ç†æ§åˆ¶å°](https://oss.console.aliyun.com/)ã€‚

1. åœ¨å·¦ä¾§å¯¼èˆªæ ï¼Œå•å‡» **Bucket åˆ—è¡¨ï¼Œ**ç„¶åå•å‡»**åˆ›å»º Bucket**ã€‚

1. åœ¨**åˆ›å»º Bucket** é¢æ¿ï¼ŒæŒ‰å¦‚ä¸‹è¯´æ˜é…ç½®å„é¡¹å‚æ•°ã€‚

    1. **Bucket åç§°**ï¼šä¸ºæ‚¨çš„ OSS å­˜å‚¨ç©ºé—´è®¾ç½®ä¸€ä¸ªå”¯ä¸€åç§°ã€‚

    1. **åœ°åŸŸ**ï¼šæŒ‡å®šå­˜å‚¨ç©ºé—´æ‰€åœ¨çš„äº‘åœ°åŸŸã€‚æ³¨æ„ï¼Œå­˜å‚¨ç©ºé—´æ‰€åœ¨åœ°åŸŸå¿…é¡»å’Œç›®æ ‡ Zilliz Cloud é›†ç¾¤æ‰€åœ¨çš„åœ°åŸŸç›¸åŒã€‚æœ‰å…³ Zilliz Cloud æ”¯æŒçš„äº‘åœ°åŸŸï¼Œè¯·å‚è€ƒ[äº‘æœåŠ¡æä¾›å•†å’Œåœ°åŸŸ](./cloud-providers-and-regions)ã€‚

    1. å…¶ä»–è®¾ç½®å¯ä»¥ä¿æŒé»˜è®¤ã€‚é…ç½®å®Œæˆåï¼Œç‚¹å‡»**å®Œæˆåˆ›å»º**ã€‚

    æœ‰å…³æ›´å¤šåˆ›å»ºä¿¡æ¯ï¼Œè¯·å‚è€ƒ[å¦‚ä½•åˆ›å»ºå­˜å‚¨ç©ºé—´](https://help.aliyun.com/zh/oss/user-guide/create-a-bucket-4)ã€‚

1. è¿”å› [Zilliz Cloud æ§åˆ¶å°](https://cloud.zilliz.com.cn/login)ã€‚åœ¨**åˆ›å»º OSS å­˜å‚¨ç©ºé—´ï¼ˆBucketï¼‰**æ­¥éª¤ä¸­ï¼Œé€‰æ‹©åˆšæ‰åˆ›å»ºçš„ **Bucket åç§°** å’Œ **Bucket åœ°åŸŸ**ã€‚ç„¶åç»§ç»­æ‰§è¡Œ[æ­¥éª¤ 3](./integrate-with-storage-bucket)ã€‚

![integrate-with-oss-2](/img/integrate-with-oss-2.png)

## æ­¥éª¤ 3ï¼šåˆ›å»ºæƒé™ç­–ç•¥\{#step-3-create-iam-policy}

è¦ä½¿ Zilliz Cloud è®¿é—® OSS å­˜å‚¨ç©ºé—´ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªæƒé™ç­–ç•¥ã€‚è¯¥ç­–ç•¥åº”åŒ…å«å¿…è¦çš„æ“ä½œæƒé™å’Œèµ„æºï¼Œç¡®ä¿ Zilliz Cloud èƒ½é¡ºåˆ©åœ°ä¸æ‚¨çš„å­˜å‚¨ç©ºé—´è¿›è¡Œå¤‡ä»½æ–‡ä»¶çš„ä¼ è¾“ã€‚

ä¸ºæ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥ä½¿ç”¨è„šæœ¬ç¼–è¾‘å™¨æ¥åˆ›å»ºæƒé™ç­–ç•¥ã€‚

1. åœ¨ [RAM æ§åˆ¶å°](https://ram.console.aliyun.com/)ï¼Œé€‰æ‹©**æƒé™ç®¡ç† > æƒé™ç­–ç•¥**ã€‚

1. åœ¨**æƒé™ç­–ç•¥**é¡µé¢ï¼Œå•å‡»**åˆ›å»ºæƒé™ç­–ç•¥**ã€‚

1. åœ¨**åˆ›å»ºæƒé™ç­–ç•¥**é¡µé¢ï¼Œå•å‡»**è„šæœ¬ç¼–è¾‘**é¡µç­¾ã€‚

1. å°† Zilliz Cloud æä¾›çš„ç­–ç•¥å†…å®¹å¤åˆ¶å¹¶ç²˜è´´åˆ°è„šæœ¬ç¼–è¾‘å™¨ä¸­ã€‚
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬ç­–ç•¥ã€‚å…·ä½“çš„ç­–ç•¥å†…å®¹ï¼Œè¯·ä»¥ Zilliz Cloud æ§åˆ¶å°ä¸­**åˆ›å»ºæƒé™ç­–ç•¥ï¼ˆRAM Policyï¼‰**æ­¥éª¤æä¾›çš„å†…å®¹ä¸ºå‡†ã€‚

    ```json
    {
      "Version": "1",
      "Statement": [
        {
          "Effect": "Allow",
          "Action": [
            "oss:ListObjects",
            "oss:GetObject",
            "oss:PutObject",
            "oss:GetBucketLocation",
            "oss:HeadBucket"
          ],
          "Resource": [
            "acs:oss:oss-*:*:$bucket",
            "acs:oss:oss-*:*:$bucket/*"
          ]
        }
      ]
    }
    ```

    <Admonition type="info" icon="ğŸ“˜" title="è¯´æ˜">

    <p><code>#bucket</code> åº”æ›¿æ¢ä¸ºæ‚¨å®é™…çš„ OSS å­˜å‚¨ç©ºé—´åç§°ã€‚</p>

    </Admonition>

1. åœ¨**åˆ›å»ºæƒé™ç­–ç•¥**é¡µé¢ï¼Œå•å‡»**ç¡®å®š**ã€‚

1. åœ¨**åˆ›å»ºæƒé™ç­–ç•¥**å¯¹è¯æ¡†ï¼Œè¾“å…¥æƒé™ç­–ç•¥**åç§°**å’Œ**å¤‡æ³¨**ï¼Œç„¶åå•å‡»**ç¡®å®š**ã€‚

![integrate-with-oss-3](/img/integrate-with-oss-3.png)

## æ­¥éª¤ 4ï¼šåˆ›å»º RAM è§’è‰²\{#step-4-create-iam-role}

åˆ›å»º RAM è§’è‰²ï¼Œå¹¶å°†[æ­¥éª¤ 3](./integrate-with-storage-bucket) ä¸­å®šä¹‰çš„æƒé™ç­–ç•¥èµ‹äºˆè¯¥è§’è‰²ã€‚

1. åœ¨  [RAM æ§åˆ¶å°](https://ram.console.aliyun.com/)ï¼Œé€‰æ‹©**è§’è‰²** > **åˆ›å»ºè§’è‰²**ã€‚

1. åœ¨**åˆ›å»ºè§’è‰²**é¡µé¢ï¼Œé€‰æ‹©å¯ä¿¡å®ä½“ç±»å‹ä¸º**é˜¿é‡Œäº‘è´¦å·**ï¼Œç„¶åå•å‡»**ä¸‹ä¸€æ­¥**ã€‚

1. è®¾ç½®è§’è‰²ä¿¡æ¯å¹¶å•å‡»**å®Œæˆ**ã€‚æœ‰å…³è¯¦ç»†é…ç½®ï¼Œè¯·å‚è€ƒ[åˆ›å»ºå¯ä¿¡å®ä½“ä¸ºé˜¿é‡Œäº‘è´¦å·çš„RAMè§’è‰²](https://help.aliyun.com/zh/ram/user-guide/create-a-ram-role-for-a-trusted-alibaba-cloud-account)ã€‚

1. åœ¨**åˆ›å»ºå®Œæˆ**æ­¥éª¤ï¼Œç‚¹å‡»**ä¸ºè§’è‰²æˆæƒ**ã€‚

1. åœ¨è§’è‰²è¯¦æƒ…é¡µé¢ï¼Œå¤åˆ¶è§’è‰² **ARN**ï¼Œå¹¶å°†è¯¥ ARN å¡«å…¥ Zilliz Cloud æ§åˆ¶å°ä¸­**åˆ›å»º RAM è§’è‰²**æ­¥éª¤çš„ **è§’è‰² ARN** å­—æ®µã€‚

    ![integrate-with-oss-4](/img/integrate-with-oss-4.png)

1. åœ¨è§’è‰²è¯¦æƒ…é¡µé¢çš„**æƒé™ç®¡ç†**é¡µç­¾ï¼Œé€‰æ‹©**æ–°å¢æˆæƒ**ã€‚

1. åœ¨å¼¹å‡ºçš„**æ–°å¢æˆæƒ**é¢æ¿ï¼Œæœç´¢å¹¶é€‰æ‹©[æ­¥éª¤ 3](./integrate-with-storage-bucket) ä¸­åˆ›å»ºçš„æƒé™ç­–ç•¥ï¼Œç„¶åç‚¹å‡»**ç¡®è®¤æ–°å¢æˆæƒ**ï¼Œæœ€åå•å‡»**å…³é—­**ã€‚

1. åœ¨è§’è‰²è¯¦æƒ…é¡µé¢çš„**ä¿¡ä»»ç­–ç•¥**é¡µç­¾ï¼Œç¼–è¾‘ä¿¡ä»»ç­–ç•¥ã€‚å°† Zilliz Cloud æ§åˆ¶å°æä¾›çš„ JSON è§’è‰²ä¿¡ä»»ç­–ç•¥å¤åˆ¶å¹¶ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­ã€‚

    ä»¥ä¸‹æ˜¯ç¤ºä¾‹è§’è‰²ä¿¡ä»»ç­–ç•¥ã€‚å…·ä½“çš„ç­–ç•¥å†…å®¹ï¼Œè¯·ä»¥ Zilliz Cloud æ§åˆ¶å°ä¸­**åˆ›å»ºæƒé™ç­–ç•¥ï¼ˆRAM Policyï¼‰**æ­¥éª¤æä¾›çš„å†…å®¹ä¸ºå‡†ã€‚

    ```json
    {
      "Statement": [
        {
          "Action": "sts:AssumeRole",
          "Condition": {
            "StringEquals": {
              "sts:ExternalId": "zilliz-data-service"
            }
          },
          "Effect": "Allow",
          "Principal": {
            "RAM": [
              "acs:ram::1541183371417731:root"
            ]
          }
        }
      ],
      "Version": "1"
    }
    ```

1. ç‚¹å‡»**ä¿å­˜ä¿¡ä»»ç­–ç•¥**ã€‚ç„¶åç»§ç»­æ‰§è¡Œ[æ­¥éª¤ 5](./integrate-with-storage-bucket)ã€‚

    ![integrate-with-oss-5](/img/integrate-with-oss-5.png)

## æ­¥éª¤ 5ï¼šæ ¡éªŒå¹¶åˆ›å»ºé›†æˆ\{#step-5-validate-and-create-integration}

1. åœ¨ [Zilliz Cloud æ§åˆ¶å°](https://cloud.zilliz.com.cn/login)ï¼Œç‚¹å‡»**æ ¡éªŒé›†æˆ**ï¼ŒéªŒè¯å½“å‰é…ç½®çš„å­˜å‚¨ç©ºé—´å’Œ RAM è§’è‰²æ˜¯å¦æœ‰æ•ˆã€‚

1. æ ¡éªŒé€šè¿‡åï¼Œç‚¹å‡»**åˆ›å»º**ã€‚

ä¹‹åæ‚¨ä¾¿å¯ä»¥å°†å¤‡ä»½æ–‡ä»¶å¯¼å‡ºåˆ°æ‚¨çš„é˜¿é‡Œäº‘ OSSã€‚æœ‰å…³å¯¼å‡ºçš„å…·ä½“æ­¥éª¤ï¼Œè¯·å‚è€ƒ[å¯¼å‡ºå¤‡ä»½æ–‡ä»¶](./export-backup-files)ã€‚

## ç®¡ç†é›†æˆ\{#manage-integrations}

é›†æˆæ·»åŠ å®Œæˆåï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å…¶è¯¦ç»†ä¿¡æ¯æˆ–æ ¹æ®éœ€è¦åˆ é™¤è¯¥é›†æˆã€‚

![integrate-with-oss-6](/img/integrate-with-oss-6.png)

### è·å–é›†æˆ ID\{#obtain-the-integration-id}

å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨ RESTful API æ¥å£å¯¼å‡ºæ–‡ä»¶åˆ°æ‚¨é›†æˆåˆ° Zilliz Cloud çš„å¯¹è±¡å­˜å‚¨æ¡¶ä¸­ï¼Œæ‚¨å¯ä»¥å•å‡»**æŸ¥çœ‹è¯¦æƒ…**æŸ¥çœ‹è¯¥å¯¹è±¡å­˜å‚¨æ¡¶çš„é›†æˆè¯¦æƒ…å¹¶å¤åˆ¶è¯¥æ¡¶çš„é›†æˆ IDã€‚

